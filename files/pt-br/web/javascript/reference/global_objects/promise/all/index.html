---
title: Promise.all()
slug: Web/JavaScript/Reference/Global_Objects/Promise/all
tags:
  - ECMAScript 2015
  - ECMAScript6
  - JavaScript
  - Method
  - Promise
translation_of: Web/JavaScript/Reference/Global_Objects/Promise/all
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects">Standard built-in objects</a></strong></li><li><strong><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Métodos</strong></a><ol><li><em><code>Promise.all()</code></em></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled"><code>Promise.allSettled()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/any"><code>Promise.any()</code></a> <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/any$translate" style="opacity: 0.5;">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>Promise.prototype.catch()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally"><code>Promise.prototype.finally()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>Promise.prototype.then()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/race"><code>Promise.race()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject"><code>Promise.reject()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve"><code>Promise.resolve()</code></a></li></ol></li><li><strong>Herança:</strong></li><li><strong><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Propriedades</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a></li></ol></li><li><a href="#"><strong>Métodos</strong></a><ol><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a></s></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a></li></ol></li><li><strong><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Propriedades</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li><a href="#"><strong>Métodos</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></s></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li></ol></li></ol></section></div>

<p>O método <code><strong>Promise.all(iterable)</strong></code> retorna uma única <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> que resolve quando todas as promises no argumento iterável forem resolvidas ou quando o iterável passado como argumento não contém promises. É rejeitado com o motivo da primeira promise que foi rejeitada.</p>

<p><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/promise-all.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></p>

<div class="hidden">
<p>A fonte para essa demonstração interativa está em um repositório no GitHub. Se você quiser contribuir para esse projeto de demonstrações iterativas, por favor, clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> e envienos um pull request.</p>
</div>

<h2 id="Sintaxe">Sintaxe</h2>

<pre class="syntaxbox notranslate"><var>Promise.all(iterable)</var>;</pre>

<h3 id="Parâmetros">Parâmetros</h3>

<dl>
 <dt>iterable</dt>
 <dd>Um objeto <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Iteration_protocols">iterável</a>, como um <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> ou <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a>.</dd>
</dl>

<h3 id="Retorno">Retorno</h3>

<ul>
 <li>Uma <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a><strong> já resolvida</strong> se o iterável passado for vazio.</li>
 <li>Uma <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> <strong>resolvida assíncronamente</strong> se o iterável passado não conter promises. Nota, Google Chrome 58 retorna uma promise <strong>já resolvida</strong> nesse caso.</li>
 <li>Uma <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> <strong>pendente</strong> em todos os outros casos. Essa promise retornada é então resolvida/rejeitada <strong>assíncronamente</strong> (tão logo a pilha esteja vazia) quando todas as promises no dado iterável forem resolvidas, ou se alguma das promises for rejeitada. Veja o exemplo sobre &quot;Assincronia ou sincronia da Promise.all&quot; abaixo. Os valores retornados estarão na ordem em que as promises foram passadas. independentemente da ordem em que forem concluídas.</li>
</ul>

<h2 id="Descrição">Descrição</h2>

<p>Esse método pode ser usado para agregar resultados de várias promises.</p>

<h3 id="Resolução">Resolução</h3>

<p>A promise retornada é resolvida com um array contendo <strong>todos</strong> os valores dos iteráveis passados como argumento (como valores que não são promises).</p>

<ul>
 <li>Se um iterável vazio é passado, então esse método retorna (sincronamente) uma promise já resolvida.</li>
 <li>Se todas as promises passadas forem resolvidas, ou não forem promises, a promise retornada por <code>Promise.all</code> é resolvida assincronamente.</li>
</ul>

<h3 id="Rejeição">Rejeição</h3>

<p>Se qualquer uma das promises passadas for rejeitada, <code>Promise.all</code> assíncronamente é rejeitada com o valor da promise rejeitada, independentemente se outras promises foram resolvidas.</p>

<h2 id="Exemplos">Exemplos</h2>

<h3 id="Utilizando_Promise.all">Utilizando Promise.all </h3>

<p><code>Promise.all</code> espera que todas as promises sejam resolvidas (ou a primeira rejeição).</p>

<pre class="notranslate"><code class="language-js">var p1 = Promise.resolve(3);
var p2 = 1337;
var p3 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve(&quot;foo&quot;);
  }, 100);
});

Promise.all([p1, p2, p3]).then(valores=&gt; {
  console.log(valores); // [3, 1337, &quot;foo&quot;]
});</code>
</pre>

<p>Se o iterável conter valores que não são promises, eles serão ignorados, mas ainda serão contados no array da promise retornada (se a promise for resolvida):</p>

<pre class="notranslate"><code class="language-js">// Essa será considerada como se o iterável passado fosse vazio, logo ela será resolvido
var p = Promise.all([1,2,3]);
// Essa será considerada como se o iterável passado contém apenas a promise resolvida com o valor &quot;444&quot;, logo ela é resolvida
var p2 = Promise.all([1,2,3, Promise.resolve(444)]);
// Esse será considerada como se o iterável passado contém apenas o valor de rejeição &quot;555&quot; da promise, logo ela é rejeitada
var p3 = Promise.all([1,2,3, Promise.reject(555)]);

// Utilizando setTimeout para executar código depois que a pilha estiver vazia
setTimeout(function() {
    console.log(p);
    console.log(p2);
    console.log(p3);
});

// logs
// Promise { &lt;estado&gt;: &quot;resolvida&quot;, &lt;valor&gt;: Array[3] }
// Promise { &lt;estado&gt;: &quot;resolvida&quot;, &lt;valor&gt;: Array[4] }
// Promise { &lt;estado&gt;: &quot;rejeitada&quot;, &lt;razão&gt;: 555 }</code>
</pre>

<h3 id="Assincronia_ou_sincronia_da_Promise.all">Assincronia ou sincronia da Promise.all</h3>

<p>O exemplo a seguir demonstra a assincronia (ou sincronia, se o iterável passado for fazio) de <code>Promise.all</code>:</p>

<pre class="notranslate"><code class="language-js">// Passamos o argumento como um array de promises que já estão resolvidas para disparar Promise.all a mais rápido possível
var arrayPromisesResolvidas = [Promise.resolve(33), Promise.resolve(44)];

var p = Promise.all(arrayPromisesResolvidas);
// Logando imediatamente o valor de p
console.log(p);

// Utilizando setTimeout para executar código depois que a pilha estiver vazia
setTimeout(function() {
    console.log(&apos;a pilha está vazia agora&apos;);
    console.log(p);
});

// logs, em ordem:
// Promise { &lt;estado&gt;: &quot;pendente&quot; }
// a pilha está vazia agora
// Promise { &lt;estado&gt;: &quot;resolvida&quot;, &lt;valor&gt;: Array[2] }</code>
</pre>

<p>A mesma coisa acontece se <code>Promise.all</code> for rejeitada:</p>

<pre class="notranslate"><code class="language-js">var arrayPromisesMisturadas = [Promise.resolve(33), Promise.reject(44)];
var p = Promise.all(arrayPromisesMisturadas);
console.log(p);
setTimeout(function() {
    console.log(&apos;a pilha está vazia agora&apos;);
    console.log(p);
});

// logs
// Promise { &lt;estado&gt;: &quot;pendente&quot; }
// a pilha está vazia agora
// Promise { &lt;estado&gt;: &quot;rejeitada&quot;, &lt;razão&gt;: 44 }</code>
</pre>

<p>Mas, <code>Promise.all</code> resolve sincromamente <strong>se e somente se</strong> o iterável passado for vazio:</p>

<pre class="notranslate"><code class="language-js">var p = Promise.all([]); // será resolvida imediatamente
var p2 = Promise.all([1337, &quot;oi&quot;]); // um valor que não é uma promise será ignorado, mas a avaliação será feita assíncronamente
console.log(p);
console.log(p2)
setTimeout(function() {
    console.log(&apos;a pilha está vazia agora&apos;);
    console.log(p2);
});

// logs
// Promise { &lt;estado&gt;: &quot;resolvida&quot;, &lt;valor&gt;: Array[0] }
// Promise { &lt;estado&gt;: &quot;pendente&quot; }
// a pilha está vazia agora
// Promise { &lt;estado&gt;: &quot;resolvida&quot;, &lt;valor&gt;: Array[2] }</code>
</pre>

<h3 id="Comportamente_de_falhar_rapidamente_de_Promise.all">Comportamente de falhar rapidamente de Promise.all</h3>

<p><code>Promise.all</code> é rejeitada se qualquer um dos elementos for rejeitado. Por exemplo, se você passar quartro promises que resolvem após um intervalo de tempo e uma promise que rejeita imediatamente, então <code>Promise.all</code> será rejeitada imediatamente.</p>

<pre class="notranslate"><code class="language-js">var p1 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve(&apos;um&apos;), 1000);
});
var p2 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve(&apos;dois&apos;), 2000);
});
var p3 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve(&apos;três&apos;), 3000);
});
var p4 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve(&apos;quatro&apos;), 4000);
});
var p5 = new Promise((resolve, reject) =&gt; {
  reject(new Error(&apos;rejeitada&apos;));
});


// Usando .catch:
Promise.all([p1, p2, p3, p4, p5])
.then(valores =&gt; {
  console.log(valores);
})
.catch(erro =&gt; {
  console.log(erro.message)
});

// No console:
// &quot;rejeitada&quot;</code>
</pre>

<p>É possível mudar esse comportamente lidando com possíveis rejeições:</p>

<pre class="brush: js line-numbers language-js notranslate"><code class="language-js">var p1 = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve(&apos;p1_resolução_atrasada&apos;), 1000);
});

var p2 = new Promise((resolve, reject) =&gt; {
  reject(new Error(&apos;p2_rejeição_imediata&apos;));
});

Promise.all([
  p1.catch(erro =&gt; { return erro }),
  p2.catch(erro =&gt; { return erro }),
]).then(valores =&gt; {
  console.log(valores[0]) // &quot;p1_resolução_atrasada&quot;
  console.log(valores[1]) // &quot;Erro: p2_rejeição_imediata&quot;
})</code></pre>

<h2 id="Especificações">Especificações</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Especificação</th>
   <th scope="col">Status</th>
   <th scope="col">Comentário</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-promise.all" hreflang="en" lang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="pt-BR">The definition of &apos;Promise.all&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Padrão</span></td>
   <td>
    <p>Definição inicial em um padrão ECMA.</p>
   </td>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-promise.all" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="pt-BR">The definition of &apos;Promise.all&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Padrão em tempo real</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilidade_com_browsers">Compatibilidade com browsers</h2>

<div class="hidden">
<p>Para contribuir para esse dado de compatibilidade, por favor, escreva um pull request para o repositório: <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a>.</p>
</div>

<div class="bc-data" id="bcd:javascript.builtins.Promise.all"></div>

<h2 id="Veja_também">Veja também</h2>

<ul>
 <li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></li>
 <li><a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/race"><code>Promise.race()</code></a></li>
</ul>
