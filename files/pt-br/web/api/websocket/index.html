---
title: WebSocket
slug: Web/API/WebSocket
tags:
  - API
  - WebSocket
  - WebSockets
translation_of: Web/API/WebSocket
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/pt-BR/docs/Web/API/WebSocket"><code>WebSocket</code></a></strong></li><li class="toggle"><details open><summary>Construtor</summary><ol><li><a href="/pt-BR/docs/Web/API/WebSocket/WebSocket"><code>WebSocket()</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/WebSocket$translate">[Traduzir]</a></li></ol></details></li><li class="toggle"><details open><summary>Propriedades</summary><ol><li><a href="/pt-BR/docs/Web/API/WebSocket/binaryType"><code>binaryType</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/binaryType$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/bufferedAmount"><code>bufferedAmount</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/bufferedAmount$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/extensions"><code>extensions</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/extensions$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/onclose"><code>onclose</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/onclose$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/onerror"><code>onerror</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/onerror$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/onmessage"><code>onmessage</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/onmessage$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/onopen"><code>onopen</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/onopen$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/protocol"><code>protocol</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/protocol$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/readyState"><code>readyState</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/readyState$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/url"><code>url</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/url$translate">[Traduzir]</a></li></ol></details></li><li class="toggle"><details open><summary>Métodos</summary><ol><li><a href="/pt-BR/docs/Web/API/WebSocket/close"><code>close()</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/close$translate">[Traduzir]</a></li><li><a href="/pt-BR/docs/Web/API/WebSocket/send"><code>send()</code></a> <a style="opacity: 0.5;" href="/pt-BR/docs/Web/API/WebSocket/send$translate">[Traduzir]</a></li></ol></details></li><li class="toggle"><details open><summary>Herança:</summary><ol><li><a href="/pt-BR/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span> <strong>Esta é uma <a href="/pt-BR/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">tecnologia experimental</a></strong><br>Verifique a <a href="#Compatibilidade_de_navegadores">tabela de compatibilidade entre Navegadores</a> cuidadosamente antes de usar essa funcionalidade em produção.</p>
</div></div>

<p>O objeto <code>WebSocket</code> provê uma API para criação e gerenciamento de uma conexão <a href="/en-US/docs/Web/API/WebSockets_API">WebSocket</a> com um servidor, bem como o envio e recebimento de dados através dessa conexão.</p>

<p>O construtor do WebSocket aceita um parâmetro obrigatório e um opcional:</p>

<pre class="syntaxbox">WebSocket WebSocket(
  in DOMString url,
  in optional DOMString protocols
);

WebSocket WebSocket(
  in DOMString url,
  in optional DOMString[] protocols
);
</pre>

<dl>
 <dt><code>url</code></dt>
 <dd>A URL da devida conexão; esta deve ser a URL da qual o servidor WebSocket irá responder.</dd>
 <dt><code>protocols</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Um único protocolo em formato texto ou uma lista de textos de protocolo. Estes textos são usados para indicar sub-protocolos, assim então um único servidor pode implementar múltiplos sub-protocolos WebSocket (por exemplo, você pode querer um servidor capaz de manipular diferentes tipos de interações dependendo do protocolo especificado). se você não especificar um protocolo em texto, será assumido um texto vazio.</dd>
</dl>

<p>O construtor pode lançar exceções:</p>

<dl>
 <dt><code>SECURITY_ERR</code></dt>
 <dd>A porta a qual a conexão está sendo executada está bloqueada.</dd>
</dl>

<h2 id="Visão_Geral_do_método">Visão Geral do método</h2>

<table style="color: #3b3c40; font-size: 14px; font-weight: normal;" class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#close()">close</a>(É opcional: unsigned long code, É opcional: DOMString reason);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#send()">send</a>(in DOMString data);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Atributos">Atributos</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attributo</td>
   <td class="header">Tipo</td>
   <td class="header">Descrição</td>
  </tr>
  <tr>
   <td><code>binaryType</code></td>
   <td><a href="/pt-BR/docs/Web/API/DOMString" title="DOMString é uma String UTF-16. Como o JavaScript já usa tais strings, uma DOMString é mapeada diretamente a uma String."><code>DOMString</code></a></td>
   <td>
    <p>Uma string indica o tipo de dado binário que está sendo transmitido pela conexão. Este deve ser tanto &quot;blob&quot; se o objeto DOM <a href="/pt-BR/docs/Web/API/Blob" title="Um objeto Blob representa um objeto do tipo arquivo, com  dados brutos imutáveis. Blobs representam dados que não estão necessariamente em um formato JavaScript nativo. A interface File é baseada no Blob, herdando funcionalidade blob e expandindo-o para suportar arquivos no sistema do usuário."><code>Blob</code></a> estiver sendo usado ou &quot;arraybuffer&quot; se os objetos <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" title="O ArrayBuffer é um tipo de dado usado para representar um genérico, buffer de dados binários de tamanho fixo. Você não pode manipular diretamente os conteúdos de um ArrayBuffer;  em vez disso, você cria um objeto ArrayBufferView que representa o buffer em um formato específico, e usa para ler e escrever os conteúdos do buffer."><code>ArrayBuffer</code></a> estiver sendo usada</p>
   </td>
  </tr>
  <tr>
   <td><code>bufferedAmount</code></td>
   <td><code>unsigned long</code></td>
   <td>
    <p>O número de bites de dados que tem sid consultado usando chamadas para <code><a href="https://developer.mozilla.org/pt-BR/docs/Web/API/WebSocket#send()">send()</a></code> mas não ainda para a rede.Estes valor reseta para zero uma vez que todos os dados tem sido mandados.Este valor não reseta para zero quando a conexão está fechada, se você continuar chamando <code><a href="https://developer.mozilla.org/pt-BR/docs/Web/API/WebSocket#send()">send()</a></code>, isto continuará escalando. <strong>Leitura online</strong></p>
   </td>
  </tr>
  <tr>
   <td><code>extensions</code></td>
   <td><a href="/pt-BR/docs/Web/API/DOMString" title="DOMString é uma String UTF-16. Como o JavaScript já usa tais strings, uma DOMString é mapeada diretamente a uma String."><code>DOMString</code></a></td>
   <td>As extensões selecionadas pelo servidor. Este é atualmente apenas a string vazia ou uma lista de extensões negociadas pela conexão.</td>
  </tr>
  <tr>
   <td><code>onclose</code></td>
   <td><a href="/pt-BR/docs/Web/API/EventListener" title="Este método é chamado sempre que ocorrer o evento para qual a interface do  EventListener for registrada."><code>EventListener</code></a></td>
   <td>Um event listener para ser chamado quando o <code> readyState </code> da conexão do WebSocket mudar para <code> CLOSED </code>. O listener recebe um <a href="/en-US/docs/Web/API/CloseEvent"><code>CloseEvent </code></a>&quot;close&quot;.</td>
  </tr>
  <tr>
   <td><code>onerror</code></td>
   <td><a href="/pt-BR/docs/Web/API/EventListener" title="Este método é chamado sempre que ocorrer o evento para qual a interface do  EventListener for registrada."><code>EventListener</code></a></td>
   <td>Um event listener para ser chamado quando ocorrer um erro. Este é um evento simples chamado &quot;erro&quot;.</td>
  </tr>
  <tr>
   <td><code>onmessage</code></td>
   <td><a href="/pt-BR/docs/Web/API/EventListener" title="Este método é chamado sempre que ocorrer o evento para qual a interface do  EventListener for registrada."><code>EventListener</code></a></td>
   <td>Um event listener para ser chamado quando uma mensagem é recebida do servidor. O listener recebe um <a href="/en-US/docs/Web/API/MessageEvent"><code>MessageEvent</code></a> &quot;message&quot;.</td>
  </tr>
  <tr>
   <td><code>onopen</code></td>
   <td><a href="/pt-BR/docs/Web/API/EventListener" title="Este método é chamado sempre que ocorrer o evento para qual a interface do  EventListener for registrada."><code>EventListener</code></a></td>
   <td>Um event listener para ser chamado quando o <code> readyState </code> da conexão do WebSocket mudar para <code> OPEN </code>, isso indica que a conexão está pronta para enviar e receber dados. O evento é simples, com o nome &quot;open&quot;.</td>
  </tr>
  <tr>
   <td><code>protocol</code></td>
   <td><a href="/pt-BR/docs/Web/API/DOMString" title="DOMString é uma String UTF-16. Como o JavaScript já usa tais strings, uma DOMString é mapeada diretamente a uma String."><code>DOMString</code></a></td>
   <td>Uma sequência de caracteres que indica o nome do sub-protocolo selecionado pelo servidor, este será um dos parâmetros especificados no <code>protocolo</code> ao criar o objeto WebSocket.</td>
  </tr>
  <tr>
   <td><code>readyState</code></td>
   <td><code>unsigned short</code></td>
   <td>O estado atual da conexão, este é um dos <a href="#Ready_state_constants">Ready state constants</a>. <strong>Apenas leitura.</strong></td>
  </tr>
  <tr>
   <td><code>url</code></td>
   <td><a href="/pt-BR/docs/Web/API/DOMString" title="DOMString é uma String UTF-16. Como o JavaScript já usa tais strings, uma DOMString é mapeada diretamente a uma String."><code>DOMString</code></a></td>
   <td>O URL resolvido pelo construtor. Este é sempre um URL absoluto. <strong>Apenas leitura.</strong></td>
  </tr>
 </tbody>
</table>

<h2 id="Constantes">Constantes</h2>

<h3 id="Estados_de_constantes_prontas">Estados de constantes prontas</h3>

<p>Essas constantes são usadas pelo atributo <code> readyState </code> para descrever o estado da conexão do WebSocket.</p>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constante</td>
   <td class="header">Valor</td>
   <td class="header">Descrição</td>
  </tr>
  <tr>
   <td><code>CONNECTING</code></td>
   <td><code>0</code></td>
   <td>A conexão ainda não está aberta.</td>
  </tr>
  <tr>
   <td><code>OPEN</code></td>
   <td><code>1</code></td>
   <td>A conexão está aberta e pronta para se comunicar.</td>
  </tr>
  <tr>
   <td><code>CLOSING</code></td>
   <td><code>2</code></td>
   <td>A conexão está em processo de fechamento.</td>
  </tr>
  <tr>
   <td><code>CLOSED</code></td>
   <td><code>3</code></td>
   <td>A conexão está fechada ou não foi possível abrir.</td>
  </tr>
 </tbody>
</table>

<h2 id="Métodos">Métodos</h2>

<h3 id="close()">close()</h3>

<p>Fecha a conexão do WebSocket ou a tentativa de conexão, se houver. Se a conexão já for <code> CLOSED </code>, este método não faz nada.</p>

<pre class="syntaxbox">void close(
  É opcional: unsigned short code,
  É opcional: DOMString reason
);
</pre>

<h4 id="Parametros">Parametros</h4>

<dl>
 <dt><code>code</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Um valor numérico que indica o código de status explicando por que a conexão está sendo fechada. Se esse parâmetro não for especificado, é assumido um valor padrão de 1000 (indicando um fechamento &quot;completo da transação&quot;). Veja a <a href="/en-US/docs/Web/API/CloseEvent#Status_codes">lista de status de códigos</a> na <a href="/en-US/docs/Web/API/CloseEvent"><code>CloseEvent</code></a> página de valores permitidos.</dd>
 <dt><code>reason</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Uma string legível para humanos que explica por que a conexão está se fechando. Esta seqüência de caracteres não deve ter mais de 123 bytes de texto UTF-8 (<strong>não</strong> caracteres).</dd>
</dl>

<h4 id="Exceções_lançadas">Exceções lançadas</h4>

<dl>
 <dt><code>INVALID_ACCESS_ERR</code></dt>
 <dd>Foi especificado um <code>código</code>inválido.</dd>
 <dt><code>SYNTAX_ERR</code></dt>
 <dd>A string <code> reason  é muito longa ou contém substitutos não comparados.</code></dd>
</dl>

<div class="note">
<p><code><strong>Note:</strong> No Gecko, este método não suporta nenhum parâmetro antes do Gecko 8.0 (Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5).</code></p>
</div>

<h3 id="send()"><code>send()</code></h3>

<p><code>Transmite dados para o servidor através da conexão WebSocket.</code></p>

<pre class="syntaxbox"><code>
void send(
  in DOMString data
);

void send(
  in ArrayBuffer data
);

void send(
  in Blob data
);
</code></pre>

<h4 id="Parametros_2"><code>Parametros</code></h4>

<dl>
 <dt><code><code>data</code></code></dt>
 <dd><code>Uma sequência de texto para enviar para o servidor.</code></dd>
</dl>

<h4 id="Exceções_lançadas_2"><code>Exceções lançadas</code></h4>

<dl>
 <dt><code><code>INVALID_STATE_ERR</code></code></dt>
 <dd><code>A conexão não está atualmente <code> OPEN </code>.</code></dd>
 <dt><code><code>SYNTAX_ERR</code></code></dt>
 <dd><code>Os dados são uma string que tem substituto não comparado.</code></dd>
</dl>

<div class="note">
<p><code><strong>Nota:</strong> A implementação do método <code> send () </code> de Gecko difere um pouco da especificação em <span title="(Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)">Gecko 6.0</span>. Gecko retorna um <code> boolean </code> indicando se a conexão ainda está aberta (por extensão, ou os dados estão em fila ou transmitidos com sucesso). Isso é corrigido em <span title="(Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)">Gecko 8.0</span>.</code></p>

<p><code>A partir de <span title="(Firefox 11.0 / Thunderbird 11.0 / SeaMonkey 2.8)">Gecko 11.0</span>, o suporte para <a href="/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" title="O ArrayBuffer é um tipo de dado usado para representar um genérico, buffer de dados binários de tamanho fixo. Você não pode manipular diretamente os conteúdos de um ArrayBuffer;  em vez disso, você cria um objeto ArrayBufferView que representa o buffer em um formato específico, e usa para ler e escrever os conteúdos do buffer."><code>ArrayBuffer</code></a> está implementado, mas não <a href="/pt-BR/docs/Web/API/Blob" title="Um objeto Blob representa um objeto do tipo arquivo, com  dados brutos imutáveis. Blobs representam dados que não estão necessariamente em um formato JavaScript nativo. A interface File é baseada no Blob, herdando funcionalidade blob e expandindo-o para suportar arquivos no sistema do usuário."><code>Blob</code></a> tipos de dados.</code></p>
</div>

<h2 id="Especificações"><code>Especificações</code></h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th><code>Especificações</code></th>
   <th><code>Status</code></th>
   <th><code>Comentário</code></th>
  </tr>
  <tr>
   <td><code><a lang="en" class="external" hreflang="en">Unknown<br><small lang="pt-BR">The definition of &apos;WebSocket&apos; in that specification.</small></a></code></td>
   <td><code><span class="spec-">Desconhecido</span></code></td>
   <td><code>Definição inicial</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Navegador_Compatível"><code>Navegador Compatível</code></h2>

<div><code><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">Estamos convertendo nossos dados de compatibilidade para o formato JSON</a></strong>.
            Esta tabela de compatibilidade ainda usa o formato antigo,
            pois ainda não convertemos os dados que ela contém.
            <strong><a href="/pt-BR/docs/MDN/Contribute/Structures/Compatibility_tables">Descubra como você pode ajudar!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Dispositivo móvel</a></li>
    </ul>
</div></code></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th><code>Características</code></th>
   <th><code>Chrome</code></th>
   <th><code>Firefox (Gecko)</code></th>
   <th><code>Internet Explorer</code></th>
   <th><code>Opera</code></th>
   <th><code>Safari</code></th>
  </tr>
  <tr>
   <td><code>Suporte básico</code></td>
   <td><code><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></code></td>
   <td><code><a href="/en-US/Firefox/Releases/4" title="Released on 2011-03-22.">4.0</a> (2.0)<sup>[1]</sup></code></td>
   <td><code><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></code></td>
   <td><code><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
  </tr>
  <tr>
   <td><code>Suporte sub-protocolo</code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><a href="/en-US/Firefox/Releases/6" title="Released on 2011-08-16.">6.0</a> (6.0)</code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th><code>Características</code></th>
   <th><code>Android</code></th>
   <th><code>Firefox Mobile (Gecko)</code></th>
   <th><code>IE Mobile</code></th>
   <th><code>Opera Mobile</code></th>
   <th><code>Safari Mobile</code></th>
  </tr>
  <tr>
   <td><code>Suporte básico</code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code>7.0 (7.0)<sup>[1]</sup></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
  </tr>
  <tr>
   <td><code>Suporte sub-protocolo</code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code>7.0 (7.0)</code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
   <td><code><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></code></td>
  </tr>
 </tbody>
</table>
</div>

<p><code>[1] Iniciado no Gecko 6.0 (Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3), o construtor está prefixado. Você precisará usar <code> MozWebSocket() </code>: <code> var mySocket = new MozWebSocket(&quot;http://www.example.com/socketserver&quot;); </code></code></p>

<p><code>As extensões atribuídas não eram suportadas no Gecko até Gecko 8.0.</code></p>

<p><code>Antes do Gecko 11.0 (Firefox 11.0 / Thunderbird 11.0 / SeaMonkey 2.8), as mensagens de saída enviadas usavam o método <a href="#send()"> send()</a>, eram limitadas a 16MB. Agora elas podem ter até 2GB de tamanho.</code></p>

<h2 id="Veja_também"><code>Veja também</code></h2>

<ul>
 <li><code><a href="/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications">Escrevendo aplicativos clientes do WebSocket</a></code></li>
</ul>
