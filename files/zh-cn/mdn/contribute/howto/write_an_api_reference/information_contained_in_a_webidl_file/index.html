---
title: Information contained in a WebIDL file
slug: >-
  MDN/Contribute/Howto/Write_an_API_reference/Information_contained_in_a_WebIDL_file
translation_of: >-
  MDN/Contribute/Howto/Write_an_API_reference/Information_contained_in_a_WebIDL_file
---
<div>
<p><font><font></font></font></p><section class="Quick_links" id="Quick_Links"><font><font>
  <ol>
    <li class="toggle">
        <details>
            <summary>关于 MDN</summary>
            <ol>
              <li><a href="/zh-CN/docs/MDN/About">关于 MDN</a></li>
              <li><a href="/zh-CN/docs/MDN/About/Reading">MDN guide for readers</a></li>
              <li><a href="/zh-CN/docs/MDN/About/Promote">推广MDN</a></li>
              <li><a href="/zh-CN/docs/MDN/Feedback">Send feedback about MDN</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>初识MDN</summary>
            <ol>
              <li><a href="/zh-CN/docs/MDN/Getting_started">初识MDN</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>为 MDN 做贡献</summary>
            <ol>
                <li><a href="/zh-CN/docs/MDN/Contribute">为 MDN 做贡献</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Howto">MDN 使用指南</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Localize">MDN 本地化</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Editor">MDN 编辑指南</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Tools">MDN 工具</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Guidelines">Guidelines</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Processes">Work processes</a></li>
                <li><a href="/zh-CN/docs/MDN/Contribute/Structures">文档结构</a></li>
             </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Kuma: MDN 的 wiki 平台</summary>
            <ol>
              <li><a href="/zh-CN/docs/MDN/Kuma">Kuma: MDN 的 wiki 平台</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
      <details>
          <summary>加入 MDN 社区</summary>
          <ol>
            <li><a href="/zh-CN/docs/MDN/Community">加入 MDN 社区</a></li>
          </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
          <summary>文档翻译进度</summary>
          <ol>
            <li><a href="/zh-CN/docs/MDN/Doc_status">文档翻译进度</a></li>
            <li><a href="/zh-CN/docs/MDN/Doc_status/Overview">翻译进度概览</a></li>
          </ol>
      </details>
    </li>
  </ol>
</font></font></section><p></p>

<p><font><font>在编写有关API的文档时，信息来源很多：规范描述了应该实现的内容以及模型，实现描述了实际放在浏览器中的内容。</font><font>WebIDL文件是一种非常简洁的方式，可以提供很多（但不是全部）有关API的信息。</font><font>本文档提供了有助于理解WebIDL语法的参考。</font></font></p>

<p><font><font>IDL代表</font></font><em><strong><font><font>接口定义语言</font></font></strong></em><font><font>，它用于描述API。</font><font>在更广泛的计算领域，有几种IDL。</font><font>在浏览器领域，我们使用的IDL称为</font></font><em><font><font>WebIDL</font></font></em><font><font>。</font><font>有两种WebIDL可用：WebIDL规范中给出的一种，以及在浏览器中实现的一种。</font><font>规范是规范引用，浏览器WebIDL描述了在特定浏览器中实际实现的内容，并包含其他内容，例如注释和有关非标准元素的信息。</font></font></p>
</div>

<p> </p>

<h2 id="在哪里可以找到WebIDL文件"><font><font>在哪里可以找到WebIDL文件</font></font></h2>

<p><font><font>WebIDL可以在多个位置找到：</font></font></p>

<ul>
 <li><font><font>每个规范在文本中都包含WebIDL：它是一种传达精确定义的非常方便的方法。</font><font>这些描述了API的语法。</font><font>虽然是规范参考，但我们必须记住，它们可能与实际实施不同。</font><font>在MDN上，我们希望实用并记录Web平台的真正含义，而不是理想应该是什么。</font><font>因此，请仔细检查实现中的内容（如果发现错误，请不要犹豫，立即提交）。</font></font></li>
 <li><font><font>三个浏览器引擎使用（修改）WebIDL作为其工具链的一部分：Gecko，Chromium / Blink和WebCore / WebKit。</font><font>Edge在内部使用它，但遗憾的是它们不公开（它会帮助我们很多）。</font></font>
  <ul>
   <li><font><font>对于Gecko，所有WebIDL文件都分组在一个目录中：</font></font><a href="https://dxr.mozilla.org/mozilla-central/source/dom/webidl/">https://dxr.mozilla.org/mozilla-central/source/dom/webidl/</a><font><font> </font></font></li>
   <li><font><font>他们的延伸是</font></font><code>.webidl</code><font><font>。</font></font><code>*.idl</code><font><font>Gecko源代码树中</font><font>还有其他  </font><font>文件，但它们不是WebIDL，因此您可以忽略它们。</font><font>旧版本的Gecko有一些WebIDL分散在某些地方，甚至可能使用Mozilla的IDL而不是WebIDL来描述一些Web界面，但这在任何最近的Gecko代码中都不会成为问题。</font></font></li>
   <li><font><font>对于Chromium，它们分散在源代码中，所以你需要多花点功夫：例如</font></font><a href="http://src.chromium.org/viewvc/blink/trunk/Source/modules/mediastream/MediaStream.idl"><font><font>http://src.chromium.org/viewvc/blink/trunk/Source/modules/mediastream/MediaStream.idl</font></font></a></li>
   <li><font><font>同样，WebCore正如预期的那样，因为Chromium是从它分叉出来的，例如</font></font><a href="https://github.com/WebKit/webkit/blob/master/Source/WebCore/html/DOMTokenList.idl"><font><font>https://github.com/WebKit/webkit/blob/master/Source/WebCore/html/DOMTokenList.idl</font></font></a> </li>
  </ul>
 </li>
</ul>

<h2 id="Different_dialects_of_WebIDL">Different dialects of WebIDL</h2>

<p>WebIDL is defined in <a href="https://heycam.github.io/webidl/">its specification</a>. But it has been designed to be extended to convey more information, and browser vendors have done so:</p>

<ul>
 <li>For Gecko, MDN has the <a href="/en-US/docs/Mozilla/WebIDL_bindings">documentation</a> of its dialectal WebIDL.</li>
 <li>For Chromium, Google also created a <a href="https://www.chromium.org/blink/webidl">document</a> to describe its extensions.</li>
 <li>For WebCore, Apple also made available a <a href="https://trac.webkit.org/wiki/WebKitIDL">page</a> for its dialect.</li>
</ul>

<div class="note notecard">
<p>We describe here only the subset of WebIDL which is most useful when writing documentation. There are many more annotations useful for implementers; refer to the four documents linked above to have a complete overview.</p>
</div>

<h2 id="Interfaces">Interfaces</h2>

<p>This section explains the WebIDL syntax that describes overall API features.</p>

<h3 id="Name_of_the_interface">Name of the interface</h3>

<p>The interface name is the string that appears after the keyword <code>interface</code><em> </em>and before the next opening bracket (<code>&apos;{&apos;</code>) or colon (<code>&apos;:&apos;</code>).</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>interface</strong> URL {};</span></pre>

<p>Each WebIDL interface, being a true interface or a mixin, has its own page in the documentation, listing every constructor, property and method defined for it.</p>

<h3 id="Inheritance_chain">Inheritance chain</h3>

<p>The parent, if any, of a given interface is defined after the interface name, following a colon (<code>&apos;:&apos;</code>). There can be only one parent per interface.</p>

<pre lang="en" class="syntaxbox"><span id="the-code">interface HTMLMediaElement : <strong>HTMLElement</strong> {…}</span></pre>

<p><span>The inheritance chain is listed automatically in the sidebar (using the {{APIRef}} macro). It can also be added as an SVG image via the macro {{InheritanceDiagram}}.</span></p>

<h3 id="Mixins">Mixins</h3>

<p>Some properties or methods are available to several interfaces. To prevent redefinition they are defined in special WebIDL interfaces called <em>mixins</em>. In the WebIDL, they are prefixed using the <code>[NoInterfaceObject]</code> annotation. The name of a mixin, <code>Body</code> in the following example, doesn&apos;t appear in JavaScript.</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[NoInterfaceObject]</strong>
   <strong>interface</strong> Body {…}</span></pre>

<p>For documentation purposes, we create a mixin page, with the same structure as an interface page. As they are not true interfaces, the word <em>interface</em> is not used — <em>mixin</em> is used instead.</p>

<p>Mixin methods and properties are listed in the same way as regular methods and properties:</p>

<ul>
 <li>They have their own pages, prefixed with the mixin name. E.g <a href="/zh-CN/docs/Web/API/Body/bodyUsed"><code>Body.bodyUsed</code></a> or <a href="/zh-CN/docs/Web/API/Body/blob"><code>Body.blob()</code></a>.</li>
 <li>They are listed on the interface page when the interface <em>implements</em> the mixin. Unlike regular properties and methods, they are prefixed with the mixin name and not the interface name. You can see <code>Body</code> properties and methods listed on both <a href="/zh-CN/docs/Web/API/Request"><code>Request</code></a> and <a href="/zh-CN/docs/Web/API/Response"><code>Response</code></a> interfaces, as they both implement the <code>Body</code> mixin.</li>
</ul>

<p>Mixins implemented on an interface are defined using the <code>implements</code> keyword.</p>

<pre lang="en" class="syntaxbox"><span id="the-code">Request <strong>implements</strong> Body;
Response <strong>implements</strong> Body;</span></pre>

<div class="note notecard">
<p><span><strong>Note:</strong> Mixin names do not appear in a Web developer console. We shouldn&apos;t show them, but we currently do this as it saves us from duplicating content, which would lead to a maintenance issue. We do this if the mixin is only used in one interface (such cases are bugs in the relevant specs — they shouldn&apos;t be defined as mixins, but as partial interfaces.)</span></p>
</div>

<h3 id="Availability_in_workers"><span>Availability in workers</span></h3>

<p>Availability in Web workers (of any type) and on the Window scope is defined using an annotation: <code>[Exposed=(Window,Worker)]</code>. The annotation applies to the partial interface it is listed with. If no annotation is available, the default value is <code>Window</code>.</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[Exposed=(Window,Worker)]</strong>
interface Performance {
   [DependsOn=DeviceState, Affects=Nothing]<a href="http://mxr.mozilla.org/mozilla-central/source/dom/webidl/Performance.webidl#19" class="l d1">
</a>   DOMHighResTimeStamp now();
};</span>

<strong>[Exposed=Window]</strong>
partial interface Performance {
   [Constant]
   readonly attribute PerformanceTiming timing;
   [Constant]
   readonly attribute PerformanceNavigation navigation;

   jsonifier;
};</pre>

<p>In this case <code>Performance.now()</code> is available on the <code>Window</code> scope and to any worker, while <code>Performance.timing</code>, <code>Performance.navigation</code> and <code>Performance.toJSON()</code> are not available to Web workers.</p>

<p>The most common values for the <code>[Exposed]</code> are:</p>

<dl>
 <dt><code>Window</code></dt>
 <dd>The partial interface is available to the <a href="/zh-CN/docs/Web/API/Window" title="The window object represents a window containing a DOM document; the document property points to the DOM document loaded in that window."><code>Window</code></a> global scope.</dd>
 <dt><code>Worker</code></dt>
 <dd>The partial interface is available to any kind of worker, that is if the global scope is a descendant of <a href="/zh-CN/docs/Web/API/WorkerGlobalScope" title="The WorkerGlobalScope interface of the Web Workers API is an interface representing the scope of any worker. Workers have no browsing context; this scope contains the information usually conveyed by Window objects — in this case event handlers, the console or the associated WorkerNavigator object. Each WorkerGlobalScope has its own event loop."><code>WorkerGlobalScope</code></a> — <a href="/zh-CN/docs/Web/API/DedicatedWorkerGlobalScope" title="该 DedicatedWorkerGlobalScope 对象(也就是 Worker 全局作用域)可以通过 self关键字来访问 。也可以在这上面使用一些不直接与该worker全局作用域相关的全局函数,命名空间对象以及构造器，相关信息可以参见 JavaScript Reference。更多内容参考: Functions available to workers。"><code>DedicatedWorkerGlobalScope</code></a>, <a href="/zh-CN/docs/Web/API/SharedWorkerGlobalScope" title="SharedWorkerGlobalScope对象 (SharedWorker全局作用域)可以通过 self 关键字来获取. 某些被列举在 JavaScript Reference中可用的全局方法、命名空间对象和构造方法通常不能被worker的全局作用域所使用但是却依赖于它。查看workers的完整functions列表."><code>SharedWorkerGlobalScope</code></a>, or <a href="/zh-CN/docs/Web/API/ServiceWorkerGlobalScope" title="The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker."><code>ServiceWorkerGlobalScope</code></a> (It also is available to <code>ChromeWorker</code>, but we don&apos;t document this as they are not visible on the Web and are internal to Firefox.)</dd>
 <dt><code>DedicatedWorker</code></dt>
 <dd>The partial interface is available to the <a href="/zh-CN/docs/Web/API/DedicatedWorkerGlobalScope" title="该 DedicatedWorkerGlobalScope 对象(也就是 Worker 全局作用域)可以通过 self关键字来访问 。也可以在这上面使用一些不直接与该worker全局作用域相关的全局函数,命名空间对象以及构造器，相关信息可以参见 JavaScript Reference。更多内容参考: Functions available to workers。"><code>DedicatedWorkerGlobalScope</code></a> only.<code> </code></dd>
 <dt><code>SharedWorker</code></dt>
 <dd>The partial interface is available to the <a href="/zh-CN/docs/Web/API/SharedWorkerGlobalScope" title="SharedWorkerGlobalScope对象 (SharedWorker全局作用域)可以通过 self 关键字来获取. 某些被列举在 JavaScript Reference中可用的全局方法、命名空间对象和构造方法通常不能被worker的全局作用域所使用但是却依赖于它。查看workers的完整functions列表."><code>SharedWorkerGlobalScope</code></a> only.</dd>
 <dt><code>ServiceWorker</code></dt>
 <dd>The partial interface is available to the <a href="/zh-CN/docs/Web/API/ServiceWorkerGlobalScope" title="The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker."><code>ServiceWorkerGlobalScope</code></a> only.</dd>
</dl>

<p>Another value is possible, like <code>System</code>, but this has a <a href="/en-US/docs/Mozilla/WebIDL_bindings#Exposed">special meaning</a> and doesn&apos;t need to be documented.</p>

<p>Note that these possible values are themselves defined in WebIDL files. Interfaces may have a <code>[Global=xyz]</code> annotation. It means that when an object of this type is used as a global scope, any interface, property or method, with <code>xyz</code> as a value of <code>[Exposed]</code> is available.</p>

<pre lang="en" class="syntaxbox"><span id="the-code">[Global=(Worker,DedicatedWorker), Exposed=DedicatedWorker]
interface DedicatedWorkerGlobalScope : WorkerGlobalScope {…}</span></pre>

<p>Here, it is defined that when the global scope is of type <code>DedicatedWorkerGlobalScope</code>, that is if we are in a dedicated worker, any interface, property or method exposed – using the <code>[Exposed]</code> annotation – to <code>Worker</code> or <code>DedicatedWorker</code> is available.</p>

<p>Even the primary global is defined in WebIDL. The primary global is the value of an <code>[Exposed]</code> annotation when not present. This is defined using the <code>[PrimaryGlobal]</code> annotation and is present on <a href="/zh-CN/docs/Web/API/Window" title="The window object represents a window containing a DOM document; the document property points to the DOM document loaded in that window."><code>Window</code></a>:</p>

<pre lang="en" class="syntaxbox"><span id="the-code">[PrimaryGlobal, NeedResolve]
/*sealed*/ interface Window : EventTarget {…}</span></pre>

<h3 id="Preferences">Preferences</h3>

<div class="note notecard">
<p><strong>Note:</strong> this information is specific to Gecko and should only be used in the Browser compatibility section.</p>
</div>

<p>In Gecko, the availability of a partial interface, including its constructor, properties and methods may be controlled by a preference (usually called a &quot;pref&quot;). This is marked in the WebIDL too.</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[Pref=&quot;media.webspeech.synth.enabled&quot;]</strong>
interface SpeechSynthesis {
   readonly attribute boolean pending;
   readonly attribute boolean speaking;
   readonly attribute boolean paused;
};</span></pre>

<p><span>Here <code>media.webspeech.synth.enabled</code> controls the <code>SpeechSynthesis</code> interface and its properties (the full listing has more than 3.)</span></p>

<div class="note notecard">
<p><span><strong>Note:</strong> the default value of the preference is not available directly in the WebIDL (it can be different from one product using Gecko to another.)</span></p>
</div>

<h2 id="Properties">Properties</h2>

<p>You can recognize the definition of a property by the presence of the <code>attribute</code> keyword.</p>

<h3 id="Name_of_the_property">Name of the property</h3>

<pre lang="en" class="syntaxbox"><span id="the-code">readonly attribute MediaError? <strong>error</strong>;</span></pre>

<p>In the above example the name of the property is <code>error</code>; in the docs we will refer to it as <code>HTMLMediaElement.error</code> as it belongs to the <code>HTMLMediaElement</code> interface. Linking to the page is either done <strong>with</strong> the interface prefix using {{domxref(&apos;HTMLMediaElement.error&apos;)}} or <strong>without</strong> the prefix using {{domxref(&apos;HTMLMediaElement.error&apos;, &apos;error&apos;)}} when the context is obvious and unambiguous.</p>

<h3 id="Type_of_the_property">Type of the property</h3>

<pre class="syntaxbox"><span id="the-code">readonly attribute <strong>MediaError?</strong> error;</span></pre>

<p><span>The property value is an object of type <code>MediaError</code>. The question mark (<code>&apos;?&apos;</code>) indicates that it can take a value of <code>null</code>, and the documentation must explain <em>when</em> this may occur. If no question mark is present, the <code>error</code> property can&apos;t be <code>null</code>.</span></p>

<h3 id="Writing_permissions_on_the_property"><span>Writing permissions on the property</span></h3>

<pre class="syntaxbox"><span id="the-code"><strong>readonly</strong> attribute MediaError? error;</span></pre>

<p><span>If the keyword <code>readonly</code> is present, the property can&apos;t be modified. It must be marked as read-only:</span></p>

<ul>
 <li><span>In the interface, by adding the {{ReadOnlyInline}} macro next to its definition term.</span></li>
 <li><span>In the first sentence of its own page, by starting the description with: <em>The read-only <code><strong>HTMLMediaElement.error</strong></code> property…</em></span></li>
 <li><span>By adding the <code>Read-only</code> tag to its own page.</span></li>
 <li><span>By starting its description in the interface page with <em>Returns…</em></span></li>
</ul>

<div class="note notecard">
<p><span><em><strong>Note:</strong> Only read-only properties can be described as &apos;returning&apos; a value. Non read-only properties can also be used to set a value.</em></span></p>
</div>

<ul>
</ul>

<h3 id="Throwing_exceptions">Throwing exceptions</h3>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[SetterThrows]</strong>
            attribute DOMString src;</span></pre>

<p><span>In some cases, like when some values are illegal, setting a new value can lead to an exception being raised. This is marked using the <code>[SetterThrows]</code> annotation. When this happens, the Syntax section of the property page <em>must</em> have an Exceptions subsection. The list of exceptions and the conditions to have them thrown are listed, as textual information, in the specification of that API.</span></p>

<p><span>Note that some exceptions are not explicitly marked but are defined by the JavaScript bindings. <a href="http://heycam.github.io/webidl/#es-enumeration">Trying to set an illegal enumerated value</a> (mapped to a JavaScript <a href="/zh-CN/docs/Web/JavaScript/Reference/String" title="此页面仍未被本地化, 期待您的翻译!"><code>String</code></a>) raises a <a href="/zh-CN/docs/Web/API/DOMException#exception-TypeError"><code>TypeError</code></a> exception. This must be documented, but is only implicitly marked in the WebIDL document.</span></p>

<p><span>It is uncommon to have getters throwing exceptions, though it happens in a few cases. In this case the <code>[GetterThrows]</code> annotation is used. Here also, the Syntax section of the property page <em>must</em> have an Exceptions subsection.</span></p>

<pre class="syntaxbox"><code id="line-16">partial interface Blob {</code><code id="line-17">
</code><code id="line-18">  <strong>[GetterThrows]</strong>
</code><code id="line-19">  readonly attribute <span class="k">unsigned</span> <span class="k">long</span> <span class="k">long</span> size;
};</code>
</pre>

<h3 id="Not_throwing_exceptions">Not throwing exceptions</h3>

<p>When the semantics of Webidl is not followed, an exception is often thrown, even without <code>[SetterThrows]</code> or <code>[GetterThrows]</code> set. For example, in strict mode, if we try to set a read-only property to a new value, that is to call its implicit setter, a read-only property will throw in strict mode.</p>

<p>Mostly for compatibility purpose, this behavior is sometimes annoying. To prevent this by creating a no-op setter (that is by silently ignoring any attempt to set the property to a new value), the <code>[LenientSetter]</code> annotation can be used.</p>

<pre class="syntaxbox"><code id="line-223">partial interface Document {</code><code id="line-225"><span class="c">
</span></code><code id="line-226"><strong>  [LenientSetter]</strong>
</code><code id="line-227">  readonly attribute boolean fullscreen;</code><code id="line-229">
</code><code id="line-230"><strong>  [LenientSetter]</strong>
</code><code id="line-231">  readonly attribute boolean fullscreenEnabled;
};</code>
</pre>

<p>In these cases, an extra sentence is added to the description of the property. E.g</p>

<p><em>Although this property is read-only, it will not throw if it is modified (even in strict mode); the setter is a no-operation and it will be ignored.</em></p>

<h3 id="New_objects_or_references"><span>New objects or references</span></h3>

<p><span>The return value of a property can be either a copy of an internal object, a newly created synthetic object, or a reference to an internal object.</span></p>

<p><span>Basic objects with types like <a href="/zh-CN/docs/Web/JavaScript/Reference/String" title="此页面仍未被本地化, 期待您的翻译!"><code>String</code></a> (being an IDL <code>DOMString</code>, or other), <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number" title="JavaScript 的 Number 对象是经过封装的能让你处理数字值的对象。Number 对象由 Number() 构造器创建。"><code>Number</code></a> (being an IDL <code>byte</code>, <code>octet</code>, <code>unsigned int</code>, or other), and <a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a> are always copied and nothing special has to be noted about them (it is natural behavior expected by a JavaScript developer.)</span></p>

<p><span>For interface objects, the default is to return a <em>reference</em> to the internal object. This has to be mentioned both in the short description in the interface page, and in the description in the specific sub-pages.</span></p>

<div class="note notecard">
<p><span><strong>Note:</strong> The keyword <code>readonly</code> used with a property returning an object applies to the <u>reference</u> (the internal object cannot be changed.) The properties of the returned object can be changed, even if they are marked as read-only in the relevant interface.</span></p>
</div>

<p>Sometimes an API must return a <em>new</em> object, or a <em>copy</em> of an internal one. This case is indicated in the WebIDL using the <code>[NewObject]</code> annotation.</p>

<pre lang="en" class="syntaxbox"><strong>[NewObject]</strong>
   readonly attribute TimeRanges buffered;</pre>

<p>In this case, each call to <code>buffered</code> returns a different object: changing it will not change the internal value, and a change in the internal value will not affect each object instance. In the documentation, we will mark it by using the adjective <em>new</em> next to object:</p>

<p><em>The <strong><code>HTMLMediaElement.buffered</code></strong> read-only property returns a new {{domxref(&quot;TimeRanges&quot;)}} object that… </em></p>

<p>and</p>

<dl>
 <dt><em>{{domxref(&quot;HTMLMediaElement.buffered&quot;)}}{{readonlyinline}}</em></dt>
 <dd><em>Returns a new {{domxref(&quot;TimeRanges&quot;)}} object that …</em></dd>
</dl>

<p>In the case of a reference to a collection object (like <code>HTMLCollection</code>, <code>HTMLFormElementsCollection</code>, or <code>HTMLOptionsCollection</code>, always without <code>[NewObject]</code>), we make it explicit that changes to the underlying object will be available via the returned reference. To mark this, we qualify the collection as a <strong>live </strong><code>HTMLCollection</code><strong> </strong>(or <code>HTMLFormElementsCollections</code>, or <code>HTMLOptionsCollection</code>), both in the interface description and in the subpage.</p>

<p>E.g.</p>

<dl>
 <dt>{{domxref(&quot;HTMLFormElement.elements&quot;)}}{{readonlyinline}}</dt>
 <dd>Returns a live {{domxref(&quot;HTMLFormControlsCollection&quot;)}} containing…</dd>
</dl>

<h3 id="Availability_in_workers_2"><span>Availability in workers</span></h3>

<p>Individual property availability in workers is also found in the WebIDL. For a property, the default is the same availability as the <code>interface</code> (that is available to <a href="/zh-CN/docs/Web/API/Window" title="The window object represents a window containing a DOM document; the document property points to the DOM document loaded in that window."><code>Window</code></a> context only if nothing special is marked) or as the <code>partial interface</code> it is defined in.</p>

<p>For documentation, the subpage must contain a sentence indicating if it is available or not in Web workers, right before the &quot;Syntax&quot; section.</p>

<h3 id="Preferences_2">Preferences</h3>

<div class="note notecard">
<p>This information is specific to Gecko and should only be used in the Browser compatibility section.</p>
</div>

<p>In Gecko, the availability of some properties may be controlled by a preference. This is marked in the WebIDL too.</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[Pref=&quot;media.webvtt.enabled&quot;]</strong>
    readonly attribute TextTrackList? textTracks;</span></pre>

<p><span>Here <code>media.webvtt.enabled</code> controls the <code>textTracks</code> property. </span></p>

<div class="note notecard">
<p><span>The default value of the preference is not available directly in the WebIDL (it can be different from one product using Gecko to another).</span></p>
</div>

<h2 id="Methods">Methods</h2>

<p>You can recognize the definition of a method by the presence of parentheses after the name.</p>

<h3 id="Name_of_the_method">Name of the method</h3>

<pre lang="en" class="syntaxbox"><span id="the-code">DOMString <strong>canPlayType</strong>(DOMString type);</span></pre>

<p>The name of the method is <code>canPlayType</code>, and we will refer to it as <code>HTMLMediaElement.canPlayType()</code> (with the parentheses that indicate that it is a method) in the docs, as it belongs to the <code>HTMLMediaElement</code> interface. Linking to the page is either done <strong>with</strong> the interface prefix using {{domxref(&apos;HTMLMediaElement.canPlayType()&apos;)}}, or <strong>without</strong> the prefix using {{domxref(&apos;HTMLMediaElement.canPlayType&apos;, &apos;canPlayType()&apos;)}} when the context is obvious and unambiguous. The parentheses should always be included.</p>

<h3 id="Parameters">Parameters</h3>

<pre class="syntaxbox"><span id="the-code">TextTrack addTextTrack(TextTrackKind <strong>kind</strong>,
                       optional DOMString <strong>label</strong> = &quot;&quot;,
                       optional DOMString <strong>language</strong> = &quot;&quot;);</span></pre>

<p>The parameters of a method are listed in the Syntax section of the method sub-page. They are listed in the WebIDL in order, between the parenthesis, as a comma-separated list. Each parameter has a name (indicated above) and a type (e.g. a <code>&apos;?&apos;</code> means that the <code>null</code> value is valid.) If marked <code>optional</code>, the parameter is optional to include in a method call and must have the {{OptionalInline}} flag included when it is listed in the Syntax section. The parameter&apos;s default value is listed after the equality sign (<code>&apos;=&apos;</code>).</p>

<h3 id="Type_of_the_return_value">Type of the return value</h3>

<pre lang="en" class="syntaxbox"><span id="the-code">DOMString <strong>canPlayType</strong>(DOMString type);</span></pre>

<p><span>The return value type is indicated first inside the parentheses — in the above case the value is an object of type <code>DOMString</code>. if followed by a question mark (<code>&apos;?&apos;</code>), a value of <code>null</code> can be returned too, and the documentation must explain <em>when</em> this may happen. If no question mark is present, like here,  the return value can&apos;t be <code>null</code>.</span></p>

<p><span>The keyword <code>void</code> means that there is no return value. It is not a return value type. If the WebIDL entry reads <code>void</code>, the <em>Return value</em> section in the docs should contain only a simple <em>None</em>.</span></p>

<h3 id="Throwing_exceptions_2">Throwing exceptions</h3>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[Throws]</strong>
   void fastSeek(double time);</span></pre>

<p><span>Some methods can throw exceptions. This is marked using the <code>[Throws]</code> annotation. When this happens, the Syntax section of the method page <em>must</em> have an Exceptions subsection. The list of exceptions and the conditions to have them thrown are listed, as textual information, in the specification of that API.</span></p>

<p><span>Note that some exceptions are not explicitly marked but are defined by the JavaScript bindings. <a href="http://heycam.github.io/webidl/#es-enumeration">Trying to set an illegal enumerated value</a> (mapped to a JavaScript <a href="/zh-CN/docs/Web/JavaScript/Reference/String" title="此页面仍未被本地化, 期待您的翻译!"><code>String</code></a>) as a parameter will raise a <a href="/zh-CN/docs/Web/API/DOMException#exception-TypeError"><code>TypeError</code></a> exception. This must be documented, but it is only implicitly marked in the WebIDL document.</span></p>

<p><span>Have a look at one of these <a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#Exceptions"><em>Exceptions</em> sections</a>.</span></p>

<h3 id="Availability_in_workers_3"><span>Availability in workers</span></h3>

<p>Individual method availability in workers is also found in the WebIDL. For a method, the default is the same availability as the <code>interface</code> (that is available to <a href="/zh-CN/docs/Web/API/Window" title="The window object represents a window containing a DOM document; the document property points to the DOM document loaded in that window."><code>Window</code></a> context only if nothing special is marked) or as the <code>partial interface</code> it is defined it.</p>

<p>For the documentation, the sub-page must contain a sentence indicating if it is available in Web workers, right before the Syntax section.</p>

<h3 id="Preferences_3">Preferences</h3>

<div class="note notecard">
<p><strong>Note:</strong> this information is specific to Gecko and should only be used in the Browser compatibility section.</p>
</div>

<p>In Gecko, the availability of some properties may be controlled by a preference. This is marked in the WebIDL too.</p>

<pre lang="en" class="syntaxbox"><span id="the-code"><strong>[Pref=&quot;media.webvtt.enabled&quot;]</strong>
   TextTrack addTextTrack(TextTrackKind kind,
                          optional DOMString label = &quot;&quot;,
                          optional DOMString language = &quot;&quot;);</span></pre>

<p><span>Here <code>media.webvtt.enabled</code> controls the <code>addTextTrack()</code> method. </span></p>

<div class="note notecard">
<p><span><strong>Note:</strong> The default value of the preference is not available directly in the WebIDL (it can be different from one product using Gecko to another.)</span></p>
</div>

<h3 id="sect1"> </h3>

<h2 id="Special_methods">Special methods</h2>

<p>Some methods are not listed as regular methods in WebIDL but instead as special keywords, which translate to specific standard JavaScript methods.</p>

<h3 id="toString()_and_toJSON()">toString() and toJSON()</h3>

<p>A stringifier is mapped to <code>toString()</code> and defined as:</p>

<pre class="syntaxbox"><strong><span id="the-code">stringifier;</span></strong></pre>

<p>The <code>toString()</code> method is listed just like any other method of the interface and has its own sub-page (E.g. <a href="/zh-CN/docs/Web/API/Range/toString" title="此页面仍未被本地化, 期待您的翻译!"><code>Range.toString()</code></a>)</p>

<p>A jsonifier is mapped to <code>toJSON()</code> and defined as:</p>

<pre lang="en" class="syntaxbox"><strong><span id="the-code">jsonifier; </span></strong><span>// Gecko version</span><strong><span>
serializer;</span></strong><span> // Standard version</span>
</pre>

<p>The <code>toJSON()</code> method is listed just like any other method of the interface and has its own sub-page (E.g. <a href="/zh-CN/docs/Web/API/Performance/toJSON" title="此页面仍未被本地化, 期待您的翻译!"><code>Performance.toJSON()</code></a>)</p>

<div class="note notecard">
<p><strong>Note:</strong> the WebIDL specification uses <code>serializer</code> instead of <code>jsonifier</code>. This is not used in Gecko — only the non-standard likely early proposal <code>jsonifier</code> is found in mozilla-central.</p>
</div>

<p> </p>

<h3 id="Iterator-like_methods">Iterator-like methods</h3>

<p>An interface may be defined as <em>iterable</em>, meaning that it will have the following methods: <code>entries()</code>, <code>keys()</code>, <code>values()</code> and <code>forEach()</code>. They also supports the use of <a href="/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of" title="for...of语句在可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句"><code>for...of</code></a> on an object implementing this interface.</p>

<p>There are two kinds of iteration possible: the <em>value iterator</em> and the <em>pair iterator.</em></p>

<h4 id="Value_iterator">Value iterator</h4>

<pre class="syntaxbox">iterable&lt;<em>valueType</em>&gt;</pre>

<p>The iterator will iterate over values of type <em>valueType</em>. The generated methods will be:</p>

<ul>
 <li><code>entries()</code>, which returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the indexes (that are <code>unsigned long</code>).</li>
 <li><code>values()</code>, which returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the values.</li>
 <li><code>keys()</code>, which returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the keys, that are its indexes (that are <code>unsigned long</code>). In the case of value iterators, <code>keys()</code> and <code>entries()</code> are identical.</li>
 <li><code>forEach()</code>, which returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the keys that calls a given callback function one for each entry in the list.</li>
</ul>

<p>Such an iterator allows to use the syntax <code>for (var p in object)</code> as a shorthand of <code>for (var p in object.entries())</code>. We add a sentence about it in the interface description.</p>

<div class="note notecard">
<p><strong>Note:</strong> the value pairs to iterate over can be defined in two different ways:</p>

<ol>
 <li>Outside the webidl file, in the prose accompanying it. Such a prose is in the spec and usually starts with: <em>&quot;The <a href="https://heycam.github.io/webidl/#dfn-values-to-iterate-over" class="external">values to iterate over</a>…&quot;</em>.</li>
 <li>In the webidl file, implicitly, if the interface supports indexed properties, that is when the interface has a <code>getter</code> methods with a parameter of type <code>unsigned long</code>.</li>
</ol>
</div>

<h4 id="Pair_iterator">Pair iterator</h4>

<pre class="syntaxbox">iterable&lt;<em>keyType, valueType</em>&gt;</pre>

<p>The iterator will iterate over values of type <em>valueType</em>, with keys of type <em>keyType</em>. The generated methods will be:</p>

<ul>
 <li><code>entries()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the indexes (of type <em>keyType</em>). E.g. <a href="/zh-CN/docs/Web/API/FormData/entries"><code>FormData.entries()</code></a></li>
 <li><code>values()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the values. E.g. <a href="/zh-CN/docs/Web/API/FormData/values"><code>FormData.values()</code></a></li>
 <li><code>keys()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the keys. E.g. <a href="/zh-CN/docs/Web/API/FormData/keys"><code>FormData.keys()</code></a></li>
 <li>Once <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1216751">bug 1216751</a> lands, <code>forEach()</code>.</li>
</ul>

<p>Such an iterator allows to use the syntax <code>for (var p in object)</code> as a shorthand of <code>for (var p in object.entries())</code>. We add a sentence about it in the interface description. E.g. <a href="/zh-CN/docs/Web/API/FormData" title="想要更详细的了解如何使用FormData对象, 请查看使用FormData对象."><code>FormData</code></a>.</p>

<div class="note notecard">
<p><strong>Note:</strong> the value pairs to iterate over are <em>not</em> defined in the webidl file, but in the prose accompanying it. Such a prose is in the spec and usually starts with: <em>&quot;The <a href="https://heycam.github.io/webidl/#dfn-value-pairs-to-iterate-over" class="external">value pairs to iterate over</a>…&quot;</em><br>
 E.g, for <a href="/zh-CN/docs/Web/API/FormData" title="想要更详细的了解如何使用FormData对象, 请查看使用FormData对象."><code>FormData</code></a> you find in the spec: <em>&quot;The <a href="https://heycam.github.io/webidl/#dfn-value-pairs-to-iterate-over" class="external">value pairs to iterate over</a> are the <a href="https://xhr.spec.whatwg.org/#concept-formdata-entry" title="concept-FormData-entry">entries</a> with the key being the <a href="https://xhr.spec.whatwg.org/#concept-formdata-entry-name" title="concept-FormData-entry-name">name</a> and the value the <a href="https://xhr.spec.whatwg.org/#concept-formdata-entry-value" title="concept-FormData-entry-value">value</a>. &quot;</em></p>
</div>

<h3 id="Set-like_methods">Set-like methods</h3>

<p>An interface may be defined as <em>set-like</em>, meaning that it represents an <em>ordered set of values</em> will have the following methods: <code>entries()</code>, <code>keys()</code>,  <code>values()</code>, <code>forEach(),</code> and <code>has()</code> (it also has the <code>size</code> property). They also supports the use of <a href="/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of" title="for...of语句在可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句"><code>for...of</code></a> on an object implementing this interface. The set-like can be prefixed <code>readonly</code> or not. If not read-only, the methods to modify the set are also implemented: <code>add()</code>, <code>clear()</code>, and <code>delete()</code>.</p>

<pre class="syntaxbox">setlike&lt;<em>valueType</em>&gt;</pre>

<p>The generated properties will be:</p>

<ul>
 <li><code>entries()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the indexes. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/entries"><code>FontFaceSet.entries()</code></a>.</li>
 <li><code>values()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the values. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/values"><code>FontFaceSet.values()</code></a>.</li>
 <li><code>keys()</code> that returns an <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/iterator"><code>iterator</code></a> on the keys. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/keys"><code>FontFaceSet.keys()</code></a>,</li>
 <li><code>forEach()</code>.</li>
</ul>

<p>In the case, the set-like declaration is not prefixed by read-only, the following methods are also generated:</p>

<ul>
 <li><code>add()</code> that adds an entry. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/add"><code>FontFaceSet.add()</code></a>.</li>
 <li><code>clear()</code> that empty the set-like. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/clear"><code>FontFaceSet.clear()</code></a>.</li>
 <li><code>delete()</code> that remove an entry. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet/delete"><code>FontFaceSet.delete()</code></a>.</li>
</ul>

<p>Such an set interface also allows to use the syntax <code>for (var p in object)</code> as a shorthand of <code>for (var p in object.entries())</code>. We add a sentence about it in the interface description. E.g. <a href="/zh-CN/docs/Web/API/FontFaceSet" title="CSS 字体加载 API 的 FontFaceSet 管理着字体们的加载和可查询的字体们下载状态。"><code>FontFaceSet</code></a>.</p>

<p> </p>

<h2 id="Constructors">Constructors</h2>

<p>Constructors are a little bit hidden in WebIDL: they are listed as annotations of the main interface.</p>

<h3 id="Unnamed_constructors">Unnamed constructors</h3>

<p>This is the most common case for constructors. The constructor of a given interface A, can be used as <code>a = new A(<em>parameters</em>);</code></p>

<pre lang="en" class="syntaxbox"><span id="the-code"> [<strong>Constructor</strong>, Func=&quot;MessageChannel::Enabled&quot;,
  Exposed=(Window,Worker)]
    interface MessageChannel {…};</span></pre>

<p><span>A constructor with the same interface is defined using the <code>Constructor</code> annotation on the interface. There can be parenthesis and a list of parameters or not (like in the above example.) We document all the unnamed constructors on a sub-page — for example the above is given the slug <em>Web/API/MessageChannel/MessageChannel</em> and the title <code>MessageChannel()</code>.</span></p>

<p><span>Another example of an unnamed constructor, with parameters:</span></p>

<pre lang="en" class="syntaxbox"><span id="the-code">[<strong>Constructor</strong>(DOMString type, optional MessageEventInit eventInitDict),
 Exposed=(Window,Worker,System)]
   interface MessageEvent : Event {…};</span></pre>

<p>There can also be several unnamed constructors, differing by their parameter lists. All syntax is documented in one single sub-page.</p>

<pre lang="en" class="syntaxbox"><span id="the-code">[<strong>Constructor</strong>(DOMString url, URL base),
 <strong>Constructor</strong>(DOMString url, optional DOMString base),
 Exposed=(Window,Worker)]
    interface URL {};</span></pre>

<h3 id="Named_constructors">Named constructors</h3>

<pre lang="en" class="syntaxbox"><span id="the-code">[<strong>NamedConstructor</strong>=Image(optional unsigned long width, optional unsigned long height)]
    interface HTMLImageElement : HTMLElement {…</span></pre>

<p><span>A named constructor is a constructor that has a different name than that of its interface. For example<code> new Image(…)</code> creates a new <code>HTMLImageElement</code> object. They are defined in the WebIDL using the <code>NamedConstructor</code> annotation on the interface, followed by the name of the constructor after the equality sign (<code>&apos;=&apos;</code>) and the parameter inside the parenthesis, in the same format as you&apos;ll see for methods.</span></p>

<p><span>There can be several named constructors for a specific interface, but this is extremely rare; in such a case we include one sub-page per name.</span></p>

<h3 id="Availability_in_workers_4"><span>Availability in workers</span></h3>

<p>Constructors have the same availability as the interface, or partial interface, they are defined on. The sub-page provides this information in the same way as for a method.</p>

<h3 id="Preferences_4">Preferences</h3>

<p>Constructors are controlled by the same preference as the interface, or partial interface, they are defined on. The sub-page provides this information in the same way as for a method.</p>
