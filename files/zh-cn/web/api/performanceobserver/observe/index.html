---
title: PerformanceObserver.observe()
slug: Web/API/PerformanceObserver/observe
tags:
  - 性能
  - 性能监测对象
  - 接口
translation_of: Web/API/PerformanceObserver/observe
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Performance_Timeline">Performance Timeline</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/PerformanceObserver"><code>PerformanceObserver</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/PerformanceObserver/PerformanceObserver"><code>PerformanceObserver()</code></a> <a href="/zh-CN/docs/Web/API/PerformanceObserver/PerformanceObserver$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/PerformanceObserver/disconnect"><code>disconnect()</code></a> <a href="/zh-CN/docs/Web/API/PerformanceObserver/disconnect$translate" style="opacity: 0.5;">[我来译!]</a></li><li><em><code>observe()</code></em></li><li><a href="/zh-CN/docs/Web/API/PerformanceObserver/takeRecords"><code>takeRecords()</code></a> <a href="/zh-CN/docs/Web/API/PerformanceObserver/takeRecords$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Performance Timeline API</summary><ol><li><a href="/zh-CN/docs/Web/API/Performance"><code>Performance</code></a></li><li><a href="/zh-CN/docs/Web/API/PerformanceEntry"><code>PerformanceEntry</code></a></li><li><a href="/zh-CN/docs/Web/API/PerformanceObserverEntryList"><code>PerformanceObserverEntryList</code></a></li><li><a href="/zh-CN/docs/Web/API/PerformanceResourceTiming"><code>PerformanceResourceTiming</code></a></li><li><a href="/zh-CN/docs/Web/API/Window/performance"><code>Window.performance</code></a></li></ol></details></li></ol></section></div>

<p><a href="/zh-CN/docs/Web/API/PerformanceObserver" title="此页面仍未被本地化, 期待您的翻译!"><code>性能监测对象</code></a> 的 <strong><code>observe()</code></strong> 方法用于观察传入的参数中指定的性能条目类型的集合。当记录一个指定类型的性能条目时，性能监测对象的回调函数将会被调用。</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox"><em>observer</em>.observe(<em>options</em>);
</pre>

<h3 id="参数">参数</h3>

<p> </p>

<dl>
 <dt><em>options</em></dt>
 <dd>一个只装了单个键值对的对象，该键值对的键名规定为 <code>entryTypes</code>。<code>entryTypes</code> 的取值要求如下:</dd>
</dl>

<ul>
 <li><code>entryTypes</code> 的值：一个放字符串的数组，字符串的有效值取值在<a href="/zh-CN/docs/Web/API/PerformanceEntry/entryType"><code>性能条目类型</code></a> 中有详细列出。如果其中的某个字符串取的值无效，浏览器会自动忽略它。</li>
 <li>另：若未传入 <code>options</code> 实参，或传入的 <code>options</code> 实参为空数组，会抛出 <a href="/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>。</li>
</ul>

<dl>
 <dt> </dt>
</dl>

<h2 id="示例">示例</h2>

<pre class="brush: js">/* 写法一 */

//直接往PerformanceObserver()入参匿名回调函数，成功new了一个PerformanceObserver类的，名为observer的对象
var observer = new PerformanceObserver(function(list, obj) {
  var entries = list.getEntries();
  for (var i=0; i &lt; entries.length; i++) {
    //处理 “mark” 和 “frame” 事件
  }
});
//调用observer对象的observe()方法
observer.observe({entryTypes: [&quot;mark&quot;, &quot;frame&quot;]});

/* 写法二 */

//预先声明回调函数perf_observer
function perf_observer(list, observer) {
  //处理 “measure” 事件
}
//再将其传入PerformanceObserver()，成功new了一个PerformanceObserver类的，名为observer2的对象
var observer2 = new PerformanceObserver(perf_observer);
//调用observer2对象的observe()方法
observer2.observe({entryTypes: [&quot;measure&quot;]});
</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/performance-timeline/#dom-performanceobserver-observe" hreflang="en" lang="en">Performance Timeline Level 2<br><small lang="zh-CN">observe()</small></a></td>
   <td><span class="spec-CR">Candidate Recommendation</span></td>
   <td>Initial definition of <code>observe()</code> method.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>52.0</td>
   <td><a href="/en-US/Firefox/Releases/57" title="Released on 2017-11-28.">57</a> (57)</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>39</td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>57.0 (57)</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>
    <p>39</p>
   </td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>52.0</td>
  </tr>
 </tbody>
</table>
</div>
