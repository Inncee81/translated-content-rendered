---
title: DataTransfer.setData()
slug: Web/API/DataTransfer/setData
tags:
  - drag and drop
translation_of: Web/API/DataTransfer/setData
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API">HTML Drag and Drop API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/DataTransfer"><code>DataTransfer</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransfer/DataTransfer"><code>DataTransfer()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransfer/dropEffect"><code>dropEffect</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/dropEffect$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/effectAllowed"><code>effectAllowed</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/files"><code>files</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/items"><code>items</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/items$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozCursor"><code>mozCursor</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozCursor$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozItemCount"><code>mozItemCount</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozItemCount$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozSourceNode"><code>mozSourceNode</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozSourceNode$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozUserCancelled"><code>mozUserCancelled</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozUserCancelled$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/types"><code>types</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/addElement"><code>addElement()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/addElement$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/clearData"><code>clearData()</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/getData"><code>getData()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozClearDataAt"><code>mozClearDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozClearDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozGetDataAt"><code>mozGetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozGetDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozSetDataAt"><code>mozSetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozSetDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozTypesAt"><code>mozTypesAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozTypesAt$translate">[我来译!]</a></li><li><em><code>setData()</code></em></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/setDragImage"><code>setDragImage()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/dragstart"><code>dragstart</code></a></li><li><a href="/zh-CN/docs/Web/Events/drag"><code>drag</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragenter"><code>dragenter</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragexit"><code>dragexit</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragleave"><code>dragleave</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragover"><code>dragover</code></a></li><li><a href="/zh-CN/docs/Web/Events/drop"><code>drop</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragend"><code>dragend</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for HTML Drag and Drop API</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransferItem"><code>DataTransferItem</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransferItemList"><code>DataTransferItemList</code></a></li><li><a href="/zh-CN/docs/Web/API/DragEvent"><code>DragEvent</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>DataTransfer.setData()</code></strong> 方法用来设置拖放操作的<a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>drag data</code></a>到指定的数据和类型。</p>

<p>如果给定类型的数据不存在，则将其添加到拖动数据存储的末尾，使得 <a href="/zh-CN/docs/Web/API/DataTransfer/types" title="此页面仍未被本地化, 期待您的翻译!"><code>types</code></a> 列表中的最后一个项目将是新类型。</p>

<p>如果给定类型的数据已经存在，现有数据将被替换为相同的位置。也就是说，替换相同类型的数据时 <a href="/zh-CN/docs/Web/API/DataTransfer/types" title="此页面仍未被本地化, 期待您的翻译!"><code>types</code></a>列表的顺序不会更改。</p>

<p>示例数据类型为：&quot;<code>text/plain</code>&quot; 和 &quot;<code>text/uri-list</code>&quot;.</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">void <var>dataTransfer</var>.setData(format, data);
</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><em>format</em></dt>
 <dd>一个<a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a> 表示要添加到 <a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>drag object</code></a>的拖动数据的类型。</dd>
 <dt><em>data</em></dt>
 <dd>一个 <a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a>表示要添加到 <a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>drag object</code></a>的数据。</dd>
</dl>

<h3 id="返回值">返回值</h3>

<dl>
 <dt>void</dt>
</dl>

<h2 id="示例">示例</h2>

<p> </p>

<p>此示例显示了使用 <a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>DataTransfer</code></a> 对象的 <a href="/zh-CN/docs/Web/API/DataTransfer/getData" title="DataTransfer.getData() 方法接受指定类型的拖放（以DOMString的形式）数据。如果拖放行为没有操作任何数据，会返回一个空字符串。"><code>getData()</code></a>, <a href="/zh-CN/docs/Web/API/DataTransfer/setData" title="DataTransfer.setData() 方法用来设置拖放操作的drag data到指定的数据和类型。"><code>setData()</code></a> }和<a href="/zh-CN/docs/Web/API/DataTransfer/clearData" title="DataTransfer.clearData() 方法删除给定类型的拖动操作的drag data。如果给定类型的数据不存在，则此方法不执行任何操作。"><code>clearData()</code></a> 方法。</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;DataTransfer.setData()/.getData()/.clearData()&lt;/title&gt;
    &lt;style&gt;
        div {
            margin: 0em;
            padding: 2em;
        }
        #source {
            color: blue;
            border: 1px solid black;
        }
        #target {
            border: 1px solid black;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;section&gt;
        &lt;h1&gt;
            &lt;code&gt;DataTransfer.setData()&lt;/code&gt; &lt;br&gt;
            &lt;code&gt;DataTransfer.getData()&lt;/code&gt; &lt;br&gt;
            &lt;code&gt;DataTransfer.clearData()&lt;/code&gt;
        &lt;/h1&gt;
        &lt;div&gt;
            &lt;p id=&quot;source&quot; ondragstart=&quot;dragstart_handler(event);&quot; draggable=&quot;true&quot;&gt;
                Select this element, drag it to the Drop Zone and then release the selection to move the element.
            &lt;/p&gt;
        &lt;/div&gt;
        &lt;div id=&quot;target&quot; ondrop=&quot;drop_handler(event);&quot; ondragover=&quot;dragover_handler(event);&quot;&gt;
            Drop Zone
        &lt;/div&gt;
    &lt;/section&gt;
    &lt;!-- js --&gt;
    &lt;script&gt;
        function dragstart_handler(ev) {
            console.log(&quot;dragStart&quot;);
            // Change the source element&apos;s background color to signify drag has started
            ev.currentTarget.style.border = &quot;dashed&quot;;
            // Set the drag&apos;s format and data. Use the event target&apos;s id for the data
            ev.dataTransfer.setData(&quot;text/plain&quot;, ev.target.id);
        }

        function dragover_handler(ev) {
            console.log(&quot;dragOver&quot;);
            // prevent Default event
            ev.preventDefault();
        }

        function drop_handler(ev) {
            console.log(&quot;Drop&quot;);
            ev.preventDefault();
            // Get the data, which is the id of the drop target
            var data = ev.dataTransfer.getData(&quot;text&quot;);
            // appendChild
            ev.target.appendChild(document.getElementById(data));
            // Clear the drag data cache (for all formats/types)
            ev.dataTransfer.clearData();
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;


</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-datatransfer-setdata" class="external" hreflang="en">HTML Living Standard<br><small lang="zh-CN">setData()</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/html51/editing.html#dom-datatransfer-setdata" class="external" hreflang="en">HTML 5.1<br><small lang="zh-CN">setData()</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>4</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td>3.5</td>
   <td>10</td>
   <td>12</td>
   <td>3.1</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>10</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="也可以看看">也可以看看</h2>

<p></p><ul>
 <li><a href="/en-US/docs/Web/API/HTML_Drag_and_Drop_API">Drag and drop</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Drag_operations">Drag Operations</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types">Recommended Drag Types</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Dragging_and_Dropping_Multiple_Items">Dragging and Dropping Multiple Items</a></li>
 <li><a href="https://codepen.io/tech_query/pen/MqGgap">DataTransfer test - Paste or Drag</a></li>
</ul><p></p>
