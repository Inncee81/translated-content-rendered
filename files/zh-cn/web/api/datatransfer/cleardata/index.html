---
title: DataTransfer.clearData()
slug: Web/API/DataTransfer/clearData
tags:
  - DataTransfer.clearData()
translation_of: Web/API/DataTransfer/clearData
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API">HTML Drag and Drop API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/DataTransfer"><code>DataTransfer</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransfer/DataTransfer"><code>DataTransfer()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransfer/dropEffect"><code>dropEffect</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/dropEffect$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/effectAllowed"><code>effectAllowed</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/files"><code>files</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/items"><code>items</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/items$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozCursor"><code>mozCursor</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozCursor$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozItemCount"><code>mozItemCount</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozItemCount$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozSourceNode"><code>mozSourceNode</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozSourceNode$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozUserCancelled"><code>mozUserCancelled</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozUserCancelled$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/types"><code>types</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/addElement"><code>addElement()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/addElement$translate">[我来译!]</a></li><li><em><code>clearData()</code></em></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/getData"><code>getData()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozClearDataAt"><code>mozClearDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozClearDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozGetDataAt"><code>mozGetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozGetDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozSetDataAt"><code>mozSetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozSetDataAt$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/DataTransfer/mozTypesAt"><code>mozTypesAt()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/DataTransfer/mozTypesAt$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/setData"><code>setData()</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransfer/setDragImage"><code>setDragImage()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/dragstart"><code>dragstart</code></a></li><li><a href="/zh-CN/docs/Web/Events/drag"><code>drag</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragenter"><code>dragenter</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragexit"><code>dragexit</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragleave"><code>dragleave</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragover"><code>dragover</code></a></li><li><a href="/zh-CN/docs/Web/Events/drop"><code>drop</code></a></li><li><a href="/zh-CN/docs/Web/Events/dragend"><code>dragend</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for HTML Drag and Drop API</summary><ol><li><a href="/zh-CN/docs/Web/API/DataTransferItem"><code>DataTransferItem</code></a></li><li><a href="/zh-CN/docs/Web/API/DataTransferItemList"><code>DataTransferItemList</code></a></li><li><a href="/zh-CN/docs/Web/API/DragEvent"><code>DragEvent</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>DataTransfer.clearData()</code></strong> 方法删除给定类型的拖动操作的<a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>drag data</code></a>。如果给定类型的数据不存在，则此方法不执行任何操作。</p>

<p class="note">如果没有参数调用此方法，或者格式为空 ，则将删除所有类型的数据。</p>

<p>此方法不会从拖动操作中删除文件，因此如果有任何文件包含在对象的<a href="/zh-CN/docs/Web/API/DataTransfer/types" title="此页面仍未被本地化, 期待您的翻译!"><code>DataTransfer.types</code></a>列表中，仍然可能有一个类型为“Files”的条目在拖动。 </p>

<div class="note">
<p>该方法只能在<code><a href="/zh-CN/docs/Web/Reference/Events/dragstart" title="/zh-CN/docs/Web/Reference/Events/dragstart">dragstart</a></code> 事件的处理程序中使用，因为这是拖动操作的数据存储只能写入的时间。</p>
</div>

<h2 id="句法">句法</h2>

<pre class="syntaxbox"><var>DataTransfer</var>.clearData([<em>format</em>]);
</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><code>format</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>一个 <a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>string</code></a>指定要删除的数据类型。如果此参数为空字符串或未提供，则将删除所有类型的数据。</dd>
</dl>

<h2 id="范例">范例</h2>

<p>这个例子显示了使用<a href="/zh-CN/docs/Web/API/DataTransfer" title="在进行拖放操作时，DataTransfer 对象用来保存，通过拖放动作，拖动到浏览器的数据。它可以保存一项或多项数据、一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop."><code>DataTransfer</code></a>对象的<a href="/zh-CN/docs/Web/API/DataTransfer/getData" title="DataTransfer.getData() 方法接受指定类型的拖放（以DOMString的形式）数据。如果拖放行为没有操作任何数据，会返回一个空字符串。"><code>getData()</code></a>, <a href="/zh-CN/docs/Web/API/DataTransfer/setData" title="DataTransfer.setData() 方法用来设置拖放操作的drag data到指定的数据和类型。"><code>setData()</code></a> 和<a href="/zh-CN/docs/Web/API/DataTransfer/clearData" title="DataTransfer.clearData() 方法删除给定类型的拖动操作的drag data。如果给定类型的数据不存在，则此方法不执行任何操作。"><code>clearData()</code></a> 和</p>

<h3 id="HTML">HTML</h3>

<pre class="brush: html">&lt;span class=&quot;tweaked&quot; id=&quot;source&quot; draggable=&quot;true&quot;&gt;
  Select this element, drag it to the Drop Zone and then release the selection to move the element.
&lt;/span&gt;
&lt;span class=&quot;tweaked&quot; id=&quot;target&quot;&gt;Drop Zone&lt;/span&gt;
&lt;div&gt;Status: &lt;span id=&quot;status&quot;&gt;Drag to start&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;Data is: &lt;span id=&quot;data&quot;&gt;uninitialized&lt;/span&gt;&lt;/div&gt;
</pre>

<h3 id="CSS">CSS</h3>

<pre class="brush: css">span.tweaked {
  display: inline-block;
  margin: 1em 0;
  padding: 1em 2em;
}

#source {
  color: blue;
  border: 1px solid black;
}

#target {
  border: 1px solid black;
}
</pre>

<h3 id="JavaScript">JavaScript</h3>

<pre class="brush: js">window.addEventListener(&apos;DOMContentLoaded&apos;, function () {
  // Select HTML elements
  var draggable = document.getElementById(&apos;source&apos;);
  var dropable = document.getElementById(&apos;target&apos;);
  var status = document.getElementById(&apos;status&apos;);
  var data = document.getElementById(&apos;data&apos;);
  var dropped = false;

  // Register event handlers
  draggable.addEventListener(&apos;dragstart&apos;, dragStartHandler);
  draggable.addEventListener(&apos;dragend&apos;, dragEndHandler);
  dropable.addEventListener(&apos;dragover&apos;, dragOverHandler);
  dropable.addEventListener(&apos;dragleave&apos;, dragLeaveHandler);
  dropable.addEventListener(&apos;drop&apos;, dropHandler);

  function dragStartHandler (event) {
    status.innerHTML = &apos;Drag in process&apos;;

    // Change target element&apos;s border to signify drag has started
    event.currentTarget.style.border = &apos;1px dashed blue&apos;;

    // Start by clearing existing clipboards; this will affect all types since we
    // don&apos;t give a specific type.

    event.dataTransfer.clearData();

    // Set the drag&apos;s format and data (use event target&apos;s id for data)
    event.dataTransfer.setData(&apos;text/plain&apos;, event.target.id);

    data.innerHTML = event.dataTransfer.getData(&apos;text/plain&apos;);
  }

  function dragEndHandler (event) {
    if (!dropped) {
      status.innerHTML = &apos;Drag canceled&apos;;
    }

    data.innerHTML = event.dataTransfer.getData(&apos;text/plain&apos;) || &apos;empty&apos;;

    // Change border to signify drag is no longer in process
    event.currentTarget.style.border = &apos;1px solid black&apos;;

    if (dropped) {
      // Remove all event listeners
      draggable.removeEventListener(&apos;dragstart&apos;, dragStartHandler);
      draggable.removeEventListener(&apos;dragend&apos;, dragEndHandler);
      dropable.removeEventListener(&apos;dragover&apos;, dragOverHandler);
      dropable.removeEventListener(&apos;dragleave&apos;, dragLeaveHandler);
      dropable.removeEventListener(&apos;drop&apos;, dropHandler);
    }
  }

  function dragOverHandler (event) {
    status.innerHTML = &apos;Drop available&apos;;

    event.preventDefault();
  }

  function dragLeaveHandler (event) {
    status.innerHTML = &apos;Drag in process (drop was available)&apos;;

    event.preventDefault();
  }

  function dropHandler (event) {
    dropped = true;

    status.innerHTML = &apos;Drop done&apos;;

    event.preventDefault();

    // Get data linked to event format « text »
    var _data = event.dataTransfer.getData(&apos;text/plain&apos;);
    var element = document.getElementById(_data);

    // Append drag source element to event&apos;s target element
    event.target.appendChild(element);

    // Change CSS styles and displayed text
    element.style.cssText = &apos;border: 1px solid black;display: block; color: red&apos;;
    element.innerHTML = &quot;I&apos;m in the Drop Zone!&quot;;
  }
})
</pre>

<p><iframe src="https://mdn.mozillademos.org/zh-CN/docs/Web/API/DataTransfer/clearData$samples/Example?revision=1253313" width="300" class="live-sample-frame sample-code-frame" height="250" frameborder="0" id="frame_Example"></iframe></p>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-datatransfer-cleardata" class="external" hreflang="en">HTML Living Standard<br><small lang="zh-CN">DataTransfer.clearData()</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/html51/editing.html#dom-datatransfer-cleardata" class="external" hreflang="en">HTML 5.1<br><small lang="zh-CN">DataTransfer.clearData()</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>4</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><a href="/en-US/Firefox/Releases/3.5">3.5</a> (1.9.1)</td>
   <td>10</td>
   <td>12</td>
   <td>3.1</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>10</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="也可以看看">也可以看看</h2>

<p></p><ul>
 <li><a href="/en-US/docs/Web/API/HTML_Drag_and_Drop_API">Drag and drop</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Drag_operations">Drag Operations</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types">Recommended Drag Types</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Dragging_and_Dropping_Multiple_Items">Dragging and Dropping Multiple Items</a></li>
 <li><a href="https://codepen.io/tech_query/pen/MqGgap">DataTransfer test - Paste or Drag</a></li>
</ul><p></p>
