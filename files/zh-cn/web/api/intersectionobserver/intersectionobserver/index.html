---
title: IntersectionObserver.IntersectionObserver()
slug: Web/API/IntersectionObserver/IntersectionObserver
translation_of: Web/API/IntersectionObserver/IntersectionObserver
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Intersection_Observer_API">Intersection Observer API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/IntersectionObserver"><code>IntersectionObserver</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><em><code>IntersectionObserver()</code></em></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/root"><code>root</code></a></li><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/rootMargin"><code>rootMargin</code></a></li><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/thresholds"><code>thresholds</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/disconnect"><code>disconnect()</code></a></li><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/observe"><code>observe()</code></a></li><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/takeRecords"><code>takeRecords()</code></a></li><li><a href="/zh-CN/docs/Web/API/IntersectionObserver/unobserve"><code>unobserve()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Intersection Observer API</summary><ol><li><a href="/zh-CN/docs/Web/API/IntersectionObserverEntry"><code>IntersectionObserverEntry</code></a></li></ol></details></li></ol></section></div>

<p><span class="seoSummary"><strong><code>IntersectionObserver()</code></strong>构造器创建并返回一个<a href="/zh-CN/docs/Web/API/IntersectionObserver"><code>IntersectionObserver</code></a>对象。</span> 如果指定<code>rootMargin</code>则会检查其是否符合语法规定，检查阈值以确保全部在0.0到1.0之间，并且阈值列表会按升序排列。如果阈值列表为空，则默认为一个[0.0]的数组。</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox notranslate">var <em>observer</em> = new IntersectionObserver(<em>callback</em>[, <em>options</em>]);</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><code>callback</code></dt>
 <dd>当元素可见比例超过指定阈值后，会调用一个回调函数，此回调函数接受两个参数：
 <dl>
  <dt><code>entries</code></dt>
  <dd>一个<a href="/zh-CN/docs/Web/API/IntersectionObserverEntry"><code>IntersectionObserverEntry</code></a>对象的数组，每个被触发的阈值，都或多或少与指定阈值有偏差。</dd>
  <dt><code>observer</code></dt>
  <dd>被调用的<a href="/zh-CN/docs/Web/API/IntersectionObserver"><code>IntersectionObserver</code></a>实例。</dd>
 </dl>
 </dd>
 <dt><code>options</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>一个可以用来配置observer实例的对象。如果<code>options</code>未指定，observer实例默认使用文档视口作为root，并且没有margin，阈值为0%（意味着即使一像素的改变都会触发回调函数）。你可以指定以下配置：
 <dl>
  <dt><code>root</code></dt>
  <dd>监听元素的祖先元素<a href="/zh-CN/docs/Web/API/Element"><code>Element</code></a>对象，其边界盒将被视作视口。目标在根的可见区域的的任何不可见部分都会被视为不可见。</dd>
  <dt><code>rootMargin</code></dt>
  <dd>一个在计算交叉值时添加至根的边界盒(<a href="/en-US/docs/Glossary/bounding_box">bounding_box</a>)中的一组偏移量，类型为字符串(string) ，可以有效的缩小或扩大根的判定范围从而满足计算需要。语法大致和CSS 中的<a href="/zh-CN/docs/Web/CSS/margin" title="margin 属性为给定元素设置所有四个（上下左右）方向的外边距属性。也就是 margin-top，margin-right，margin-bottom，和 margin-left 四个外边距属性设置的简写。"><code>margin</code></a> 属性等同; 可以参考 <a href="/en-US/docs/Web/API/Intersection_Observer_API#The_root_element_and_root_margin" title="The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document&apos;s viewport.">The root element and root margin</a> in <a href="/en-US/docs/Web/API/Intersection_Observer_API" title="The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document&apos;s viewport.">Intersection Observer API</a>来深入了解margin的工作原理及其语法。默认值是&quot;0px 0px 0px 0px&quot;。</dd>
  <dt><code>threshold</code></dt>
  <dd>规定了一个监听目标与边界盒交叉区域的比例值，可以是一个具体的数值或是一组0.0到1.0之间的数组。若指定值为0.0，则意味着监听元素即使与根有1像素交叉，此元素也会被视为可见. 若指定值为1.0，则意味着整个元素都是可见的(此段英文原文直译，正确性有待验证) 。可以参考<a href="/en-US/docs/Web/API/Intersection_Observer_API#Thresholds" title="The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document&apos;s viewport.">Thresholds</a> in <a href="/en-US/docs/Web/API/Intersection_Observer_API" title="The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document&apos;s viewport.">Intersection Observer API</a> 来深入了解阈值是如何使用的。阈值的默认值为0.0。</dd>
 </dl>
 </dd>
</dl>

<h3 id="返回值">返回值</h3>

<p>一个可以使用规定阈值监听目标元素可见部分与<code>root</code>交叉状况的新的<a href="/zh-CN/docs/Web/API/IntersectionObserver"><code>IntersectionObserver</code></a> 实例。调用自身的<a href="/zh-CN/docs/Web/API/IntersectionObserver/observe"><code>observe()</code></a> 方法开始使用规定的阈值监听指定目标。</p>

<h3 id="异常">异常</h3>

<dl>
 <dt><code>SyntaxError</code></dt>
 <dd>指定的<code>rootMargin</code>不存在。</dd>
 <dt>RangeError</dt>
 <dd>一个或多个阈值超出了0.0到1.0的范围。</dd>
</dl>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserver-intersectionobserver" hreflang="en" lang="en">Intersection Observer<br><small lang="zh-CN">IntersectionObserver constructor</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容">浏览器兼容</h2>

<p class="hidden">The compatibility table in this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</p>

<div class="bc-data" id="bcd:api.IntersectionObserver.IntersectionObserver"></div>
