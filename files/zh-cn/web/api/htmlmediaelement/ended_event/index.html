---
title: 'HTMLMediaElement: ended'
slug: Web/API/HTMLMediaElement/ended_event
translation_of: Web/API/HTMLMediaElement/ended_event
---
<p>如果playback或者streaming达到了媒体的未尾或者没有更多可用的数据，将会引发一个<code>ended</code>事件。</p>

<p>这个事件将会发生在三个相关但独立的上下文中：</p>

<ul>
 <li>Elements based upon <a href="/zh-CN/docs/Web/API/HTMLMediaElement" title="从父级元素 HTML 元素继承属性"><code>HTMLMediaElement</code></a> (<a href="/zh-CN/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; 元素用于在文档中表示音频内容。 &lt;audio&gt; 元素可以包含多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述； 浏览器将会选择最合适的一个来使用。对于不支持&lt;audio&gt;元素的浏览器，&lt;audio&gt;元素也可以作为浏览器不识别的内容加入到文档中。"><code>&lt;audio&gt;</code></a> and <a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入视频内容。"><code>&lt;video&gt;</code></a>) fire <code>ended</code> when playback of the media reaches the end of the media.</li>
 <li>Media streams&apos; tracks, which are based on the <a href="/zh-CN/docs/Web/API/MediaStreamTrack" title="MediaStreamTrack接口在User Agent中表示一段媒体源，比如音轨或视频。"><code>MediaStreamTrack</code></a> interface, fire <code>ended</code> when the track&apos;s source permanently stops sending data on the stream. There are various ways this can happen, including:
  <ul>
   <li>There is no more data left to send.</li>
   <li>The user revoked the permissions needed for the data to be sent.</li>
   <li>The hardware generating the source data has been removed or ejected.</li>
   <li>A remote peer has permanently stopped sending data; pausing media <em>does not</em> generate an <code>ended</code> event.</li>
  </ul>
 </li>
 <li>一个<a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>节点停止了播放。这可能是由于它到达了之前设置好的终止时间点，也可能是已播放完了整个音频，或者是已播放完了buffer中的数据。另见<a href="/zh-CN/docs/Web/API/AudioScheduledSourceNode" title="The AudioScheduledSourceNode interface—part of the Web Audio API—is a parent interface for several types of audio source node interfaces which share the ability to be started and stopped, optionally at specified times. Specifically, this interface defines the start() and stop() methods, as well as the onended event handler."><code>AudioScheduledSourceNode</code></a>。</li>
</ul>

<h2 id="General_info">General info</h2>

<dl>
 <dt style="float: left; text-align: right; width: 120px;">Specification</dt>
 <dd style="margin: 0 0 0 120px;"><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#event-media-ended" class="external">HTML5 media</a>, <a href="https://www.w3.org/TR/mediacapture-streams/#event-mediastreamtrack-ended">Media Capture and Streams</a> and <a href="https://webaudio.github.io/web-audio-api/">Web Audio API</a></dd>
 <dt style="float: left; text-align: right; width: 120px;">Interface</dt>
 <dd style="margin: 0 0 0 120px;"><a href="/zh-CN/docs/Web/API/Event" title="此页面仍未被本地化, 期待您的翻译!"><code>Event</code></a></dd>
 <dt style="float: left; text-align: right; width: 120px;">Bubbles</dt>
 <dd style="margin: 0 0 0 120px;">No</dd>
 <dt style="float: left; text-align: right; width: 120px;">可取消的</dt>
 <dd style="margin: 0 0 0 120px;">No</dd>
 <dt style="float: left; text-align: right; width: 120px;">Target</dt>
 <dd style="margin: 0 0 0 120px;">Element</dd>
 <dt style="float: left; text-align: right; width: 120px;">默认操作</dt>
 <dd style="margin: 0 0 0 120px;">无。</dd>
</dl>

<div class="note">
<p>While this event is defined in more than one specification, at this time they specify this event identically, so we have documented them as if they were one. If at some point that changes, the documentation will be revised.</p>
</div>

<h2 id="Properties">Properties</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Property</th>
   <th scope="col">Type</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>target</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/EventTarget" title="EventTarget是一个由可以接收事件的对象实现的接口，并且可以为它们创建侦听器。"><code>EventTarget</code></a></td>
   <td>The event target (the topmost target in the DOM tree).</td>
  </tr>
  <tr>
   <td><code>type</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a></td>
   <td>The type of event.</td>
  </tr>
  <tr>
   <td><code>bubbles</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a></td>
   <td>Whether the event normally bubbles or not.</td>
  </tr>
  <tr>
   <td><code>cancelable</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a></td>
   <td>Whether the event is cancellable or not.</td>
  </tr>
 </tbody>
</table>

<h2 id="Related_Events">Related Events</h2>

<ul>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/playing" title="/zh-CN/docs/Web/Reference/Events/playing">playing</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/waiting" title="/zh-CN/docs/Web/Reference/Events/waiting">waiting</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/seeking" title="/zh-CN/docs/Web/Reference/Events/seeking">seeking</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/seeked" title="/zh-CN/docs/Web/Reference/Events/seeked">seeked</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/ended" title="/zh-CN/docs/Web/Reference/Events/ended">ended</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/loadedmetadata" title="/zh-CN/docs/Web/Reference/Events/loadedmetadata">loadedmetadata</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/loadeddata" title="/zh-CN/docs/Web/Reference/Events/loadeddata">loadeddata</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/canplay" title="/zh-CN/docs/Web/Reference/Events/canplay">canplay</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/canplaythrough" title="/zh-CN/docs/Web/Reference/Events/canplaythrough">canplaythrough</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/durationchange" title="/zh-CN/docs/Web/Reference/Events/durationchange">durationchange</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/timeupdate" title="/zh-CN/docs/Web/Reference/Events/timeupdate">timeupdate</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/play" title="/zh-CN/docs/Web/Reference/Events/play">play</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/pause" title="/zh-CN/docs/Web/Reference/Events/pause">pause</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/ratechange" title="/zh-CN/docs/Web/Reference/Events/ratechange">ratechange</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/volumechange" title="/zh-CN/docs/Web/Reference/Events/volumechange">volumechange</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/suspend" title="/zh-CN/docs/Web/Reference/Events/suspend">suspend</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/emptied" title="/zh-CN/docs/Web/Reference/Events/emptied">emptied</a></code></li>
 <li><code><a href="/zh-CN/docs/Web/Reference/Events/stalled" title="/zh-CN/docs/Web/Reference/Events/stalled">stalled</a></code></li>
</ul>
