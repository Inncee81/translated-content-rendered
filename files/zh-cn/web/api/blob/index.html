---
title: Blob
slug: Web/API/Blob
tags:
  - API
  - Files
  - Reference
  - WebAPI
  - 参考
  - 文件
translation_of: Web/API/Blob
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Blob"><code>Blob</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/Blob/Blob"><code>Blob()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/Blob/size"><code>size</code></a></li><li><a href="/zh-CN/docs/Web/API/Blob/type"><code>type</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/Blob/arrayBuffer"><code>arrayBuffer()</code></a></li><li><a href="/zh-CN/docs/Web/API/Blob/slice"><code>slice</code></a></li><li><a href="/zh-CN/docs/Web/API/Blob/stream"><code>stream()</code></a></li><li><a href="/zh-CN/docs/Web/API/Blob/text"><code>text()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for File API</summary><ol><li><a href="/zh-CN/docs/Web/API/File"><code>File</code></a></li><li><a href="/zh-CN/docs/Web/API/FileList"><code>FileList</code></a></li><li><a href="/zh-CN/docs/Web/API/FileReader"><code>FileReader</code></a></li><li><a href="/zh-CN/docs/Web/API/FileReaderSync"><code>FileReaderSync</code></a></li></ol></details></li></ol></section></div>

<p><code>Blob</code><strong> </strong>对象表示一个不可变、原始数据的类文件对象。它的数据可以按文本或二进制的格式进行读取，也可以转换成 <a href="/zh-CN/docs/Web/API/ReadableStream"><code>ReadableStream</code></a> 来用于数据操作。 </p>

<p>Blob 表示的不一定是JavaScript原生格式的数据。<a href="/zh-CN/docs/Web/API/File"><code>File</code></a> 接口基于<code>Blob</code>，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。</p>

<p>要从其他非blob对象和数据构造一个 <code>Blob</code>，请使用 <a href="/zh-CN/docs/Web/API/Blob/Blob"><code>Blob()</code></a> 构造函数。要创建一个 blob 数据的子集 blob，请使用 <a href="/zh-CN/docs/Web/API/Blob/slice"><code>slice()</code></a> 方法。要获取用户文件系统上的文件对应的 <code>Blob</code> 对象，请参阅 <a href="/zh-CN/docs/Web/API/File"><code>File</code></a> 文档。</p>

<p>接受 <code>Blob</code> 对象的API也被列在 <a href="/zh-CN/docs/Web/API/File"><code>File</code></a> 文档中。</p>

<div class="note"><strong>注意：</strong><code>slice()</code> 方法原本接受 <code>length</code> 作为第二个参数，以表示复制到新 <code>Blob</code> 对象的字节数。如果设置的参数使 <code>start + length</code> 超出了源 <code>Blob</code> 对象的大小，则返回从开始到结尾的所有数据。</div>

<div class="note"><strong>注意：</strong><code>slice()</code> 方法在某些浏览器和版本上带有浏览器引擎前缀：比如 Firefox 12 及更早版本的<code>blob.mozSlice()</code> 和 Safari 中的<code>blob.webkitSlice()</code>。 没有浏览器引擎前缀的老版本 <code>slice()</code> 方法有不同的语义，并且已过时。Firefox 30 取消了对 <code>blob.mozSlice()</code> 的支持。</div>

<h2 id="构造函数">构造函数</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/Blob/Blob"><code>Blob(blobParts[, options])</code></a></dt>
 <dd>返回一个新创建的 <code>Blob</code> 对象，其内容由参数中给定的数组串联组成。</dd>
</dl>

<h2 id="属性">属性</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/Blob/size"><code>Blob.size</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd><code>Blob</code> 对象中所包含数据的大小（字节）。</dd>
 <dt><a href="/zh-CN/docs/Web/API/Blob/type"><code>Blob.type</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>一个字符串，表明该 <code>Blob</code> 对象所包含数据的 MIME 类型。如果类型未知，则该值为空字符串。</dd>
</dl>

<h2 id="方法">方法</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/Blob/slice"><code>Blob.slice([start[, end[, contentType]]])</code></a></dt>
 <dd>返回一个新的 <code>Blob</code> 对象，包含了源 <code>Blob</code> 对象中指定范围内的数据。</dd>
 <dt><a href="/zh-CN/docs/Web/API/Blob/stream"><code>Blob.stream()</code></a></dt>
 <dd>返回一个能读取blob内容的 <a href="/zh-CN/docs/Web/API/ReadableStream"><code>ReadableStream</code></a>。</dd>
 <dt><a href="/zh-CN/docs/Web/API/Blob/text"><code>Blob.text()</code></a></dt>
 <dd>返回一个promise且包含blob所有内容的UTF-8格式的 <a href="/zh-CN/docs/Web/API/USVString"><code>USVString</code></a>。</dd>
 <dt><a href="/zh-CN/docs/Web/API/Blob/arrayBuffer"><code>Blob.arrayBuffer()</code></a></dt>
 <dd>返回一个promise且包含blob所有内容的二进制格式的 <a href="/zh-CN/docs/Web/API/ArrayBuffer"><code>ArrayBuffer</code></a> </dd>
</dl>

<h2 id="示例">示例</h2>

<h3 id="Blob_构造函数用法举例">Blob 构造函数用法举例</h3>

<p><a href="/zh-CN/docs/Web/API/Blob/Blob"><code>Blob() 构造函数</code></a>允许通过其它对象创建 Blob 对象。比如，用字符串构建一个 blob：</p>

<pre class="brush: js notranslate">var debug = {hello: &quot;world&quot;};
var blob = new Blob([JSON.stringify(debug, null, 2)], {type : &apos;application/json&apos;});</pre>

<div class="warning notecard">
<p><a href="/zh-CN/docs/Web/API/BlobBuilder"><code>BlobBuilder</code></a> 接口提供了另外一种创建<code>Blob</code> 对象的方式，但该方式现在已经废弃，不应继续使用：</p>

<pre class="brush: js notranslate">var builder = new BlobBuilder();
var fileParts = [&apos;&lt;a id=&quot;a&quot;&gt;&lt;b id=&quot;b&quot;&gt;hey!&lt;/b&gt;&lt;/a&gt;&apos;];
builder.append(fileParts[0]);
var myBlob = builder.getBlob(&apos;text/xml&apos;);
</pre>
</div>

<h3 id="示例：使用_Blob_创建一个指向类型化数组的URL">示例：使用 Blob 创建一个指向类型化数组的URL</h3>

<p>参考下面的代码：</p>

<pre class="brush: js notranslate">var typedArray = GetTheTypedArraySomehow();
var blob = new Blob([typedArray.buffer], {type: &apos;application/octet-stream&apos;}); // 传入一个合适的 MIME 类型
var url = URL.createObjectURL(blob);
// 会产生一个类似 blob:d3958f5c-0777-0845-9dcf-2cb28783acaf 这样的URL字符串
// 你可以像使用普通 URL 那样使用它，比如用在 img.src 上。
</pre>

<h3 id="示例：从_Blob_中提取数据">示例：从 Blob 中提取数据</h3>

<p>一种从Blob中读取内容的方法是使用 <a href="/zh-CN/docs/Web/API/FileReader"><code>FileReader</code></a>。以下代码将 Blob 的内容作为类型数组读取：</p>

<pre class="brush: js notranslate">var reader = new FileReader();
reader.addEventListener(&quot;loadend&quot;, function() {
   // reader.result 包含被转化为类型数组 typed array 的 blob
});
reader.readAsArrayBuffer(blob);</pre>

<p>另一种读取Blob中内容的方式是使用Response对象。下述代码将Blob中的内容读取为文本：</p>

<pre class="brush: js notranslate">var text = await (new Response(blob)).text();
</pre>

<p>通过使用 <a href="/zh-CN/docs/Web/API/FileReader"><code>FileReader</code></a> 的其它方法可以把 Blob 读取为字符串或者数据URL。</p>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">备注</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/FileAPI/#blob" hreflang="en" lang="en">File API<br><small lang="zh-CN">Blob</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.Blob"></div>

<p>[1]<a href="http://trac.webkit.org/changeset/55670">WebKit</a> 和 <a href="http://www.opera.com/docs/specs/presto28/file/#blob">Opera 11.10</a> 版本实现的 <code>slice()</code> 使用 <code>length</code> 来作为第二个参数。但是，因为这语法异于 <a href="/zh-CN/docs/Web/JavaScript/Reference/Array/slice"><code>Array.slice()</code></a> 和 <a href="/zh-CN/docs/Web/JavaScript/Reference/String/slice"><code>String.slice()</code></a>，WebKit 已经将其移除，并添加了 <a href="http://trac.webkit.org/changeset/83873"><code>Blob.webkitSlice()</code></a> 来支持这个新的语法。</p>

<p>[2] <a href="https://hg.mozilla.org/mozilla-central/rev/1b3947ed93c6">Firefox 4</a> 版本实现的 <code>slice()</code> 使用 <code>length</code>来作为第二个参数。但是，因为这语法异于 <a href="/zh-CN/docs/Web/JavaScript/Reference/Array/slice"><code>Array.slice()</code></a> 和 <a href="/zh-CN/docs/Web/JavaScript/Reference/String/slice"><code>String.slice()</code></a>，Gecko 已经将其移除，并添加了 <code>mozSlice()</code> 来支持这个新的语法。</p>

<p>[3] 在Gecko 12.0 (Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9) 之前，有个bug会影响 <code>slice()</code> 的行为，就是参数 <code>start</code> 和 <code>end</code> 的值不能超出64位有符号数字范围，现已修复。</p>

<p>[4] 请看 <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1048325">bug 1048325</a>。</p>

<h2 id="Gecko_备注：特权许可">Gecko 备注：特权许可</h2>

<p>要使用 chrome 代码，JSM 和 Bootstrap 作用域，你必须像这样导入它:</p>

<pre class="brush: js notranslate">Cu.importGlobalProperties([&apos;Blob&apos;]);</pre>

<p><code>Blob</code><font face="Consolas, Liberation Mono, Courier, monospace">可以在</font> Worker 作用域内使用。</p>

<h2 id="相关链接">相关链接</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/BlobBuilder"><code>BlobBuilder</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/FileReader"><code>FileReader</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/File"><code>File</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/URL/createObjectURL"><code>URL.createObjectURL</code></a></li>
 <li><a href="/en-US/docs/Components.utils.importGlobalProperties">Components.utils.importGlobalProperties</a></li>
</ul>
