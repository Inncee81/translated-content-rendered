---
title: IDBCursor.direction
slug: Web/API/IDBCursor/direction
translation_of: Web/API/IDBCursor/direction
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></strong></li><li class="toggle"><details open><summary>属性</summary><ol><li><em><code>direction</code></em></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/key"><code>key</code></a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/primaryKey"><code>primaryKey</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/primaryKey$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/source"><code>source</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/source$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/IDBCursor/advance"><code>advance()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/advance$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/continue"><code>continue()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/continue$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/continuePrimaryKey"><code>continuePrimaryKey()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/continuePrimaryKey$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/delete"><code>delete()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/delete$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/IDBCursor/update"><code>update()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/IDBCursor/update$translate">[我来译!]</a></li></ol></details></li></ol></section><p></p>
<div>
 <p> <a href="/zh-CN/docs/Web/API/IDBCursor" title="The IDBCursor interface of the IndexedDB API represents a cursor for traversing or iterating over multiple records in a database."><code>IDBCursor</code></a> 的方向属性是一个 <a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a> ，表示游标遍历的方向， (比如可以通过 <a href="/zh-CN/docs/Web/API/IDBObjectStore/openCursor" title="To determine if the add operation has completed successfully, listen for the results’s success event."><code>IDBObjectStore.openCursor</code></a> 设置). 查看下文中 <a href="#Values">Values</a> 章节获取可取值.</p>
</div>
<h2 id="语法">语法</h2>
<pre style="font-size: 14px;" class="brush: js">cursor.direction;</pre>
<h3 id="取值">取值</h3>
<p>用一个字符串(defined by the <a href="https://dvcs.w3.org/hg/IndexedDB/raw-file/default/Overview.html#idl-def-IDBCursorDirection"><code>IDBCursorDirection</code> enum</a>) 表示游标的遍历方向。相关取值如下表所示:</p>
<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Value</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>next</code></td>
   <td>从数据源开始位置遍历</td>
  </tr>
  <tr>
   <td><code>nextunique</code></td>
   <td>
    <p> </p>
    <p>从数据源开始遍历；当取值有重复时，只获取一次。</p>
   </td>
  </tr>
  <tr>
   <td><code>prev</code></td>
   <td>
    <p><span style="line-height: 1.5;">从数据源的最后位置位置开取值</span></p>
   </td>
  </tr>
  <tr>
   <td><code>prevunique</code></td>
   <td>从数据源的最后位置开始取值，只获取一次。<br>
     </td>
  </tr>
 </tbody>
</table>
<h2 id="例子">例子</h2>
<p><span style="line-height: 1.5;">在这个简单的例子中，我们首先创建一个事物对象，返回一个对象仓库(store), 然后使用邮编遍历整个数据仓库。在每次迭代中我们记录了游标的方向，例如prev（倒序遍历）</span></p>
<pre style="padding: 1em 0px 1em 30px; font-size: 14px; color: rgb(77, 78, 83);" class="language-html"><code style="font-family: Consolas, Monaco, &apos;Andale Mono&apos;, monospace; direction: ltr;" class="language-html">prev</code></pre>
<div style="margin-top: 1em; position: absolute; left: 0px; right: 0px; line-height: inherit; top: 0px; background: 0px 0px;" class="line-number">
  </div>
<div class="note notecard">
 <p><span style="line-height: 1.5;"><strong>注意</strong>：我们不能改变游标的取值，因为这是个只读属性；应该在</span><span style="line-height: 1.5;"><a href="/zh-CN/docs/Web/API/IDBObjectStore/openCursor" title="To determine if the add operation has completed successfully, listen for the results’s success event."><code>IDBObjectStore.openCursor</code></a>方法调用的第二个参数指定游标遍历的方向；</span></p>
</div>
<p><span style="line-height: 1.5;">使用游标遍历数据时，可以不需要我们指定在特定字段选择数据；我们可以直接获取所有数据，同时在每次循环迭代过程当中，我们可以通过cursor.value.foo获取数据，如下是一个完整的游标遍历数据的例子；</span><span style="line-height: 1.5;"> <a style="white-space: pre-line;" href="https://github.com/mdn/IDBcursor-example/" class="external external-icon">IDBCursor example</a></span><span style="line-height: 1.5;"> (</span><a style="line-height: 1.5; white-space: pre-line;" href="http://mdn.github.io/IDBcursor-example/" class="external external-icon">view example live</a><span style="line-height: 1.5;">.)</span></p>
<pre class="brush: js">function backwards() {
  list.innerHTML = &apos;&apos;;
  var transaction = db.transaction([&apos;rushAlbumList&apos;], &apos;readonly&apos;);
  var objectStore = transaction.objectStore(&apos;rushAlbumList&apos;);

  objectStore.openCursor(null,&apos;prev&apos;).onsuccess = function(event) {
    var cursor = event.target.result;
      if(cursor) {
        var listItem = document.createElement(&apos;li&apos;);
        listItem.innerHTML = &apos;&lt;strong&gt;&apos; + cursor.value.albumTitle + &apos;&lt;/strong&gt;, &apos; + cursor.value.year;
        list.appendChild(listItem);

        console.log(cursor.direction);
        cursor.continue();
      } else {
        console.log(&apos;Entries displayed backwards.&apos;);
      }
  };
};</pre>
<h2 id="Specifications">Specifications</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/IndexedDB/#widl-IDBCursor-direction" class="external" hreflang="en">Indexed Database API<br><small lang="zh-CN">direction</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>
<h2 id="Browser_compatibility" name="Browser_compatibility">浏览器兼容性</h2>
<div>
 <div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>
<div id="compat-desktop">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>Feature</th>
    <th>Chrome</th>
    <th>Firefox (Gecko)</th>
    <th>Internet Explorer</th>
    <th>Opera</th>
    <th>Safari (WebKit)</th>
   </tr>
   <tr>
    <td>Basic support</td>
    <td>23<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">webkit</a></span><br>
     24</td>
    <td>10 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">moz</a></span><br>
     <a href="/en-US/Firefox/Releases/16">16.0</a> (16.0)</td>
    <td>10, partial</td>
    <td>15</td>
    <td>7.1</td>
   </tr>
  </tbody>
 </table>
</div>
<div id="compat-mobile">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>Feature</th>
    <th>Android</th>
    <th>Firefox Mobile (Gecko)</th>
    <th>Firefox OS</th>
    <th>IE Phone</th>
    <th>Opera Mobile</th>
    <th>Safari Mobile</th>
   </tr>
   <tr>
    <td>Basic support</td>
    <td>4.4</td>
    <td>22.0 (22.0)</td>
    <td>1.0.1</td>
    <td>10</td>
    <td>22</td>
    <td><span style="color: #f00;">未实现</span></td>
   </tr>
  </tbody>
 </table>
</div>
<h2 id="sect1"> </h2>
<h2 id="参考资料">参考资料</h2>
<ul>
 <li><a href="/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB">Using IndexedDB</a></li>
 <li>Starting transactions: <a href="/zh-CN/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li>
 <li>Using transactions: <a href="/zh-CN/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li>
 <li>Setting a range of keys: <a href="/zh-CN/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li>
 <li>Retrieving and making changes to your data: <a href="/zh-CN/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li>
 <li>Using cursors: <a href="/zh-CN/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li>
 <li>Reference example: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" class="external">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" class="external">view example live</a>.)</li>
</ul>
