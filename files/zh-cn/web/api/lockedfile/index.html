---
title: LockedFile
slug: Web/API/LockedFile
tags:
  - API
  - 文件
  - 文件操作
  - 锁定
translation_of: Web/API/LockedFile
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/File_and_Directory_Entries_API">File and Directory Entries API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/LockedFile"><code>LockedFile</code></a></strong></li><li class="toggle"><details open><summary>属性</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-CN/docs/Web/API/LockedFile/active"><code>active</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/active$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/fileHandle"><code>fileHandle</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/fileHandle$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/location"><code>location</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/location$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/mode"><code>mode</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/mode$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/onabort"><code>onabort</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/onabort$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/oncomplete"><code>oncomplete</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/oncomplete$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/onerror"><code>onerror</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/onerror$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/LockedFile/abort"><code>abort()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/abort$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/append"><code>append()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/append$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/flush"><code>flush()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/flush$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/getMetaData"><code>getMetadata()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/getMetaData$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/readAsArrayBuffer"><code>readAsArrayBuffer()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/readAsArrayBuffer$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/readAsText"><code>readAsText()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/readAsText$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/truncate"><code>truncate()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/truncate$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/LockedFile/write"><code>write()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/LockedFile/write$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/error"><code>error</code></a></li><li><a href="/zh-CN/docs/Web/Events/writeend"><code>writeend</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for File System API</summary><ol><li><a href="/zh-CN/docs/Web/API/FileError"><code>FileError</code></a></li><li><a href="/zh-CN/docs/Web/API/FileException"><code>FileException</code></a></li><li><a href="/zh-CN/docs/Web/API/FileHandle"><code>FileHandle</code></a></li><li><a href="/zh-CN/docs/Web/API/FileRequest"><code>FileRequest</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystem"><code>FileSystem</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemDirectoryEntry"><code>FileSystemDirectoryEntry</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemDirectoryEntrySync"><code>FileSystemDirectoryEntrySync</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemDirectoryReader"><code>FileSystemDirectoryReader</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemDirectoryReaderSync"><code>FileSystemDirectoryReaderSync</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemEntry"><code>FileSystemEntry</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemEntrySync"><code>FileSystemEntrySync</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemFileEntry"><code>FileSystemFileEntry</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemFileEntrySync"><code>FileSystemFileEntrySync</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemFlags"><code>FileSystemFlags</code></a></li><li><a href="/zh-CN/docs/Web/API/FileSystemSync"><code>FileSystemSync</code></a></li><li><a href="/zh-CN/docs/Web/API/HTMLInputElement"><code>HTMLInputElement</code></a></li><li><a href="/zh-CN/docs/Web/API/LocalFileSystem"><code>LocalFileSystem</code></a></li><li><a href="/zh-CN/docs/Web/API/LocalFileSystemSync"><code>LocalFileSystemSync</code></a></li><li><a href="/zh-CN/docs/Web/API/Metadata"><code>Metadata</code></a></li><li><a href="/zh-CN/docs/Web/API/Window/requestFileSystem"><code>Window.requestFileSystem()</code></a></li><li><a href="/zh-CN/docs/Web/API/Window/resolveLocalFileSystemURL"><code>Window.resolveLocalFileSystemURL()</code></a></li><li><a href="/zh-CN/docs/Web/API/WorkerGlobalScope/requestFileSystemSync"><code>WorkerGlobalScope.requestFileSystemSync()</code></a></li></ol></details></li></ol></section> <div class="nonStandard nonStandardHeader notecard">
      <p><strong><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> 非标准</strong><br>
      该特性是非标准的，请尽量不要在生产环境中使用它！</p>
      </div><p></p>

<h2 id="概要">概要</h2>

<p><code>LockedFile</code> 接口提供了处理给定文件的所有必要锁定工具</p>

<h2 id="属性">属性</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/fileHandle" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.fileHandle</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>从被打开的锁定文件返回一个 <a href="/zh-CN/docs/Web/API/FileHandle" title="此页面仍未被本地化, 期待您的翻译!"><code>FileHandle</code></a> 对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/mode" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.mode</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>访问文件的方式; 返回<code>readonly</code> 或 <code>readwrite。</code></dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/active" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.active</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>指示文件是否可以访问，返回true或false。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/location" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.location</code></a></dt>
 <dd>读/写指针在文件中的位置。</dd>
</dl>

<h3 id="事件处理">事件处理</h3>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/oncomplete" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.oncomplete</code></a></dt>
 <dd>每次读取或写入操作成功时触发 <code><a href="/zh-CN/docs/Web/Reference/Events/complete" title="/zh-CN/docs/Web/Reference/Events/complete">complete</a></code> 事件。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/onabort" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.onabort</code></a></dt>
 <dd>每次调用<a href="/zh-CN/docs/Web/API/LockedFile/abort" title="此页面仍未被本地化, 期待您的翻译!"><code>abort()</code></a> 方法时会触发<code><a href="/zh-CN/docs/Web/Reference/Events/abort" title="/zh-CN/docs/Web/Reference/Events/abort">abort</a></code>事件。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/onerror" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.onerror</code></a></dt>
 <dd>在每次出现问题时触发<code><a href="/zh-CN/docs/Web/Reference/Events/error" title="/zh-CN/docs/Web/Reference/Events/error">error</a></code>事件。</dd>
</dl>

<h2 id="方法">方法</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/getMetadata" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.getMetadata()</code></a></dt>
 <dd>允许检索文件元数据（上次修改的大小和日期）。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/readAsArrayBuffer" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.readAsArrayBuffer()</code></a></dt>
 <dd>允许以<a href="/zh-CN/docs/Web/API/ArrayBuffer" title="此页面仍未被本地化, 期待您的翻译!"><code>ArrayBuffer</code></a>形式检索文件内容的一部分。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/readAsText" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.readAsText()</code></a></dt>
 <dd>允许以字符串形式检索文件内容的一部分。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/write" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.write()</code></a></dt>
 <dd>允许从<a href="/zh-CN/docs/Web/API/LockedFile/location" title="此页面仍未被本地化, 期待您的翻译!"><code>location</code></a> 偏移量开始在文件中写入一些数据。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/append" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.append()</code></a></dt>
 <dd>允许从文件末尾写入一些数据。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/truncate" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.truncate()</code></a></dt>
 <dd>允许截断文件的内容。返回<a href="/zh-CN/docs/Web/API/FileRequest" title="这个 FileRequest 接口继承自 DOMRequest 接口，用来提供一些 LockedFile 对象需要的额外的必要的属性。"><code>FileRequest</code></a>对象。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/flush" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.flush()</code></a></dt>
 <dd>允许保证任何缓冲的数据已被传输到磁盘。</dd>
 <dt><a href="/zh-CN/docs/Web/API/LockedFile/abort" title="此页面仍未被本地化, 期待您的翻译!"><code>LockedFile.abort()</code></a></dt>
 <dd>使LockedFile无效并取消所有正在进行的操作。</dd>
</dl>

<h2 id="标准">标准</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" title="FileSystem API" href="https://w3c.github.io/filesystem-api/" class="external" hreflang="en">FileSystem API</a></td>
   <td><span class="spec-ED">Editor&apos;s Draft</span></td>
   <td>Draft proposal.</td>
  </tr>
 </tbody>
</table>

<h2 id="另见">另见</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/FileHandle"><code>FileHandle</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/FileRequest"><code>FileRequest</code></a></li>
</ul>
