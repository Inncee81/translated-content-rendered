---
title: CanvasGradient.addColorStop()
slug: Web/API/CanvasGradient/addColorStop
translation_of: Web/API/CanvasGradient/addColorStop
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/CanvasGradient"><code>CanvasGradient</code></a></strong></li><li class="toggle"><details open><summary>方法</summary><ol><li><em><code>addColorStop()</code></em></li></ol></details></li></ol></section></div>

<p><code><strong>CanvasGradient</strong></code><strong><code>.addColorStop()</code></strong> 方法添加一个由<strong><code>偏移值</code></strong>和<strong><code>颜色值</code></strong>指定的断点到渐变。如果偏移值不在<code>0</code>到<code>1</code>之间，将抛出<code>INDEX_SIZE_ERR</code>错误，如果颜色值不能被解析为有效的CSS颜色值 <a href="/zh-CN/docs/Web/CSS/color_value" title="CSS 数据类型 &lt;color&gt; 表示一种标准RGB色彩空间（sRGB color space）的颜色。一种颜色可以用以下任意的方式来描述："><code>&lt;color&gt;</code></a>，将抛出<code>SYNTAX_ERR</code>错误。</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">void <var><em>gradient</em>.addColorStop(offset, color);</var>
</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt>offset</dt>
 <dd><code>0</code>到<code>1</code>之间的值，超出范围将抛出<code>INDEX_SIZE_ERR</code>错误</dd>
 <dt>color</dt>
 <dd>CSS颜色值 <a href="/zh-CN/docs/Web/CSS/color_value" title="CSS 数据类型 &lt;color&gt; 表示一种标准RGB色彩空间（sRGB color space）的颜色。一种颜色可以用以下任意的方式来描述："><code>&lt;color&gt;</code></a>。如果颜色值不能被解析为有效的CSS颜色值 <code>&lt;color&gt;</code>，将抛出<code>SYNTAX_ERR</code>错误。</dd>
</dl>

<h2 id="示例">示例</h2>

<h3 id="使用addColorStop方法">使用<code>addColorStop</code>方法</h3>

<p>一个使用<a href="/zh-CN/docs/Web/API/CanvasGradient" title="CanvasGradient 接口表示描述渐变的不透明对象。通过 CanvasRenderingContext2D.createLinearGradient() 或 CanvasRenderingContext2D.createRadialGradient() 的返回值得到."><code>CanvasGradient</code></a>对象的<code>addColorStop</code> 方法的简单例子</p>

<h4 id="HTML">HTML</h4>

<pre class="brush: html"> &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;</pre>

<h4 id="JavaScript">JavaScript</h4>

<pre class="brush: js; highlight:[5,6]">var canvas = document.getElementById(&quot;canvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);

var gradient = ctx.createLinearGradient(0,0,200,0);
gradient.addColorStop(0,&quot;green&quot;);
gradient.addColorStop(1,&quot;white&quot;);
ctx.fillStyle = gradient;
ctx.fillRect(10,10,200,100);
</pre>

<p>编辑以下代码可看到画布变化:</p>

<div style="display: none;">
<h6 id="Playable_code">Playable code</h6>

<pre class="brush: html">&lt;canvas id=&quot;canvas&quot; width=&quot;400&quot; height=&quot;200&quot; class=&quot;playable-canvas&quot;&gt;&lt;/canvas&gt;
&lt;div class=&quot;playable-buttons&quot;&gt;
  &lt;input id=&quot;edit&quot; type=&quot;button&quot; value=&quot;Edit&quot; /&gt;
  &lt;input id=&quot;reset&quot; type=&quot;button&quot; value=&quot;Reset&quot; /&gt;
&lt;/div&gt;
&lt;textarea id=&quot;code&quot; class=&quot;playable-code&quot;&gt;
var gradient = ctx.createLinearGradient(0,0,200,0);
gradient.addColorStop(0,&quot;green&quot;);
gradient.addColorStop(1,&quot;white&quot;);
ctx.fillStyle = gradient;
ctx.fillRect(10,10,200,100);&lt;/textarea&gt;
</pre>

<pre class="brush: js">var canvas = document.getElementById(&quot;canvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);
var textarea = document.getElementById(&quot;code&quot;);
var reset = document.getElementById(&quot;reset&quot;);
var edit = document.getElementById(&quot;edit&quot;);
var code = textarea.value;

function drawCanvas() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  eval(textarea.value);
}

reset.addEventListener(&quot;click&quot;, function() {
  textarea.value = code;
  drawCanvas();
});

edit.addEventListener(&quot;click&quot;, function() {
  textarea.focus();
})

textarea.addEventListener(&quot;input&quot;, drawCanvas);
window.addEventListener(&quot;load&quot;, drawCanvas);
</pre>
</div>

<p><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="360" id="frame_Playable_code" src="https://mdn.mozillademos.org/zh-CN/docs/Web/API/CanvasGradient/addColorStop$samples/Playable_code?revision=1506320" width="700"></iframe></p>

<h2 id="标准">标准</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">标准</th>
   <th scope="col">状态</th>
   <th scope="col">备注</th>
  </tr>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/scripting.html#dom-canvasgradient-addcolorstop" hreflang="en" lang="en">HTML Living Standard<br><small lang="zh-CN">CanvasGradient.addColorStop</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a class="external" hreflang="en" lang="en">Unknown<br><small lang="zh-CN">CanvasGradient.addColorStop</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>功能</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>基本支持</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>功能</th>
   <th>Android</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>基本支持</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="请参阅">请参阅</h2>

<ul>
 <li>接口定义 <a href="/zh-CN/docs/Web/API/CanvasGradient" title="CanvasGradient 接口表示描述渐变的不透明对象。通过 CanvasRenderingContext2D.createLinearGradient() 或 CanvasRenderingContext2D.createRadialGradient() 的返回值得到."><code>CanvasGradient</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/CanvasRenderingContext2D/createLinearGradient" title="CanvasRenderingContext2D.createLinearGradient()方法创建一个沿参数坐标指定的直线的渐变。该方法返回一个线性 CanvasGradient对象。"><code>CanvasRenderingContext2D.createLinearGradient()</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/CanvasRenderingContext2D/createRadialGradient" title="CanvasRenderingContext2D.createRadialGradient() 是 Canvas 2D API 根据参数确定两个圆的坐标，绘制放射性渐变的方法。这个方法返回 CanvasGradient。"><code>CanvasRenderingContext2D.createRadialGradient()</code></a></li>
</ul>
