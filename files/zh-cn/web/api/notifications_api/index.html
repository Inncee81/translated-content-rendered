---
title: Notifications API
slug: Web/API/Notifications_API
tags:
  - Notifications API
translation_of: Web/API/Notifications_API
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Notifications_API">Notifications API</a></strong></li><li class="toggle"><details open><summary>Guides</summary><ol><li><a href="/zh-CN/docs/Web/API/notification/Using_Web_Notifications">使用 Web Notifications</a></li></ol></details></li><li class="toggle"><details open><summary>Interfaces</summary><ol><li><a href="/zh-CN/docs/Web/API/Notification"><code>Notification</code></a></li><li><a href="/zh-CN/docs/Web/API/NotificationEvent"><code>NotificationEvent</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/ServiceWorkerGlobalScope/onnotificationclick"><code>ServiceWorkerGlobalScope.onnotificationclick</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/ServiceWorkerRegistration/showNotification"><code>ServiceWorkerRegistration.showNotification()</code></a></li><li><a href="/zh-CN/docs/Web/API/ServiceWorkerRegistration/getNotifications"><code>ServiceWorkerRegistration.getNotifications()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/error"><code>error</code></a></li><li><a href="/zh-CN/docs/Web/Events/click"><code>click</code></a></li><li><a href="/zh-CN/docs/Web/Events/close"><code>close</code></a></li><li><a href="/zh-CN/docs/Web/Events/show"><code>show</code></a></li></ol></details></li></ol></section><p></p>

<p class="summary"><strong>Notifications API</strong> 允许网页控制向最终用户显示系统通知 —这些都在顶级浏览上下文视口之外，因此即使用户已经切换标签页或移动到不同的应用程序，也可以显示。该API被设计成与不同平台上的现有通知系统兼容。</p>

<h2 id="概念和用法">概念和用法</h2>

<p>在支持该接口的平台上，显示一个系统通知通常涉及两件事。首先，用户需要授予当前源的权限以显示系统通知，这通常在应用或站点初始化时, 使用<a href="/zh-CN/docs/Web/API/Notification/requestPermission" title="Notification 接口的 requestPermission() 方法请求用户当前来源的权限以显示通知。"><code>Notification.requestPermission()</code></a> 方法来完成。</p>

<p>这将产生一个请求对话框，沿着以下几行：</p>

<p><br>
 <img src="https://mdn.mozillademos.org/files/10819/notification-bubble.png" alt style="display: block; height: 205px; margin: 0 auto; width: 453px;"></p>

<p>从这里，用户可以选择允许来自此来源的通知，阻止来自此来源的通知，或不选择此点。一旦做出选择，该设置通常将持续用于当前会话。</p>

<div class="note notecard">
<p><span style="font-size: 14px;"><strong>注</strong></span>：从Firefox 44开始， 通知（Notifications） 和推送（<a href="/en-US/docs/Web/API/Push_API">Push</a>）的权限已合并。如果为通知授予权限，推送也将启用。</p>
</div>

<p>接下来，使用 <a href="/zh-CN/docs/Web/API/Notification/Notification" title="Notification() 构造函数创建一个新的Notification对象实例。"><code>Notification()</code></a> 构造函数创建一个新通知。这个方法可以传入两个参数。这必须传递一个标题参数，并可以选择性地传递一个选项对象来指定选项，如文本方向，正文，显示图标，通知声音播放, 等等。</p>

<p></p><div class="note notecard"><strong>Note:</strong> 此特性在 <a href="/zh-CN/docs/Web/API/Web_Workers_API">Web Worker</a> 中可用。</div><p></p>

<p>此外， <strong>Notifications API</strong> 规范对  <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker_API">ServiceWorker API</a>指定了多个添加，以允许 service workers发送通知。</p>

<div class="note notecard">
<p><strong>注</strong>：想了解怎么在你的应用里使用通知接口，请阅读  <a href="/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">Using the Notifications API</a>。</p>
</div>

<h2 id="接口（Notifications_interfaces）">接口（Notifications interfaces）</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/Notification" title="Notifications API 的通知接口用于向用户配置和显示桌面通知。"><code>Notification</code></a></dt>
 <dd>定义的通知对象</dd>
</dl>

<h3 id="附加参数（Service_worker_additions）">附加参数（Service worker additions）</h3>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/ServiceWorkerRegistration" title="The ServiceWorkerRegistration interface of the ServiceWorker API represents the service worker registration. You register a service worker to control one or more pages that share the same origin."><code>ServiceWorkerRegistration</code></a></dt>
 <dd>该对象包含 <a href="/zh-CN/docs/Web/API/ServiceWorkerRegistration/showNotification" title="此页面仍未被本地化, 期待您的翻译!"><code>ServiceWorkerRegistration.showNotification()</code></a> 和 <a href="/zh-CN/docs/Web/API/ServiceWorkerRegistration/getNotifications" title="此页面仍未被本地化, 期待您的翻译!"><code>ServiceWorkerRegistration.getNotifications()</code></a> 方法，用于控制通知的显示。</dd>
 <dt><a href="/zh-CN/docs/Web/API/ServiceWorkerGlobalScope" title="The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker."><code>ServiceWorkerGlobalScope</code></a></dt>
 <dd>该对象包含 <a href="/zh-CN/docs/Web/API/ServiceWorkerGlobalScope/onnotificationclick" title="此页面仍未被本地化, 期待您的翻译!"><code>ServiceWorkerGlobalScope.onnotificationclick</code></a> 事件处理函数，用于通知被点击的时候触发绑定的事件处理函数。</dd>
 <dt><a href="/zh-CN/docs/Web/API/NotificationEvent" title="此页面仍未被本地化, 期待您的翻译!"><code>NotificationEvent</code></a></dt>
 <dd>该对象是功能明确的事件对象，表示一个通知事件被触发了，继承自<a href="/zh-CN/docs/Web/API/ExtendableEvent" title="The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries."><code>ExtendableEvent</code></a>。</dd>
</dl>

<h2 id="官方文档">官方文档</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://notifications.spec.whatwg.org/" class="external" hreflang="en">Notifications API</a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td>Living standard</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>5<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">webkit</a></span><sup>[1]</sup><br>
    22</td>
   <td><a href="/en-US/Firefox/Releases/4">4.0</a> (2.0)<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    <a href="/en-US/Firefox/Releases/22">22.0</a> (22.0)</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>25</td>
   <td>6<sup>[3]</sup></td>
  </tr>
  <tr>
   <td>Available in workers</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><a href="/en-US/Firefox/Releases/41">41.0</a> (41.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
  <tr>
   <td>Service worker additions</td>
   <td>
    <p>42.0</p>
   </td>
   <td><a href="/en-US/Firefox/Releases/42">42.0</a> (42.0)<sup>[4]</sup></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>
    <p><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></p>
   </td>
   <td>4.0 (2.0)<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    22.0 (22.0)</td>
   <td>1.0.1<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-CN/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    1.2</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>
    <p><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></p>
   </td>
  </tr>
  <tr>
   <td>Available in workers</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>41.0 (41.0)</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
  <tr>
   <td>Service worker additions</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>42.0 (42.0)<sup>[4]</sup></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>42.0</td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] 在 Chrome 22 之前, 通知接口遵守一个旧版本的提案（an <a href="http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification">old prefixed version of the specification</a> ）使用一个包含前缀符的<a href="/zh-CN/docs/Web/API/Window/navigator/webkitNotifications" title="此页面仍未被本地化, 期待您的翻译!"><code>navigator.webkitNotifications</code></a> 对象来实例化一个通知对象。 在 Chrome 32之前， <a href="/zh-CN/docs/Web/API/Notification/permission" title="Notification 的只读属性 permission 用来表明用户是否允许当前域显示Web Notification. "><code>Notification.permission</code></a>属性不支持。</p>

<p>[2] 在 Firefox 22 (Firefox OS &lt;1.2)之前，通知对象的实例化需要使用<a href="/zh-CN/docs/Web/API/Window/navigator/mozNotification" title="此页面仍未被本地化, 期待您的翻译!"><code>navigator.mozNotification</code></a> 对象的 <code style="font-style: normal; font-weight: normal;">createNotification()</code> 方法。另外，通知对象需要使用 <code style="font-style: normal; font-weight: normal;">show()</code> 方法来显示，并且仅支持 <code style="font-style: normal; font-weight: normal;">click</code> 和 <code style="font-style: normal; font-weight: normal;">close</code> 事件 (Nick Desaulniers 写了一个通知的兼容解决方法（ a <a href="https://github.com/nickdesaulniers/fxos-irc/blob/master/js/notification.js">Notification shim</a> ）来覆盖旧浏览器和现代浏览器。)</p>

<p>[3] Safari 从Safari 6开始支持通知，但只在 Mac OSX 10.8+ (Mountain Lion)上。</p>

<p>[4] Firefox 42 has shipped with web notifications from Service Workers disabled.</p>

<h2 id="Firefox_OS_permissions">Firefox OS permissions</h2>

<p>当你在 Firefox OS app中使用通知时，请确保在manifest文件中添加了<code>desktop-notification</code> 权限 。 Notifications can be used at any permission level, hosted or above:</p>

<pre class="brush: json">&quot;permissions&quot;: {
  &quot;desktop-notification&quot;: {}
}</pre>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">Using the Notifications API</a></li>
</ul>
