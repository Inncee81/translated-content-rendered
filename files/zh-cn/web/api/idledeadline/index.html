---
title: IdleDeadline
slug: Web/API/IdleDeadline
translation_of: Web/API/IdleDeadline
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Background_Tasks_API">Background Tasks API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/IdleDeadline"><code>IdleDeadline</code></a></strong></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/IdleDeadline/didTimeout"><code>didTimeout</code></a> <a href="/zh-CN/docs/Web/API/IdleDeadline/didTimeout$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/IdleDeadline/timeRemaining"><code>timeRemaining()</code></a> <a href="/zh-CN/docs/Web/API/IdleDeadline/timeRemaining$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Background Tasks</summary><ol><li><a href="/zh-CN/docs/Web/API/Window/cancelIdleCallback"><code>Window.cancelIdleCallback()</code></a></li><li><a href="/zh-CN/docs/Web/API/Window/requestIdleCallback"><code>Window.requestIdleCallback()</code></a></li></ol></details></li></ol></section></div>

<div id="interface_description">
<p><code>IdleDeadline</code> interface 在 <a href="/zh-CN/docs/Web/API/Window/requestIdleCallback" title="window.requestIdleCallback()方法将在浏览器的空闲时段内调用的函数排队。这使开发人员能够在主事件循环上执行后台和低优先级工作，而不会影响延迟关键事件，如动画和输入响应。函数一般会按先进先调用的顺序执行，然而，如果回调函数指定了执行超时时间timeout，则有可能为了在超时前执行函数而打乱执行顺序。"><code>Window.requestIdleCallback()</code></a>被调用的时候做为一个<code>IdleDeadline</code> interface类型的参数传递给requestIdleCallback方法的回调函数。它提供了一个方法, 可以让你判断用户代理(浏览器)还剩余多少闲置时间可以用来执行耗时任务<a href="/zh-CN/docs/Web/API///timeRemaining" title="此页面仍未被本地化, 期待您的翻译!"><code>timeRemaining()</code></a>,<a href="/zh-CN/docs/Web/API/IdleDeadline/didTimeout" title="此页面仍未被本地化, 期待您的翻译!"><code>didTimeout</code></a>, didTimeout属性用来判断当前的回调函数是否被执行因为回调函数存在过期时间(requestIdleCallback的第二个参数用来指定执行超时时间，即回调函数在规定的时间内是否被执行，如果没有执行didTimeout属性将为ture，如果任务是急需完成的此时应该忽略剩余时间逻辑上强制执行回调函数)。</p>

<p>学习更多的request callbacks工作原理请参考<a href="/en-US/docs/Web/API/Background_Tasks_API">Collaborative Scheduling of Background Tasks</a>.</p>
</div>

<h2 id="Properties">Properties</h2>

<dl id="property_definitions">
 <dt><a href="/zh-CN/docs/Web/API/IdleDeadline/didTimeout" title="此页面仍未被本地化, 期待您的翻译!"><code>IdleDeadline.didTimeout</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>一个Boolean类型当它的值为true的时候说明callback正在被执行(并且上一次执行回调函数执行的时候由于时间超时回调函数得不到执行)，因为在执行requestIdleCallback回调的时候指定了超时时间并且时间已经超时。</dd>
</dl>

<h2 id="methods" name="methods">Methods</h2>

<dl id="method_definitions">
 <dt><a href="/zh-CN/docs/Web/API/IdleDeadline/timeRemaining" title="此页面仍未被本地化, 期待您的翻译!"><code>IdleDeadline.timeRemaining()</code></a></dt>
 <dd>返回一个时间<a href="/zh-CN/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 是一个double类型，用于存储时间值。该值可以是离散的时间点或两个离散时间点之间的时间差。T单位为毫秒 ms (milliseconds) ，应准确至5微秒 µs (microseconds)。但是，如果浏览器无法提供准确到5微秒的时间值(例如,由于硬件或软件的限制), 浏览器可以以毫秒为单位的精确到毫秒的时间表示该值。"><code>DOMHighResTimeStamp</code></a>, 并且是浮点类型的数值，它用来表示当前闲置周期的预估剩余毫秒数。如果idle period已经结束，则它的值是0。你的回调函数(传给requestIdleCallback的函数)可以重复的访问这个属性用来判断当前线程的闲置时间是否可以在结束前执行更多的任务。</dd>
</dl>

<dl id="method_definitions_obsolete">
</dl>

<h2 id="Example" name="Example">Example</h2>

<p>实例<a href="/en-US/docs/Web/API/Background_Tasks_API#Example">complete example</a> （在 <a href="/en-US/docs/Web/API/Background_Tasks_API">Cooperative Scheduling of Background Tasks API</a>.文章内）</p>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/requestidlecallback/" hreflang="en" lang="en">Cooperative Scheduling of Background Tasks</a></td>
   <td><span class="spec-PR">Proposed Recommendation</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>47</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><a href="/en-US/Firefox/Releases/53">53</a> (53)<sup>[1]</sup></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>34</td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Chrome</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>53</td>
   <td>55</td>
   <td>53.0 (53)<sup>[1]</sup></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td>37</td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Idle callback功能在Firefox 53版本中添加，但是默认处于未启用状态. 通过设置<code>dom.requestIdleCallback.enabled</code> 属性为true 来启用该功能。Idle callback功能在Firefox 55版本中默认启用。</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Background_Tasks_API">Cooperative Scheduling of Background Tasks API</a></li>
 <li><a href="/zh-CN/docs/Web/API/Window/requestIdleCallback"><code>Window.requestIdleCallback()</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/Window/cancelIdleCallback"><code>Window.cancelIdleCallback()</code></a></li>
</ul>
