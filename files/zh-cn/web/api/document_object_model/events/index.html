---
title: 事件及DOM
slug: Web/API/Document_Object_Model/Events
tags:
  - DOM
  - events
translation_of: Web/API/Document_Object_Model/Events
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Document_Object_Model">Document Object Model</a></strong></li><li class="toggle"><details open><summary>Guides</summary><ol><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Introduction">DOM概述</a></li><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Using_the_W3C_DOM_Level_1_Core">使用 W3C DOM Level 1 核心</a></li><li><a href="/zh-CN/docs/%E4%BD%BF%E7%94%A8Javascript%E5%92%8CDOM_Interfaces%E6%9D%A5%E5%A4%84%E7%90%86HTML">使用Javascript和DOM Interfaces来处理HTML</a></li><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Locating_DOM_elements_using_selectors">使用选择器定位DOM元素</a></li><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/How_to_create_a_DOM_tree">如何创建一个DOM树</a></li><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Events">事件及DOM</a></li><li><a href="/zh-CN/docs/Web/Guide/API/DOM/Whitespace_in_the_DOM">DOM中的空白符</a></li><li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Examples">Examples</a></li></ol></details></li><li class="toggle"><details open><summary>Interfaces</summary><ol><li><a href="/zh-CN/docs/Web/API/AbortController"><code>AbortController</code></a></li><li><a href="/zh-CN/docs/Web/API/AbortSignal"><code>AbortSignal</code></a></li><li><a href="/zh-CN/docs/Web/API/Attr"><code>Attr</code></a></li><li><a href="/zh-CN/docs/Web/API/ByteString"><code>ByteString</code></a></li><li><a href="/zh-CN/docs/Web/API/CDATASection"><code>CDATASection</code></a></li><li><a href="/zh-CN/docs/Web/API/CharacterData"><code>CharacterData</code></a></li><li><a href="/zh-CN/docs/Web/API/ChildNode"><code>ChildNode</code></a></li><li><a href="/zh-CN/docs/Web/API/CSSPrimitiveValue"><code>CSSPrimitiveValue</code></a></li><li><a href="/zh-CN/docs/Web/API/CSSValue"><code>CSSValue</code></a></li><li><a href="/zh-CN/docs/Web/API/CSSValueList"><code>CSSValueList</code></a></li><li><a href="/zh-CN/docs/Web/API/Comment"><code>Comment</code></a></li><li><a href="/zh-CN/docs/Web/API/CustomEvent"><code>CustomEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/Document"><code>Document</code></a></li><li><a href="/zh-CN/docs/Web/API/DocumentFragment"><code>DocumentFragment</code></a></li><li><a href="/zh-CN/docs/Web/API/DocumentType"><code>DocumentType</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMConfiguration"><code>DOMConfiguration</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMError"><code>DOMError</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMErrorHandler"><code>DOMErrorHandler</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMException"><code>DOMException</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMImplementation"><code>DOMImplementation</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMImplementationList"><code>DOMImplementationList</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMImplementationRegistry"><code>DOMImplementationRegistry</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMImplementationSource"><code>DOMImplementationSource</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMLocator"><code>DOMLocator</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMObject"><code>DOMObject</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMParser"><code>DOMParser</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMPoint"><code>DOMPoint</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMPointInit"><code>DOMPointInit</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMPointReadOnly"><code>DOMPointReadOnly</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMRect"><code>DOMRect</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMString"><code>DOMString</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMTimeStamp"><code>DOMTimeStamp</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMTokenList"><code>DOMTokenList</code></a></li><li><a href="/zh-CN/docs/Web/API/DOMUserData"><code>DOMUserData</code></a></li><li><a href="/zh-CN/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/zh-CN/docs/Web/API/ElementTraversal"><code>ElementTraversal</code></a></li><li><a href="/zh-CN/docs/Web/API/Entity"><code>Entity</code></a></li><li><a href="/zh-CN/docs/Web/API/EntityReference"><code>EntityReference</code></a></li><li><a href="/zh-CN/docs/Web/API/Event"><code>Event</code></a></li><li><a href="/zh-CN/docs/Web/API/EventTarget"><code>EventTarget</code></a></li><li><a href="/zh-CN/docs/Web/API/HTMLCollection"><code>HTMLCollection</code></a></li><li><a href="/zh-CN/docs/Web/API/MutationObserver"><code>MutationObserver</code></a></li><li><a href="/zh-CN/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/zh-CN/docs/Web/API/NodeFilter"><code>NodeFilter</code></a></li><li><a href="/zh-CN/docs/Web/API/NodeIterator"><code>NodeIterator</code></a></li><li><a href="/zh-CN/docs/Web/API/NodeList"><code>NodeList</code></a></li><li><a href="/zh-CN/docs/Web/API/NonDocumentTypeChildNode"><code>NonDocumentTypeChildNode</code></a></li><li><a href="/zh-CN/docs/Web/API/ProcessingInstruction"><code>ProcessingInstruction</code></a></li><li><a href="/zh-CN/docs/Web/API/PromiseResolver"><code>PromiseResolver</code></a></li><li><a href="/zh-CN/docs/Web/API/Range"><code>Range</code></a></li><li><a href="/zh-CN/docs/Web/API/Text"><code>Text</code></a></li><li><a href="/zh-CN/docs/Web/API/TextDecoder"><code>TextDecoder</code></a></li><li><a href="/zh-CN/docs/Web/API/TextEncoder"><code>TextEncoder</code></a></li><li><a href="/zh-CN/docs/Web/API/TimeRanges"><code>TimeRanges</code></a></li><li><a href="/zh-CN/docs/Web/API/TreeWalker"><code>TreeWalker</code></a></li><li><a href="/zh-CN/docs/Web/API/TypeInfo"><code>TypeInfo</code></a></li><li><a href="/zh-CN/docs/Web/API/UserDataHandler"><code>UserDataHandler</code></a></li><li><a href="/zh-CN/docs/Web/API/USVString"><code>USVString</code></a></li><li><a href="/zh-CN/docs/Web/API/XMLDocument"><code>XMLDocument</code></a></li></ol></details></li></ol></section>

<h2 id="Introduction" name="Introduction">简介</h2>

<p>这一章节介绍了DOM事件模型（DOM Event Model）。主要描述了<a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event">事件（Event）</a>接口本身以及DOM节点中的事件注册接口、<a href="/en-US/docs/Web/API/EventTarget.addEventListener">事件监听接口</a>，以及几个展示了多种事件接口之间相互关联的较长示例。</p>

<p>这里有一张非常不错的图表清晰地解释了在<a href="http://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture">DOM3级事件草案（DOM Level 3 Events draft）</a>中通过DOM处理事件流的三个阶段。</p>

<p>也可以通过示例章节的 <a href="/en-US/docs/DOM/DOM_Reference/Examples#Example_5:_Event_Propagation">示例5：事件传递</a> 获取更多事件如何在DOM中流转的相关细节。</p>

<h2 id="DOM_event_handler_List" name="DOM_event_handler_List">注册事件监听器</h2>

<p>这里有3种方法来为一个DOM元素注册事件回调。</p>

<h3 id="EventTarget.addEventListener" name="EventTarget.addEventListener"><a href="/zh-CN/docs/Web/API/EventTarget/addEventListener" title="EventTarget.addEventListener() 方法将指定的监听器注册到 EventTarget 上，当该对象触发指定的事件时，指定的回调函数就会被执行。 事件目标可以是一个文档上的元素 Element,Document和Window或者任何其他支持事件的对象 (比如 XMLHttpRequest)。"><code>EventTarget.addEventListener</code></a></h3>

<pre class="brush: js">// 假设 myButton 是一个按钮
myButton.addEventListener(&apos;click&apos;, greet, false);
function greet(event) {
    // 打印并查看event对象
    // 打印arguments，以防忽略了其他参数
    console.log(&apos;greet: &apos; + arguments);
    alert(&apos;Hello world&apos;);
}
</pre>

<p>你应该在现代Web技术的页面中使用这个方法。</p>

<p>备注：IE 6-8 不支持这一方法，但提供了类似的API即 <a href="/zh-CN/docs/Web/API/EventTarget/attachEvent" title="这是早期IE浏览器（IE8及早期版本）的一个专有的替代性标准，替代EventTarget.addEventListener()方法，EventTarget.addEventListener() 方法"><code>EventTarget.attachEvent</code></a> 用以替代。考虑到跨浏览器兼容性问题请使用有效的JS代码库。</p>

<p>更多细节可在 <a href="/zh-CN/docs/Web/API/EventTarget/addEventListener" title="EventTarget.addEventListener() 方法将指定的监听器注册到 EventTarget 上，当该对象触发指定的事件时，指定的回调函数就会被执行。 事件目标可以是一个文档上的元素 Element,Document和Window或者任何其他支持事件的对象 (比如 XMLHttpRequest)。"><code>EventTarget.addEventListener</code></a> 参考页面中找到.</p>

<h3 id="HTML_attribute" name="HTML_attribute"><a href="/zh-CN/docs/Web/Guide/HTML/Event_attributes">HTML 属性</a></h3>

<pre class="brush: html">&lt;button onclick=&quot;alert(&apos;Hello world!&apos;)&quot;&gt;
</pre>

<p>属性中的JS代码触发时通过event参数将Event类型对象传递过去的。<a href="http://dev.w3.org/html5/spec/webappapis.html#the-event-handler-processing-algorithm">其返回值以特殊的方式来处理，已经在HTML规范中被描述</a>。</p>

<p>应该尽量避免这种书写方式，这将使HTML变大并减少可读性。考虑到内容/结构及行为不能很好的分开，这将造成bug很难被找到。</p>

<h3 id="DOM_element_properties" name="DOM_element_properties">DOM 元素属性</h3>

<pre class="brush: js">// 假设 myButton 是一个按钮
myButton.onclick = function(event){alert(&apos;Hello world&apos;);};
</pre>

<p>带有event参数的函数可以这样被定义。<a href="http://dev.w3.org/html5/spec/webappapis.html#the-event-handler-processing-algorithm">其返回值以特殊的方式来处理，已经在HTML规范中被描述。</a></p>

<p>这种方式的问题是每个事件及每个元素只能被设置一个回调。</p>

<h2 id="访问事件接口">访问事件接口</h2>

<p>事件回调可以被绑定到包括DOM元素、文档、<a href="/zh-CN/docs/Web/API/Window" title="The window object represents a window containing a DOM document; the document property points to the DOM document loaded in that window."><code>window</code></a> 等多种对象上。当一个事件被触发时，一个event对象将被创建并顺序的传递给事件监听者们。</p>

<p> <a href="/zh-CN/docs/Web/API/Event" title="此页面仍未被本地化, 期待您的翻译!"><code>Event</code></a> 接口可以在回调函数内被访问到，通过被传递进来做为第一个参数的事件对象。以下这个简单例子展示了如何将事件对象传递给事件回调函数，同时可以在这个函数中使用。</p>

<pre class="brush: js">function foo(evt) {
  // evt参数自动分配事件对象
  alert(evt);
}
table_el.onclick = foo;
</pre>

<h2 id="下级页面导航">下级页面导航</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/Document_Object_Model">DOM相关参考</a></li>
 <li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Introduction">DOM介绍</a></li>
 <li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Events">事件及DOM</a></li>
 <li><a href="/zh-CN/docs/Web/API/Document_Object_Model/Examples">样例</a></li>
</ul>
