---
title: ReadableStreamDefaultReader
slug: Web/API/ReadableStreamDefaultReader
translation_of: Web/API/ReadableStreamDefaultReader
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Streams_API">Streams API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader"><code>ReadableStreamDefaultReader</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><span class="sidebar-icon"><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/ReadableStreamDefaultReader"><code>ReadableStreamDefaultReader()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/ReadableStreamDefaultReader$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><span class="sidebar-icon"><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/closed"><code>closed</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/closed$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><span class="sidebar-icon"><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/cancel"><code>cancel()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/cancel$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/read"><code>read()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/read$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/releaseLock"><code>releaseLock()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/ReadableStreamDefaultReader/releaseLock$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Streams</summary><ol><li><a href="/zh-CN/docs/Web/API/Body/body"><code>Body.body</code></a></li><li><a href="/zh-CN/docs/Web/API/ByteLengthQueuingStrategy"><code>ByteLengthQueuingStrategy</code></a></li><li><a href="/zh-CN/docs/Web/API/CountQueuingStrategy"><code>CountQueuingStrategy</code></a></li><li><a href="/zh-CN/docs/Web/API/ReadableByteStreamController"><code>ReadableByteStreamController</code></a></li><li><a href="/zh-CN/docs/Web/API/ReadableStream"><code>ReadableStream</code></a></li><li><a href="/zh-CN/docs/Web/API/ReadableStreamBYOBReader"><code>ReadableStreamBYOBReader</code></a></li><li><a href="/zh-CN/docs/Web/API/ReadableStreamBYOBRequest"><code>ReadableStreamBYOBRequest</code></a></li><li><a href="/zh-CN/docs/Web/API/ReadableStreamDefaultController"><code>ReadableStreamDefaultController</code></a></li><li><a href="/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>WindowOrWorkerGlobalScope.fetch()</code></a></li><li><a href="/zh-CN/docs/Web/API/WritableStream"><code>WritableStream</code></a></li><li><a href="/zh-CN/docs/Web/API/WritableStreamDefaultController"><code>WritableStreamDefaultController</code></a></li><li><a href="/zh-CN/docs/Web/API/WritableStreamDefaultWriter"><code>WritableStreamDefaultWriter</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><span title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href="#Browser_compatibility">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p>
</div><p></p>

<p><br>
 <span class="seoSummary"> <a href="/en-US/docs/Web/API/Streams_API">Streams API</a></span> 的 <strong>ReadableStreamDefaultReader </strong>的接口 表示一个可被用于读取来自网络提供的流数据(例如 fetch 请求)的默认读取器</p>

<h2 id="构造方法">构造方法</h2>

<dl>
 <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/ReadableStreamDefaultReader" title="ReadableStreamDefaultReader（）构造函数创建并返回一个ReadableStreamDefaultReader（）对象实例。"><code>ReadableStreamDefaultReader()</code></a></dt>
 <dd>创建 和 返回 一个 <code>ReadableStreamDefaultReader()</code> 对象实例.</dd>
</dl>

<h2 id="属性">属性</h2>

<dl>
 <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/closed" title="ReadableStream接口的封闭getter属性返回一个承诺，如果流关闭或读取器的锁被释放，则返回承诺;如果流错误则拒绝。"><code>ReadableStreamDefaultReader.closed</code></a><br>
    </dt>
 <dd>允许你编写 当stream结束时 执行的代码 . 如果这个stream变成关闭状态或者 reader 的锁(lock)被释放 则返回一个状态是 fulfills的 promise,如果这个stream 报错则返回rejects的promise.</dd>
</dl>

<h2 id="方法">方法</h2>

<dl>
 <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/cancel" title="ReadableStreamDefaultReader接口的cancel（）方法取消流，表示消费者对流中兴趣的丧失。 所提供的理由参数将被提供给潜在的来源，可能会或可能不会使用它。"><code>ReadableStreamDefaultReader.cancel()</code></a></dt>
 <dd>取消这个 stream, 表示对这个stream失去了兴趣. 提供的参数将传递给源source, 可能会也可能不会用到这些参数.</dd>
 <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/read" title="ReadableStreamDefaultReader接口的read（）方法返回一个承诺，提供对流内部队列中下一个块的访问。"><code>ReadableStreamDefaultReader.read()</code></a></dt>
 <dd>返回一个promise,提供对stream内部队列中下一个块(chunk)访问的promise.</dd>
 <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader/releaseLock" title="ReadableStreamDefaultReader接口的releaseLock（）方法释放读取器对流的锁定。"><code>ReadableStreamDefaultReader.releaseLock()</code></a></dt>
 <dd>释放读取这个stream的锁.</dd>
</dl>

<h2 id="例子">例子</h2>

<p>在下面的例子中, <a href="/zh-CN/docs/Web/API/Response" title="Fetch API 的Response接口呈现了对一次请求的响应数据"><code>Response</code></a> 被创建为流 <font><font>HTML片段 fetched 来自其他源.</font></font></p>

<p>它展示了一个 <a href="/zh-CN/docs/Web/API/ReadableStream" title="Fetch API 的 ReadableStream 接口标识了一个可读的二进制数据流"><code>ReadableStream</code></a> 和一个 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Uint8Array" title="有关这方面的文件尚未编写;  请考虑贡献！"><code>Uint8Array</code></a>组合使用的例子.</p>

<pre class="brush: js">fetch(&quot;https://www.example.org/&quot;).then((response) =&gt; {
  const reader = response.body.getReader();
  const stream = new ReadableStream({
    start(controller) {
      // The following function handles each data chunk
      function push() {
        // &quot;done&quot; is a Boolean and value a &quot;Uint8Array&quot;
        return reader.read().then(({ done, value }) =&gt; {
          // Is there no more data to read?
          if (done) {
            // Tell the browser that we have finished sending data
            controller.close();
            return;
          }

          // Get the data and send it to the browser via the controller
          controller.enqueue(value);
        }).then(push);
      };

      push();
    }
  });

  return new Response(stream, { headers: { &quot;Content-Type&quot;: &quot;text/html&quot; } });
});
</pre>

<h2 id="产品规格"><font><font>产品规格</font></font></h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://streams.spec.whatwg.org/#default-reader-class" class="external" hreflang="en">Streams<br><small lang="zh-CN">ReadableStreamDefaultReader</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td>初始定义</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>
    <p>52.0</p>
   </td>
   <td><a href="/en-US/Firefox/Releases/57" title="Released on 2017-11-28.">57.0</a> (57.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>
    <p>39</p>
   </td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>52</td>
   <td>52</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>39</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>
