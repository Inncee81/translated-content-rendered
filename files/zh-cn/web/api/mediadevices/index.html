---
title: MediaDevices
slug: Web/API/MediaDevices
tags:
  - API
  - Experimental
  - Interface
  - Media
  - MediaDevices
  - NeedsTranslation
  - TopicStub
  - WebRTC
  - 媒体
  - 媒体流
  - 媒体设备
translation_of: Web/API/MediaDevices
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Media_Streams_API">Media Streams API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></strong></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/MediaDevices/enumerateDevices"><code>enumerateDevices()</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints()</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaDevices/getUserMedia"><code>getUserMedia()</code></a></li></ol></details></li><li class="toggle"><details open><summary>继承</summary><ol><li><a href="/zh-CN/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Media Capture and Streams</summary><ol><li><a href="/zh-CN/docs/Web/API/AudioStreamTrack"><code>AudioStreamTrack</code></a></li><li><a href="/zh-CN/docs/Web/API/BlobEvent"><code>BlobEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/CanvasCaptureMediaStream"><code>CanvasCaptureMediaStream</code></a></li><li><a href="/zh-CN/docs/Web/API/ConstrainBoolean"><code>ConstrainBoolean</code></a></li><li><a href="/zh-CN/docs/Web/API/ConstrainDOMString"><code>ConstrainDOMString</code></a></li><li><a href="/zh-CN/docs/Web/API/ConstrainDouble"><code>ConstrainDouble</code></a></li><li><a href="/zh-CN/docs/Web/API/ConstrainLong"><code>ConstrainLong</code></a></li><li><a href="/zh-CN/docs/Web/API/DoubleRange"><code>DoubleRange</code></a></li><li><a href="/zh-CN/docs/Web/API/HTMLCanvasElement/captureStream"><code>HTMLCanvasElement.captureStream()</code></a></li><li><a href="/zh-CN/docs/Web/API/LongRange"><code>LongRange</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaStream"><code>MediaStream</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaStreamTrackEvent"><code>MediaStreamTrackEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaTrackCapabilities"><code>MediaTrackCapabilities</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaTrackConstraints"><code>MediaTrackConstraints</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaTrackSettings"><code>MediaTrackSettings</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaTrackSupportedConstraints"><code>MediaTrackSupportedConstraints</code></a></li><li><a href="/zh-CN/docs/Web/API/Navigator/mediaDevices"><code>Navigator.mediaDevices</code></a></li><li><a href="/zh-CN/docs/Web/API/NavigatorUserMedia"><code>NavigatorUserMedia</code></a></li><li><a href="/zh-CN/docs/Web/API/NavigatorUserMediaError"><code>NavigatorUserMediaError</code></a></li><li><a href="/zh-CN/docs/Web/API/VideoStreamTrack"><code>VideoStreamTrack</code></a></li><li><a href="/zh-CN/docs/Web/API/navigator/mediaDevices.getUserMedia"><code>navigator.mediaDevices.getUserMedia()</code></a></li></ol></details></li></ol></section></div>

<p><span class="seoSummary"><strong><code>MediaDevices</code></strong> 接口提供访问连接媒体输入的设备，如照相机和麦克风，以及屏幕共享等。它可以使你取得任何硬件资源的媒体数据。</span></p>

<h2 id="属性">属性</h2>

<p><em>从父类<a href="/zh-CN/docs/Web/API/EventTarget"><code>EventTarget</code></a>中继承的属性.</em></p>

<h2 id="事件">事件</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/MediaDevices/devicechange_event"><code>devicechange</code></a></dt>
 <dd>返回 <code><a href="/zh-CN/docs/Web/Reference/Events/devicechange" title="/zh-CN/docs/Web/Reference/Events/devicechange">devicechange</a></code> 事件类型的事件处理程序。<br>
 也可通过 <a href="/zh-CN/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a> 访问</dd>
</dl>

<h2 id="方法">方法</h2>

<p><em>从其父项继承方法 <a href="/zh-CN/docs/Web/API/EventTarget"><code>EventTarget</code></a>.</em></p>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/MediaDevices/enumerateDevices"><code>MediaDevices.enumerateDevices()</code></a></dt>
 <dd>获取有关系统中可用的媒体输入和输出设备的一系列信息。</dd>
 <dt><a href="/zh-CN/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints()</code></a></dt>
 <dd>返回一个符合 <a href="/zh-CN/docs/Web/API/MediaTrackSupportedConstraints"><code>MediaTrackSupportedConstraints</code></a> 的对象。该对象指明了 <a href="/zh-CN/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a> 接口支持的可约束的属性。查看 <a href="/en-US/docs/Web/API/Media_Streams_API#Capabilities_and_constraints" title="The Media Capture and Streams API, often called the Media Streams API or simply MediaStream API, is an API related to WebRTC which provides support for streaming audio and video data.">Capabilities and constraints</a> in <a href="/en-US/docs/Web/API/Media_Streams_API" title="The Media Capture and Streams API, often called the Media Streams API or simply MediaStream API, is an API related to WebRTC which provides support for streaming audio and video data.">Media Capture and Streams API (Media Stream)</a> 去了解更多相关信息。</dd>
 <dt><a href="/zh-CN/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a></dt>
 <dd>提示用户选择显示器或显示器的一部分（例如窗口）以捕获为<a href="/zh-CN/docs/Web/API/MediaStream"><code>MediaStream</code></a> 以便共享或记录。返回解析为MediaStream的Promise。</dd>
 <dt><a href="/zh-CN/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></dt>
 <dd>在用户通过提示允许的情况下，打开系统上的相机或屏幕共享和/或麦克风，并提供 <a href="/zh-CN/docs/Web/API/MediaStream"><code>MediaStream</code></a> 包含视频轨道和/或音频轨道的输入。</dd>
 <dt></dt>
</dl>

<h2 id="示例">示例</h2>

<pre class="brush:js notranslate">&apos;use strict&apos;;

// Put variables in global scope to make them available to the browser console.
var video = document.querySelector(&apos;video&apos;);
var constraints = window.constraints = {
  audio: false,
  video: true
};
var errorElement = document.querySelector(&apos;#errorMsg&apos;);

navigator.mediaDevices.getUserMedia(constraints)
.then(function(stream) {
  var videoTracks = stream.getVideoTracks();
  console.log(&apos;Got stream with constraints:&apos;, constraints);
  console.log(&apos;Using video device: &apos; + videoTracks[0].label);
  stream.onended = function() {
    console.log(&apos;Stream ended&apos;);
  };
  window.stream = stream; // make variable available to browser console
  video.srcObject = stream;
})
.catch(function(error) {
  if (error.name === &apos;ConstraintNotSatisfiedError&apos;) {
    errorMsg(&apos;The resolution &apos; + constraints.video.width.exact + &apos;x&apos; +
        constraints.video.width.exact + &apos; px is not supported by your device.&apos;);
  } else if (error.name === &apos;PermissionDeniedError&apos;) {
    errorMsg(&apos;Permissions have not been granted to use your camera and &apos; +
      &apos;microphone, you need to allow the page access to your devices in &apos; +
      &apos;order for the demo to work.&apos;);
  }
  errorMsg(&apos;getUserMedia error: &apos; + error.name, error);
});

function errorMsg(msg, error) {
  errorElement.innerHTML += &apos;&lt;p&gt;&apos; + msg + &apos;&lt;/p&gt;&apos;;
  if (typeof error !== &apos;undefined&apos;) {
    console.error(error);
  }
}</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">评论</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/mediacapture-main/#mediadevices" hreflang="en" lang="en">Media Capture and Streams<br><small lang="zh-CN">MediaDevices</small></a></td>
   <td><span class="spec-CR">Candidate Recommendation</span></td>
   <td>初始定义</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.MediaDevices"></div>

<h2 id="参见">参见</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/Media_Streams_API">Media Capture and Streams API</a>: The API this interface is part of.</li>
 <li><a href="/zh-CN/docs/Web/API/Screen_Capture_API">Screen Capture API</a>: The API defining the <a href="/zh-CN/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a> method.</li>
 <li><a href="/zh-CN/docs/Web/API/WebRTC_API">WebRTC API</a></li>
 <li><a href="/zh-CN/docs/Web/API/Navigator/mediaDevices"><code>Navigator.mediaDevices</code></a>: Returns a reference to a <code>MediaDevices</code> object that can be used to access devices.</li>
 <li><a href="https://github.com/chrisjohndigital/CameraCaptureJS">CameraCaptureJS:</a> HTML5 video capture and playback using <code>MediaDevices</code> and the MediaStream Recording API (<a href="https://github.com/chrisjohndigital/CameraCaptureJS">source on GitHub</a>)</li>
 <li><a href="https://github.com/chrisjohndigital/OpenLang">OpenLang</a>: HTML5 video language lab web application using <code>MediaDevices</code> and the MediaStream Recording API for video recording (<a href="https://github.com/chrisjohndigital/OpenLang">source on GitHub</a>)</li>
</ul>
