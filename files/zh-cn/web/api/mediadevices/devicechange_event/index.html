---
title: devicechange
slug: Web/API/MediaDevices/devicechange_event
translation_of: Web/API/MediaDevices/devicechange_event
---
<p>每当媒体设备（例如相机，麦克风或扬声器）连接到系统或从系统中移除时，<code>devicechange </code>事件就会被发送到 <a href="/zh-CN/docs/Web/API/MediaDevices" title="MediaDevices 接口提供访问连接媒体输入的设备，如照相机和麦克风，以及屏幕共享等。"><code>MediaDevices</code></a>  实例。 这是一个没有附加属性的通用 <a href="/zh-CN/docs/Web/API/Event" title="此页面仍未被本地化, 期待您的翻译!"><code>Event</code></a> 。</p>

<h2 id="一般信息">一般信息</h2>

<dl>
 <dt style="float: left; text-align: right; width: 120px;">规范</dt>
 <dd style="margin: 0 0 0 120px;"><a class="external" href="https://w3c.github.io/mediacapture-main/" hreflang="en" lang="en" title="Media Capture and Streams">Media Capture and Streams</a></dd>
 <dt style="float: left; text-align: right; width: 120px;">接口</dt>
 <dd style="margin: 0 0 0 120px;">Event</dd>
 <dt style="float: left; text-align: right; width: 120px;">是否冒泡</dt>
 <dd style="margin: 0 0 0 120px;">No</dd>
 <dt style="float: left; text-align: right; width: 120px;">是否可取消</dt>
 <dd style="margin: 0 0 0 120px;">No</dd>
 <dt style="float: left; text-align: right; width: 120px;">对象</dt>
 <dd style="margin: 0 0 0 120px;"><a href="/zh-CN/docs/Web/API/MediaDevices" title="MediaDevices 接口提供访问连接媒体输入的设备，如照相机和麦克风，以及屏幕共享等。"><code>MediaDevices</code></a></dd>
 <dt style="float: left; text-align: right; width: 120px;">默认动作</dt>
 <dd style="margin: 0 0 0 120px;">None</dd>
</dl>

<h2 id="属性">属性</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Property</th>
   <th scope="col">Type</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>target</code><span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/EventTarget" title="EventTarget是一个由可以接收事件的对象实现的接口，并且可以为它们创建侦听器。"><code>EventTarget</code></a></td>
   <td>事件对象 (位于DOM树最上面的元素).</td>
  </tr>
  <tr>
   <td><code>type</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a></td>
   <td>事件类型.</td>
  </tr>
  <tr>
   <td><code>bubbles</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a></td>
   <td>是否冒泡</td>
  </tr>
  <tr>
   <td><code>cancelable</code> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></td>
   <td><a href="/zh-CN/docs/Web/API/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a></td>
   <td>是否可被取消</td>
  </tr>
 </tbody>
</table>

<h2 id="相关事件">相关事件</h2>

<p><em>无</em>.</p>

<h2 id="样例">样例</h2>

<p>有关使用 <code>devicechange</code> 事件更新屏幕上设备列表的示例，请参阅 <a href="/en-US/docs/Web/API/MediaDevices/ondevicechange#Example" title="The MediaDevices.ondevicechange property is an EventHandler which specifies a function to be called when the devicechange event occurs on a MediaDevices instance. This happens whenever the set of media devices available to the user agent and, by extension, to the web site or app has changed. You can at any time use enumerateDevices() to get the updated list of available devices.">Example</a> in <a href="/en-US/docs/Web/API/MediaDevices/ondevicechange" title="The MediaDevices.ondevicechange property is an EventHandler which specifies a function to be called when the devicechange event occurs on a MediaDevices instance. This happens whenever the set of media devices available to the user agent and, by extension, to the web site or app has changed. You can at any time use enumerateDevices() to get the updated list of available devices.">MediaDevices.ondevicechange</a>。</p>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://w3c.github.io/mediacapture-main/#event-mediadevices-devicechange" hreflang="en" lang="en">Media Capture and Streams<br><small lang="zh-CN">devicechange</small></a></td>
   <td><span class="spec-CR">Candidate Recommendation</span></td>
   <td>Initial specification.</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Edge</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>52.0</td>
   <td><a href="/en-US/Firefox/Releases/51" title="Released on 2017-01-24.">51</a> (51)<sup>[1]</sup></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>39</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #f00;">未实现</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>39</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">未实现</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Support for the <code>devicechange</code> event and for <a href="/zh-CN/docs/Web/API/MediaDevices/ondevicechange" title=" MediaDevices.ondevicechange 属性是一种EventHandler，当MediaDevices 接口的devicechange事件被触发时会被调用. 不论user agent媒体设备的设置是否可用, 或者网站或者应用发生变了都会触发。无论何时你都可以使用 enumerateDevices()  去更新可用设备列表."><code>MediaDevices.ondevicechange</code></a> landed in Firefox 51, but <em>only for Mac</em>, and disabled by default. It can be enabled by setting the preference <code>media.ondevicechange.enabled</code> to <code>true</code>. Support for this event was added for Linux and Windows—and it was enabled by default—starting in Firefox 52.</p>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/MediaDevices/ondevicechange"><code>MediaDevices.ondevicechange</code></a></li>
</ul>
