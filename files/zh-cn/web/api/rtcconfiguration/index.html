---
title: RTCConfiguration
slug: Web/API/RTCConfiguration
translation_of: Web/API/RTCConfiguration
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/WebRTC_API">WebRTC API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/RTCConfiguration"><code>RTCConfiguration</code></a></strong></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/addstream"><code>addstream</code></a></li><li><a href="/zh-CN/docs/Web/Events/icecandidate"><code>icecandidate</code></a></li><li><a href="/zh-CN/docs/Web/Events/iceconnectionstatechange"><code>iceconnectionstatechange</code></a></li><li><a href="/zh-CN/docs/Web/Events/icegatheringstatechange"><code>icegatheringstatechange</code></a></li><li><a href="/zh-CN/docs/Web/Events/negotiationneeded"><code>negotiationneeded</code></a></li><li><a href="/zh-CN/docs/Web/Events/removestream"><code>removestream</code></a></li><li><a href="/zh-CN/docs/Web/Events/signalingstatechange"><code>signalingstatechange</code></a></li><li><a href="/zh-CN/docs/Web/Events/datachannel"><code>datachannel</code></a></li><li><a href="/zh-CN/docs/Web/Events/close"><code>close</code></a></li><li><a href="/zh-CN/docs/Web/Events/error"><code>error</code></a></li><li><a href="/zh-CN/docs/Web/Events/message"><code>message</code></a></li><li><a href="/zh-CN/docs/Web/Events/open"><code>open</code></a></li><li><a href="/zh-CN/docs/Web/Events/tonechange"><code>tonechange</code></a></li><li><a href="/zh-CN/docs/Web/Events/identityresult"><code>identityresult</code></a></li><li><a href="/zh-CN/docs/Web/Events/idpassertionerror"><code>idpassertionerror</code></a></li><li><a href="/zh-CN/docs/Web/Events/idpvalidationerror"><code>idpvalidationerror</code></a></li><li><a href="/zh-CN/docs/Web/Events/peeridentity"><code>peeridentity</code></a></li><li><a href="/zh-CN/docs/Web/Events/isolationchange"><code>isolationchange</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for WebRTC</summary><ol><li><a href="/zh-CN/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCCertificate"><code>RTCCertificate</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCDTMFSender"><code>RTCDTMFSender</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCDTMFToneChangeEvent"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCDataChannelEvent"><code>RTCDataChannelEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCDtlsTransport"><code>RTCDtlsTransport</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCErrorEvent"><code>RTCErrorEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCIceCandidate"><code>RTCIceCandidate</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCIceTransport"><code>RTCIceTransport</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCPeerConnectionIceErrorEvent"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCPeerConnectionIceEvent"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCSctpTransport"><code>RTCSctpTransport</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCSessionDescription"><code>RTCSessionDescription</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCStatsEvent"><code>RTCStatsEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCStatsReport"><code>RTCStatsReport</code></a></li><li><a href="/zh-CN/docs/Web/API/RTCTrackEvent"><code>RTCTrackEvent</code></a></li></ol></details></li></ol></section><div class="draft notecard">
    <p><strong>草案</strong><br>
    本页尚未完工.</p>

</div><p></p>

<p>The <strong><code>RTCConfiguration</code></strong> dictionary is used to provide configuration options for an <a href="/zh-CN/docs/Web/API/RTCPeerConnection" title="RTCPeerConnection 接口代表一个由本地计算机到远端的WebRTC连接。该接口提供了创建，保持，监控，关闭连接的方法的实现。"><code>RTCPeerConnection</code></a>. It may be passed into the constructor when instantiating a connection, or used with the <a href="/zh-CN/docs/Web/API/RTCPeerConnection/getConfiguration" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCPeerConnection.getConfiguration()</code></a> and <a href="/zh-CN/docs/Web/API/RTCPeerConnection/setConfiguration" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCPeerConnection.setConfiguration()</code></a> methods, which allow inspecting and changing the configuration while a connection is established.</p>

<p>The options include ICE server and transport settings and identity information.</p>

<h2 id="Properties">Properties</h2>

<dl>
 <dt><code>bundlePolicy</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>Specifies how to handle negotiation of candidates when the remote peer is not compatible with the <a href="https://webrtcstandards.info/sdp-bundle/">SDP BUNDLE standard</a>. This must be one of the values from the enum <code><a href="#RTCBundlePolicy_enum">RTCBundlePolicy</a></code>. If this value isn&apos;t included in the dictionary, <code>&quot;balanced&quot;</code> is assumed.</dd>
 <dt><code>certificates</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>An <a href="/zh-CN/docs/Web/JavaScript/Reference/Array" title="REDIRECT Array"><code>Array</code></a> of objects of type <a href="/zh-CN/docs/Web/API/RTCCertificate" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCCertificate</code></a> which are used by the connection for authentication. If this property isn&apos;t specified, a set of certificates is generated automatically for each <a href="/zh-CN/docs/Web/API/RTCPeerConnection" title="RTCPeerConnection 接口代表一个由本地计算机到远端的WebRTC连接。该接口提供了创建，保持，监控，关闭连接的方法的实现。"><code>RTCPeerConnection</code></a> instance. Although only one certificate is used by a given connection, providing certificates for multiple algorithms may improve the odds of successfully connecting in some circumstances. See <a href="#Using_certificates">Using certificates</a> below for additional information.
 <div class="note">This configuration option cannot be changed after it is first specified; once the certificates have been set, this property is ignored in future calls to <a href="/zh-CN/docs/Web/API/RTCPeerConnection/setConfiguration" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCPeerConnection.setConfiguration()</code></a>.</div>
 </dd>
 <dt><code>iceCandidatePoolSize</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>一个16bit无符号整型值，代表预获取的ICE candidate pool的大小。 默认为 0 (意味着不会发生candidate的预获取)。在某些情况下，由于预获取了ICE candidate，在 <a href="/zh-CN/docs/Web/API/RTCPeerConnection/setLocalDescription" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCPeerConnection.setLocalDescription()</code></a> 被调用时，被预获取的candidate可被立刻检查，从而导致可以更快的建立连接。
 <div class="note">改变 ICE candidate pool的大小将触发启动 ICE gathering。</div>
 </dd>
 <dt><code>iceServers</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>An array of <a href="/zh-CN/docs/Web/API/RTCIceServer" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCIceServer</code></a> objects, each describing one server which may be used by the ICE agent; these are typically STUN and/or TURN servers. If this isn&apos;t specified, the ICE agent may choose to use its own ICE servers; otherwise, the connection attempt will be made with no STUN or TURN server available, which limits the connection to local peers.</dd>
 <dt><code>iceTransportPolicy</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>The current ICE transport policy; this must be one of the values from the <code><a href="#RTCIceTransportPolicy_enum">RTCIceTransportPolicy</a></code> enum. If this isn&apos;t specified, <code>&quot;all&quot;</code> is assumed.</dd>
 <dt><code>peerIdentity</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>A <a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a> which specifies the target peer identity for the <a href="/zh-CN/docs/Web/API/RTCPeerConnection" title="RTCPeerConnection 接口代表一个由本地计算机到远端的WebRTC连接。该接口提供了创建，保持，监控，关闭连接的方法的实现。"><code>RTCPeerConnection</code></a>. If this value is set (it defaults to <code>null</code>), the <code>RTCPeerConnection</code> will not connect to a remote peer unless it can successfully authenticate with the given name.</dd>
 <dt><code>rtcpMuxPolicy</code> <span class="optional optionalInline notecard inline">可选</span></dt>
 <dd>The RTCP mux policy to use when gathering ICE candidates, in order to support non-multiplexed RTCP. The value must be one of those from the <a href="#RTCRtcpMuxPolicy_enum"><code>RTCRtcpMuxPolicy</code> enum</a>. The default is <code>&quot;require&quot;</code>.</dd>
</dl>

<h2 id="Constants">Constants</h2>

<p></p><h3 id="RTCBundlePolicy_enum">RTCBundlePolicy enum</h3>

<p>The <code>RTCBundlePolicy</code> enum defines string constants which are used to request a specific policy for gathering ICE candidates if the remote peer isn&apos;t compatible with the <a href="https://webrtcstandards.info/sdp-bundle/">SDP BUNDLE standard</a> for bundling multiple media streams on a single transport link.</p>

<div class="note">
<p><strong>Note:</strong> In technical terms, a BUNDLE lets all media flow between two peers flow across a single <strong>5-tuple</strong>; that is, from the same IP and port on one peer to the same IP and port on the other peer, using the same transport protocol.</p>
</div>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Constant</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>&quot;balanced&quot;</code></td>
   <td>On BUNDLE-aware connections, the ICE agent should gather candidates for all of the media types in use (audio, video, and data). Otherwise, the ICE agent should only negotiate one audio and video track on separate transports.</td>
  </tr>
  <tr>
   <td><code>&quot;max-compat&quot;</code></td>
   <td>The ICE agent should gather candidates for each track, using separate transports to negotiate all media tracks for connections which aren&apos;t BUNDLE-compatible.</td>
  </tr>
  <tr>
   <td><code>&quot;max-bundle&quot;</code></td>
   <td>The ICE agent should gather candidates for just one track. If the connection isn&apos;t BUNDLE-compatible, then the ICE agent should negotiate just one media track.</td>
  </tr>
 </tbody>
</table><p></p>

<p></p><h3 id="RTCIceTransportPolicy_enum">RTCIceTransportPolicy enum</h3>

<p>The <code>RTCIceTransportPolicy</code> enum defines string constants which can be used to limit the transport policies of the ICE candidates to be considered during the connection process.</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Constant</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>&quot;all&quot;</code></td>
   <td>All ICE candidates will be considered.</td>
  </tr>
  <tr>
   <td><code>&quot;public&quot; </code><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></td>
   <td>Only ICE candidates with public IP addresses will be considered. <em>Removed from the specification&apos;s May 13, 2016 working draft.</em></td>
  </tr>
  <tr>
   <td><code>&quot;relay&quot;</code></td>
   <td>Only ICE candidates whose IP addresses are being relayed, such as those being passed through a TURN server, will be considered.</td>
  </tr>
 </tbody>
</table><p></p>

<p></p><h3 id="RTCRtcpMuxPolicy_enum">RTCRtcpMuxPolicy enum</h3>

<p>The <code>RTCRtcpMuxPolicy</code> enum defines string constants which specify what ICE candidates are gathered to support non-multiplexed RTCP. <strong>&lt;&lt;&lt;add a link to info about multiplexed RTCP.</strong></p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Constant</th>
   <th scope="col">Description</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>&quot;negotiate&quot;</code></td>
   <td>Instructs the ICE agent to gather both <a href="/en-US/docs/Glossary/RTP" class="glossaryLink">RTP</a> and <a href="/en-US/docs/Glossary/RTCP" class="glossaryLink">RTCP</a> candidates. If the remote peer can multiplex RTCP, then RTCP candidates are multiplexed atop the corresponding RTP candidates. Otherwise, both the RTP and RTCP candidates are returned, separately.</td>
  </tr>
  <tr>
   <td><code>&quot;require&quot;</code></td>
   <td>Tells the ICE agent to gather ICE candidates for only RTP, and to multiplex RTCP atop them. If the remote peer doesn&apos;t support RTCP multiplexing, then session negotiation fails.</td>
  </tr>
 </tbody>
</table><p></p>

<h2 id="Using_certificates">Using certificates</h2>

<p>When you wish to provide your own certificates for use by an <a href="/zh-CN/docs/Web/API/RTCPeerConnection" title="RTCPeerConnection 接口代表一个由本地计算机到远端的WebRTC连接。该接口提供了创建，保持，监控，关闭连接的方法的实现。"><code>RTCPeerConnection</code></a> instead of having the <code>RTCPeerConnection</code> generate them automatically, you do so through calls to <a href="/zh-CN/docs/Web/API/RTCPeerConnection/generateCertificate" title="此页面仍未被本地化, 期待您的翻译!"><code>RTCPeerConnection.generateCertificate()</code></a>.</p>

<p>This attribute supports providing multiple certificates because even though a given DTLS connection uses only one certificate, providing multiple certificates allows support for multiple encryption algorithms. The implementation of <code>RTCPeerConnection</code> will choose which certificate to use based on the algorithms it and the remote peer support, as determined during DTLS handshake.</p>

<p>If you don&apos;t provide certificates, new ones are generated automatically. One obvious benefit to providing your own is identity key continuity—if you use the same certificate for subsequent calls, the remote peer can tell you&apos;re the same caller. This also avoids the cost of generating new keys.</p>

<p>&lt;&lt;&lt;link to added info on identity&gt;&gt;&gt;</p>

<h2 id="Example">Example</h2>

<p>The configuration below establishes two ICE servers. The first one, <code>stun:stun.services.mozilla.com</code>, requires authentication, so the username and password are provided. The second server has two URLs: <code>stun:stun.example.com</code> and <code>stun:stun-1.example.com</code>.</p>

<pre class="brush: js">var configuration = { iceServers: [{
                          urls: &quot;stun:stun.services.mozilla.com&quot;,
                          username: &quot;louis@mozilla.com&quot;,
                          credential: &quot;webrtcdemo&quot;
                      }, {
                          urls: [&quot;stun:stun.example.com&quot;, &quot;stun:stun-1.example.com&quot;]
                      }]
};

var pc = new RTCPeerConnection(configuration);</pre>
