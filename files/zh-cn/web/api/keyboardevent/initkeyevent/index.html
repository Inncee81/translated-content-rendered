---
title: KeyboardEvent.initKeyEvent()
slug: Web/API/KeyboardEvent/initKeyEvent
tags:
  - API
  - DOM
  - KeyboardEvent
  - Method
  - 参考
translation_of: Web/API/KeyboardEvent/initKeyEvent
---
<p> </p>

<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/KeyboardEvent"><code>KeyboardEvent</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/KeyboardEvent"><code>键盘事件 KeyboardEvent()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/altKey"><code>altKey</code></a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-CN/docs/Web/API/KeyboardEvent/charCode"><code>charCode</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/code"><code>code</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/ctrlKey"><code>ctrlKey</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/isComposing"><code>isComposing</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/key"><code>key</code></a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-CN/docs/Web/API/KeyboardEvent/keyCode"><code>keyCode</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-CN/docs/Web/API/KeyboardEvent/keyIdentifier"><code>keyIdentifier</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/KeyboardEvent/keyIdentifier$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/location"><code>location</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/KeyboardEvent/location$translate">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/metaKey"><code>metaKey</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/repeat"><code>repeat</code></a></li><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/shiftKey"><code>shiftKey</code></a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-CN/docs/Web/API/KeyboardEvent/which"><code>which</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/KeyboardEvent/which$translate">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><a href="/zh-CN/docs/Web/API/KeyboardEvent/getModifierState"><code>getModifierState()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/KeyboardEvent/getModifierState$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-CN/docs/Web/API/KeyboardEvent/initKeyboardEvent"><code>initKeyboardEvent()</code></a> <a style="opacity: 0.5;" href="/zh-CN/docs/Web/API/KeyboardEvent/initKeyboardEvent$translate">[我来译!]</a></li><li><span class="sidebar-icon"><span title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><em><code>initKeyEvent()</code></em></li></ol></details></li><li class="toggle"><details open><summary>继承</summary><ol><li><a href="/zh-CN/docs/Web/API/UIEvent"><code>UIEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/Event"><code>Event</code></a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-CN/docs/Web/Events/abort"><code>abort</code></a></li><li><a href="/zh-CN/docs/Web/Events/beforeinput"><code>beforeinput</code></a></li><li><a href="/zh-CN/docs/Web/Events/blur"><code>blur</code></a></li><li><a href="/zh-CN/docs/Web/Events/click"><code>click</code></a></li><li><a href="/zh-CN/docs/Web/Events/compositionstart"><code>compositionstart</code></a></li><li><a href="/zh-CN/docs/Web/Events/compositionupdate"><code>compositionupdate</code></a></li><li><a href="/zh-CN/docs/Web/Events/compositionend"><code>compositionend</code></a></li><li><a href="/zh-CN/docs/Web/Events/dblclick"><code>dblclick</code></a></li><li><a href="/zh-CN/docs/Web/Events/error"><code>error</code></a></li><li><a href="/zh-CN/docs/Web/Events/focus"><code>focus</code></a></li><li><a href="/zh-CN/docs/Web/Events/focusin"><code>focusin</code></a></li><li><a href="/zh-CN/docs/Web/Events/focusout"><code>focusout</code></a></li><li><a href="/zh-CN/docs/Web/Events/input"><code>input</code></a></li><li><a href="/zh-CN/docs/Web/Events/keydown"><code>keydown</code></a></li><li><a href="/zh-CN/docs/Web/Events/keypress"><code>keypress</code></a></li><li><a href="/zh-CN/docs/Web/Events/keyup"><code>keyup</code></a></li><li><a href="/zh-CN/docs/Web/Events/load"><code>load</code></a></li><li><a href="/zh-CN/docs/Web/Events/mousedown"><code>mousedown</code></a></li><li><a href="/zh-CN/docs/Web/Events/mouseenter"><code>mouseenter</code></a></li><li><a href="/zh-CN/docs/Web/Events/mouseleave"><code>mouseleave</code></a></li><li><a href="/zh-CN/docs/Web/Events/mousemove"><code>mousemove</code></a></li><li><a href="/zh-CN/docs/Web/Events/mouseout"><code>mouseout</code></a></li><li><a href="/zh-CN/docs/Web/Events/mouseover"><code>mouseover</code></a></li><li><a href="/zh-CN/docs/Web/Events/mouseup"><code>mouseup</code></a></li><li><a href="/zh-CN/docs/Web/Events/resize"><code>resize</code></a></li><li><a href="/zh-CN/docs/Web/Events/scroll"><code>scroll</code></a></li><li><a href="/zh-CN/docs/Web/Events/select"><code>select</code></a></li><li><a href="/zh-CN/docs/Web/Events/unload"><code>unload</code></a></li><li><a href="/zh-CN/docs/Web/Events/wheel"><code>wheel</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for DOM Events</summary><ol><li><a href="/zh-CN/docs/Web/API/CompositionEvent"><code>CompositionEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/Event"><code>Event</code></a></li><li><a href="/zh-CN/docs/Web/API/EventListener"><code>EventListener</code></a></li><li><a href="/zh-CN/docs/Web/API/EventTarget"><code>EventTarget</code></a></li><li><a href="/zh-CN/docs/Web/API/FocusEvent"><code>FocusEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/InputEvent"><code>InputEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/MouseEvent"><code>MouseEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/MouseScrollEvent"><code>MouseScrollEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/MouseWheelEvent"><code>MouseWheelEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/MutationEvent"><code>MutationEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/ProgressEvent"><code>ProgressEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/UIEvent"><code>UIEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/WheelEvent"><code>WheelEvent</code></a></li></ol></details></li></ol></section><div class="nonStandard nonStandardHeader notecard">
      <p><strong><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> 非标准</strong><br>
      该特性是非标准的，请尽量不要在生产环境中使用它！</p>
      </div><div class="deprecated deprecatedHeader notecard">
            <p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> 已废弃</strong><br>该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。</p>
        </div><p></p>

<p>KeyboardEvent.initKeyEvent方法用于初始化使用<a href="/zh-CN/docs/Web/API/Document/createEvent" title="创建一个指定类型的事件。其返回的对象必须先初始化并可以被传递给 element.dispatchEvent。"><code>document.createEvent</code></a>(&quot;KeyboardEvent&quot;)创建的事件的值。 以这种方式初始化的事件必须使用<a href="/zh-CN/docs/Web/API/Document/createEvent" title="创建一个指定类型的事件。其返回的对象必须先初始化并可以被传递给 element.dispatchEvent。"><code>document.createEvent</code></a>(&quot;KeyboardEvent&quot;)方法创建。 在调度之前，必须调用initKeyEvent来设置事件。</p>

<p><strong>不要再使用这个方法，而是使用<a href="/zh-CN/docs/Web/API/KeyboardEvent/KeyboardEvent" title="KeyboardEvent() 构造函数新建一个 KeyboardEvent 实例。"><code>KeyboardEvent()</code></a>构造函数。</strong><br>
 该方法基于<a lang="en" title="Document Object Model (DOM) Level 2 Events Specification" href="https://www.w3.org/TR/DOM-Level-2-Events/events.html" class="external" hreflang="en">Document Object Model (DOM) Level 2 Events Specification</a>的早期草案，并在基于Gecko的浏览器中实现; 其他浏览器基于<a lang="en" title="Document Object Model (DOM) Level 3 Events Specification" href="https://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/" class="external" hreflang="en">Document Object Model (DOM) Level 3 Events Specification</a>的早期草稿实现<a href="/zh-CN/docs/Web/API/KeyboardEvent/initKeyboardEvent" title="此页面仍未被本地化, 期待您的翻译!"><code>KeyboardEvent.initKeyboardEvent</code></a>。 将现代构造函数结构视为构建事件的唯一跨浏览器方式。</p>

<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre><em>event</em>.initKeyEvent (<em>type</em>, <em>bubbles</em>, <em>cancelable</em>, <em>viewArg</em>,
                    <em>ctrlKeyArg</em>, <em>altKeyArg</em>, <em>shiftKeyArg</em>, <em>metaKeyArg</em>,
                    <em>keyCodeArg</em>, <em>charCodeArg</em>)
</pre>

<h3 id="Parameters">Parameters</h3>

<dl>
 <dt><em><code>type</code></em></dt>
 <dd>是表示事件类型的<a href="/zh-CN/docs/Web/API/DOMString" title="DOMString 是一个UTF-16字符串。由于JavaScript已经使用了这样的字符串，所以DOMString 直接映射到 一个String。"><code>DOMString</code></a>。</dd>
 <dt><em><code>bubbles</code></em></dt>
 <dd>是<a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a>指示事件是否应该通过事件链冒泡（请参阅冒泡）。</dd>
 <dt><em><code>cancelable</code></em></dt>
 <dd>是<a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a>我指出事件是否可以被取消（见可取消）。</dd>
 <dt><em><code>viewArg</code></em></dt>
 <dd>指定<a href="/zh-CN/docs/Web/API/UIEvent/view" title="此页面仍未被本地化, 期待您的翻译!"><code>UIEvent.view</code></a>; 此值可能为空。</dd>
 <dt><em><code>ctrlKeyArg</code></em></dt>
 <dd>如果要生成的虚拟键是包含<kbd>Ctrl</kbd>键的键的组合，则为<a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a></dd>
 <dt><em><code>altKeyArg</code></em></dt>
 <dd><em><code>如果要生成的虚拟键是包含</code></em><kbd>Alt</kbd><em><code>键的键的组合，则为<a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a>。</code></em></dd>
 <dt><em><code>shiftKeyArg</code></em></dt>
 <dd>A <a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a>如果要生成的虚拟键是包含<kbd>Shift</kbd>键的键组合，则返回true。</dd>
 <dt><em><code>metaKeyArg</code></em></dt>
 <dd><em><code>是<a href="/zh-CN/docs/Web/JavaScript/Reference/Boolean" title="此页面仍未被本地化, 期待您的翻译!"><code>Boolean</code></a>如果要生成的虚拟键是包含</code></em><kbd>Meta</kbd><em><code>键的键的组合，则为true。</code></em></dd>
 <dt><em><code>keyCodeArg</code></em></dt>
 <dd>是一个无符号长整型，表示被按下的键的虚拟键码值，否则为0.请参阅<a href="/zh-CN/docs/Web/API/KeyboardEvent/keyCode" title="该功能已从Web标准中删除。 尽管一些浏览器可能仍然支持它，但它正在被丢弃。 避免使用它并尽可能更新现有的代码; 请参阅本页底部的兼容性表格来指导您的决定。 请注意，此功能可能随时停止工作。"><code>KeyboardEvent.keyCode</code></a>以获取键码列表。</dd>
 <dt><em><code>charCodeArg</code></em></dt>
 <dd>是一个无符号长整型，表示与按下的键相关的Unicode字符，否则为0。</dd>
</dl>

<h2 id="Example" name="Example">Example</h2>

<pre>var event = document.createEvent(&apos;KeyboardEvent&apos;); // create a key event
// define the event
event.initKeyEvent(&quot;keypress&quot;,       // typeArg,
                   true,             // canBubbleArg,
                   true,             // cancelableArg,
                   null,             // viewArg,  Specifies UIEvent.view. This value may be null.
                   false,            // ctrlKeyArg,
                   false,            // altKeyArg,
                   false,            // shiftKeyArg,
                   false,            // metaKeyArg,
                    9,               // keyCodeArg,
                    0);              // charCodeArg);

document.getElementById(&apos;blah&apos;).dispatchEvent(event);
</pre>

<h2 id="Specification" name="Specification">Specification</h2>

<p>键盘事件的这种实现基于DOM 2事件早期版本中的关键事件规范，后来从该规范中删除。</p>

<p>initKeyEvent是DOM Level 3事件的当前Gecko等价物（最初起草并且不推荐使用<a href="/zh-CN/docs/Web/API/KeyboardEvent/KeyboardEvent" title="KeyboardEvent() 构造函数新建一个 KeyboardEvent 实例。"><code>KeyboardEvent()</code></a> <a href="/zh-CN/docs/Web/API/Keyboard/initKeyboardEvent" title="此页面仍未被本地化, 期待您的翻译!"><code>Keyboard.initKeyboardEvent()</code></a>方法与以下参数：</p>

<pre>typeArg of type DOMString
canBubbleArg of type boolean
cancelableArg of type boolean
viewArg of type views::AbstractView
keyIdentifierArg of type DOMString
keyLocationArg of type unsigned long
modifiersList of type DOMString);</pre>

<p> </p>
