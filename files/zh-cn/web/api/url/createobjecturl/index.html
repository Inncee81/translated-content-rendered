---
title: URL.createObjectURL()
slug: Web/API/URL/createObjectURL
tags:
  - API
  - DOM
  - URL
  - URL API
  - 方法
translation_of: Web/API/URL/createObjectURL
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/URL"><code>URL</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/URL/URL"><code>URL()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/URL/hash"><code>hash</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/host"><code>host</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/hostname"><code>hostname</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/href"><code>href</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/origin"><code>origin</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/%E5%AF%86%E7%A0%81"><code>密码</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/pathname"><code>pathname</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/port"><code>port</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/protocol"><code>protocol</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/search"><code>search</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/searchParams"><code>searchParams</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/username"><code>username</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><em><code>createObjectURL()</code></em></li><li><a href="/zh-CN/docs/Web/API/URL/revokeObjectURL"><code>revokeObjectURL()</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/toJSON"><code>toJSON()</code></a></li><li><a href="/zh-CN/docs/Web/API/URL/toString"><code>toString()</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>URL.createObjectURL()</code></strong> 静态方法会创建一个 <a href="/zh-CN/docs/Web/API/DOMString"><code>DOMString</code></a>，其中包含一个表示参数中给出的对象的URL。这个 URL 的生命周期和创建它的窗口中的 <a href="/zh-CN/docs/Web/API/Document"><code>document</code></a> 绑定。这个新的URL 对象表示指定的 <a href="/zh-CN/docs/Web/API/File"><code>File</code></a> 对象或 <a href="/zh-CN/docs/Web/API/Blob"><code>Blob</code></a> 对象。</p>

<div class="note notecard"><strong>Note:</strong> 此特性在 <a href="/zh-CN/docs/Web/API/Web_Workers_API">Web Worker</a> 中可用。</div>

<div class="note">
<p><strong>注意：</strong>此特性在 <a href="/zh-CN/docs/Web/API/Service_Worker_API">Service Worker</a> 中不可用，因为它有可能导致内存泄漏。</p>
</div>

<h2 id="语法">语法</h2>

<pre class="syntaxbox notranslate"><em>objectURL</em> = URL.createObjectURL(<em>object</em>);
</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><code>object</code></dt>
 <dd>用于创建 URL 的 <a href="/zh-CN/docs/Web/API/File"><code>File</code></a> 对象、<a href="/zh-CN/docs/Web/API/Blob"><code>Blob</code></a> 对象或者 <a href="/zh-CN/docs/Web/API/MediaSource"><code>MediaSource</code></a> 对象。​</dd>
</dl>

<h3 id="返回值">返回值</h3>

<p>一个<a href="/zh-CN/docs/Web/API/DOMString"><code>DOMString</code></a>包含了一个对象URL，该URL可用于指定源 <code>object</code>的内容。</p>

<h2 id="示例">示例</h2>

<p>查看<a href="/zh-CN/docs/Using_files_from_web_applications#Example.3A_Using_object_URLs_to_display_images" title="https://developer.mozilla.org/en/Using_files_from_web_applications#Example:_Using_object_URLs_to_display_images">使用对象URL显示图片</a>.</p>

<h2 id="Notes" name="Notes">附注</h2>

<h3 id="内存管理">内存管理</h3>

<p>在每次调用 <code>createObjectURL()</code> 方法时，都会创建一个新的 URL 对象，即使你已经用相同的对象作为参数创建过。当不再需要这些 URL 对象时，每个对象必须通过调用 <a href="/zh-CN/docs/Web/API/URL/revokeObjectURL"><code>URL.revokeObjectURL()</code></a> 方法来释放。</p>

<p>浏览器在 document 卸载的时候，会自动释放它们，但是为了获得最佳性能和内存使用状况，你应该在安全的时机主动释放掉它们。</p>

<h3 id="使用相对URLs作为媒体流">使用相对URLs作为媒体流</h3>

<p>在旧版本的媒体资源规范中，添加流作为<a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入媒体播放器，用于支持文档内的视频播放。"><code>&lt;video&gt;</code></a>元素需要创建一个关于 <a href="/zh-CN/docs/Web/API/MediaStream"><code>MediaStream</code></a>的对象URL。现已没必要这样做了，浏览器已经移除了该操作的支持。</p>

<div class="warning notecard">
<p>重要：如果你为了去添加流作为媒体元素，而仍旧使用着依赖<a href="/zh-CN/docs/Web/API/URL/createObjectURL"><code>createObjectURL()</code></a> 的代码，你需要更新的代码，仅需要设定<a href="/zh-CN/docs/Web/API/HTMLMediaElement/srcObject"><code>srcObject</code></a> 到`<code>MediaStream</code> `即可。</p>
</div>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">备注</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/FileAPI/#dfn-createObjectURL" hreflang="en" lang="en">File API<br><small lang="zh-CN">createObjectURL()</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td>Initial definition.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/media-source/#dom-url-createobjecturl" hreflang="en" lang="en">Media Source Extensions<br><small lang="zh-CN">URL</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>
    <p>MediaSource extension.</p>

    <p>Older versions of this specification used <code>createObjectURL()</code> for <a href="/zh-CN/docs/Web/API/MediaStream"><code>MediaStream</code></a> objects; this is no longer supported.</p>
   </td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.URL.createObjectURL"></div>

<h2 id="See_also" name="See_also">相关链接</h2>

<ul>
 <li><a href="/zh-CN/docs/Using_files_from_web_applications">在web应用程序中使用文件</a></li>
 <li><a href="/en-US/docs/Using_files_from_web_applications#Example_Using_object_URLs_to_display_images">Using object URLs to display images</a></li>
 <li><a href="/zh-CN/docs/Web/API/URL/revokeObjectURL"><code>URL.revokeObjectURL()</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/HTMLMediaElement/srcObject"><code>HTMLMediaElement.srcObject</code></a></li>
 <li><a href="/zh-CN/docs/Web/API/FileReader/readAsDataURL"><code>FileReader.readAsDataURL()</code></a></li>
</ul>
