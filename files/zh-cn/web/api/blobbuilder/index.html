---
title: BlobBuilder
slug: Web/API/BlobBuilder
translation_of: Web/API/BlobBuilder
---
<div class="deprecated deprecatedHeader notecard">
            <p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> 已废弃</strong><br>该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。</p>
        </div>
<div class="experimental indicator-warning notecard">
    <p><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href="#Browser_compatibility">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p>
</div>
<p>The <code>BlobBuilder</code> interface provides an easy way to construct <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> objects. Just create a <code>BlobBuilder</code> and append chunks of data to it by calling the <code><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BlobBuilder#append()">append()</a></code> method. When you&apos;re done building your blob, call <code><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BlobBuilder#getBlob()">getBlob()</a></code> to retrieve a <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> containing the data you sent into the blob builder.</p>
<div class="note notecard">
  <strong>注:</strong><code>BlobBuilder</code>接口已经废弃,请使用新版草案中引入的 <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a>构造函数.</div>
<h2 id="Method_overview" name="Method_overview">方法概述</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>void <a href="/zh-CN/DOM/BlobBuilder#append()">append</a>(in ArrayBuffer data);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="/zh-CN/DOM/BlobBuilder#append()">append</a>(in Blob data);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="/zh-CN/DOM/BlobBuilder#append()">append</a>(in String data, [optional] in String endings);</code></td>
    </tr>
    <tr>
      <td><code>Blob <a href="/zh-CN/DOM/BlobBuilder#getBlob()">getBlob</a>([optional] in DOMString contentType);</code></td>
    </tr>
    <tr>
      <td><code>File <a href="/zh-CN/DOM/BlobBuilder#getFile()">getFile</a>(in DOMString name, [optional] in DOMString contentType);</code></td>
    </tr>
  </tbody>
</table>
<h2 id="方法">方法</h2>
<h3 id="append()">append()</h3>
<p>Appends the contents of the specified JavaScript object to the <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> being built. If the value you specify isn&apos;t a <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a>, <a href="/zh-CN/JavaScript_typed_arrays/ArrayBuffer" title="zh-CN/JavaScript typed arrays/Arraybuffer"><code>ArrayBuffer</code></a>, or <a href="/zh-CN/JavaScript/Reference/Global_Objects/String" title="zh-CN/JavaScript/Reference/Global Objects/String"><code>String</code></a>, the value is coerced to a string before being appended to the blob.</p>
<pre>void append(
  in ArrayBuffer data
);

void append(
  in Blob data
);


void append(
  in String data,
  [optional] in String endings
);
</pre>
<h6 id="参数">参数</h6>
<dl>
  <dt>
    <code>data</code></dt>
  <dd>
    The data to append to the <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> being constructed.</dd>
  <dt>
    <code>endings</code></dt>
  <dd>
    Specifies how strings containing <code>\n</code> are to be written out. This can be <code>&quot;transparent&quot;</code> (endings unchanged) or <code>&quot;native&quot;</code> (endings changed to match host OS filesystem convention). The default value is <code>&quot;transparent&quot;</code>.</dd>
</dl>
<h3 id="getBlob()">getBlob()</h3>
<p>Returns the <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> object that has been constructed using the data passed through calls to <code><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BlobBuilder#append()">append()</a></code>.</p>
<pre class="eval">Blob getBlob(
  in DOMString contentType <span class="optional optionalInline notecard inline">可选</span>
);
</pre>
<h6 id="参数_2">参数</h6>
<dl>
  <dt>
    contentType <span class="optional optionalInline notecard inline">可选</span></dt>
  <dd>
    The MIME type of the data to be returned in the <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a>. This will be the value of the <code>Blob</code> object&apos;s type property.</dd>
</dl>
<h6 id="返回值">返回值</h6>
<p>A <a href="/zh-CN/docs/Web/API/Blob" title="Blob 对象表示一个不可变、原始数据的类文件对象。Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。"><code>Blob</code></a> object containing all of the data passed to any calls to <code><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BlobBuilder#append()">append()</a></code> made since the <code>BlobBuilder</code> was created. This also resets the <code>BlobBuilder</code> so that the next call to <code><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BlobBuilder#append()">append()</a></code> is starting a new, empty blob.</p>
<h3 id="getFile()">getFile() <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></h3>
<p>返回一个<a href="/zh-CN/docs/Web/API/File" title="文件（File）接口提供有关文件的信息，并允许网页中的 JavaScript 访问其内容。"><code>File</code></a>对象.</p>
<pre class="eval">File getFile(
  in DOMString name,
  [optional] in DOMString contentType
);
</pre>
<h6 id="参数_3">参数</h6>
<dl>
  <dt>
    name</dt>
  <dd>
    文件名.</dd>
  <dt>
    contentType <span class="optional optionalInline notecard inline">可选</span></dt>
  <dd>
    设置返回的<a href="/zh-CN/docs/Web/API/File" title="文件（File）接口提供有关文件的信息，并允许网页中的 JavaScript 访问其内容。"><code>File</code></a>对象中的数据的MIME类型.这个值将会成为返回<code>的File</code>对象的type属性的值.</dd>
</dl>
<h6 id="返回值_2">返回值</h6>
<p>一个<a href="/zh-CN/docs/Web/API/File" title="文件（File）接口提供有关文件的信息，并允许网页中的 JavaScript 访问其内容。"><code>File</code></a>对象.</p>
<h2 id="浏览器兼容性">浏览器兼容性</h2>
<div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-CN/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div>
<div id="compat-desktop">
  <table class="compat-table">
    <tbody>
      <tr>
        <th>Feature</th>
        <th>Chrome</th>
        <th>Firefox (Gecko)</th>
        <th>Internet Explorer</th>
        <th>Opera</th>
        <th>Safari</th>
      </tr>
      <tr>
        <td>Basic support</td>
        <td>8<br>
          As <code>WebKitBlobBuilder</code> †</td>
        <td><a href="/en-US/Firefox/Releases/6">6.0</a> (6.0)<br>
          As <code>MozBlobBuilder</code></td>
        <td>10<br>
          As <code>MSBlobBuilder</code></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span>†</td>
      </tr>
      <tr>
        <td><code>getfile()</code> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><a href="/en-US/Firefox/Releases/8">8.0</a> (8.0)</td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
      </tr>
    </tbody>
  </table>
</div>
<div id="compat-mobile">
  <table class="compat-table">
    <tbody>
      <tr>
        <th>Feature</th>
        <th>Android</th>
        <th>Firefox Mobile (Gecko)</th>
        <th>IE Mobile</th>
        <th>Opera Mobile</th>
        <th>Safari Mobile</th>
      </tr>
      <tr>
        <td>Basic support</td>
        <td>3<br>
          As <code>WebKitBlobBuilder</code></td>
        <td>6.0 (6.0)<br>
          As <code>MozBlobBuilder</code></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
      </tr>
      <tr>
        <td><code>getfile()</code> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td>8.0 (8.0)</td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
        <td><span style="color: #f00;">未实现</span></td>
      </tr>
    </tbody>
  </table>
</div>
<h3 id="注BlobBuilder已被废弃">注:BlobBuilder已被废弃</h3>
<ul>
  <li>从Firefox 14开始,使用<code>MozBlobBuilder</code>会在Web控制台显示一条警告消息: <code>MozBlobBuilder</code>已被废弃,请使用<a href="/zh-CN/docs/Web/API/Blob"><code>Blob</code></a>来代替.</li>
  <li>从Firefox 18开始,<code>MozBlobBuilder</code>已被删除.</li>
  <li>WebKit has deprecated <code>WebKitBlobBuilder</code> and has made its support configurable. Currently Safari disables the feature in Nightly, so it will never likely to ship in the final version. On the other hand, Chrome, which has supported it since Chrome 8, still enables the feature. So Chrome might continue to support the feature. (See this <a class="external" href="http://trac.webkit.org/changeset/115666">WebKit changeset</a> for details).</li>
</ul>
<h2 id="相关链接">相关链接</h2>
<ul>
  <li><a href="http://dev.w3.org/2009/dap/file-system/file-writer.html#idl-def-BlobBuilder">File API Specification: BlobBuilder</a><span style="color: #fff; background: #e61919; display: inline-block; font-size: x-small; margin-left: 6px; white-space: nowrap; padding: 2px 5px;" title="编辑草案(非官方)">ED</span></li>
  <li><a href="/zh-CN/docs/Web/API/Blob"><code>Blob</code></a></li>
  <li><a href="/zh-CN/docs/Web/API/File"><code>File</code></a></li>
</ul>
