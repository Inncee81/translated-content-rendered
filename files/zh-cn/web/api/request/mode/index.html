---
title: Request.mode
slug: Web/API/Request/mode
tags:
  - API
  - Fetch
  - 参考
  - 属性
  - 请求
translation_of: Web/API/Request/mode
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Request"><code>Request</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/Request"><code>Request()</code></a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/body"><code>body</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/bodyUsed"><code>bodyUsed</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/cache"><code>cache</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/context"><code>context</code></a></li><li><a href="/zh-CN/docs/Web/API/Request/credentials"><code>credentials</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/destination"><code>destination</code></a> <a href="/zh-CN/docs/Web/API/Request/destination$translate" style="opacity: 0.5;">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/headers"><code>headers</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/integrity"><code>integrity</code></a> <a href="/zh-CN/docs/Web/API/Request/integrity$translate" style="opacity: 0.5;">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/method"><code>method</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><em><code>mode</code></em></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/redirect"><code>redirect</code></a> <a href="/zh-CN/docs/Web/API/Request/redirect$translate" style="opacity: 0.5;">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/referrer"><code>referrer</code></a> <a href="/zh-CN/docs/Web/API/Request/referrer$translate" style="opacity: 0.5;">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/referrerPolicy"><code>referrerPolicy</code></a> <a href="/zh-CN/docs/Web/API/Request/referrerPolicy$translate" style="opacity: 0.5;">[我来译!]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/url"><code>url</code></a></li></ol></details></li><li class="toggle"><details open><summary>方法</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/arrayBuffer"><code>arrayBuffer()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/blob"><code>blob()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Request/clone"><code>clone()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/formData"><code>formData()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/json"><code>json()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/Body/text"><code>text()</code></a></li></ol></details></li></ol></section></div>

<p><a href="/zh-CN/docs/Web/API/Request"><code>Request</code></a> 接口的 <strong><code>mode</code></strong> 只读属性包含请求的模式（例如：<code>cors</code> 、 <code>no-cors</code> 、 <code>cors-with-forced-preflight</code> 、 <code>same-origin</code> 或 <code>navigate</code> 。）这用于确定跨域请求是否能得到有效的响应，以及响应的哪些属性是可读的。</p>

<ul>
</ul>

<h2 id="语法">语法</h2>

<pre class="syntaxbox notranslate">var <var>myMode</var> = <var>request</var>.mode;</pre>

<h3 id="属性值">属性值</h3>

<p>一个 <code>RequestMode</code> 值。</p>

<ul>
 <li><code>same-origin</code> — 如果使用此模式向另外一个源发送请求，显而易见，结果会是一个错误。你可以设置该模式以确保请求总是向当前的源发起的。</li>
 <li><code>no-cors</code> — 保证请求对应的 method 只有 <code>HEAD</code>，<code>GET</code> 或 <code>POST</code> 方法，并且请求的 headers 只能有简单请求头 (<a href="https://fetch.spec.whatwg.org/#simple-header">simple headers</a>)。如果 ServiceWorker 劫持了此类请求，除了 <a href="https://fetch.spec.whatwg.org/#simple-header">simple header</a> 之外，不能添加或修改其他 header。另外 JavaScript 不会读取 <a href="/zh-CN/docs/Web/API/Response"><code>Response</code></a> 的任何属性。这样将会确保 ServiceWorker 不会影响 Web 语义(semantics of the Web)，同时保证了在跨域时不会发生安全和隐私泄露的问题。</li>
 <li><code>cors</code> — 允许跨域请求，例如访问第三方供应商提供的各种 API。预期将会遵守 <a href="/zh-CN/docs/Web/HTTP/Access_control_CORS">CORS protocol</a>  。仅有<a href="https://fetch.spec.whatwg.org/#concept-filtered-response-cors">有限部分</a>的头部暴露在 <a href="/zh-CN/docs/Web/API/Response"><code>Response</code></a> ，但是 body 部分是可读的。</li>
 <li><code>navigate</code> — 表示这是一个浏览器的页面切换请求(request)。 navigate请求仅在浏览器切换页面时创建，该请求应该返回HTML。</li>
</ul>

<h4 id="默认模式">默认模式</h4>

<p>可以以多种方式发起请求，并且请求的模式取决于发起请求的特定方式。</p>

<p>例如，当一个 <code>Request</code> 对象以 <a href="/zh-CN/docs/Web/API/Request/Request"><code>Request.Request</code></a> 方式创建，该<code>Request</code> 的 <code>mode</code> 的值为 <code>cors</code> 。</p>

<p>然而，除了以 <a href="/zh-CN/docs/Web/API/Request/Request"><code>Request.Request</code></a> 创建的请求，模式通常为 <code>no-cors</code> 。例如，对与嵌入资源发起的请求，除非存在 <code><a href="/zh-CN/docs/Web/HTML/CORS_settings_attributes">crossorigin</a></code> 属性，即对于<span> <a href="/zh-CN/docs/Web/HTML/Element/link" title="HTML外部资源链接元素 (&lt;link&gt;) 规定了当前文档与外部资源的关系。该元素最常用于链接样式表，此外也可以被用来创建站点图标(比如PC端的“favicon”图标和移动设备上用以显示在主屏幕的图标) 。"><code>&lt;link&gt;</code></a> 、 <a href="/zh-CN/docs/Web/HTML/Element/script" title="该元素包含全局属性。"><code>&lt;script&gt;</code></a> （除了和模块一起使用之外）、 <a href="/zh-CN/docs/Web/HTML/Element/img" title="HTML &lt;img&gt; 元素将一份图像嵌入文档。"><code>&lt;img&gt;</code></a>、 <a href="/zh-CN/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; 元素用于在文档中嵌入音频内容。 &lt;audio&gt; 元素可以包含一个或多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述：浏览器将会选择最合适的一个来使用。也可以使用 MediaStream 将这个元素用于流式媒体。"><code>&lt;audio&gt;</code></a>、 <a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入媒体播放器，用于支持文档内的视频播放。"><code>&lt;video&gt;</code></a>、 <a href="/zh-CN/docs/Web/HTML/Element/object" title="此页面仍未被本地化, 期待您的翻译!"><code>&lt;object&gt;</code></a>、 <a href="/zh-CN/docs/Web/HTML/Element/embed" title="HTML &lt;embed&gt; 元素将外部内容嵌入文档中的指定位置。此内容由外部应用程序或其他交互式内容源（如浏览器插件）提供。"><code>&lt;embed&gt;</code></a>还有 <a href="/zh-CN/docs/Web/HTML/Element/iframe" title="browsing context"><code>&lt;iframe&gt;</code></a> 元素，</span>在大多数情况下是使用 <code>no-cors</code> 模式<span>。</span></p>

<h2 id="示例">示例</h2>

<p>在下面代码段中，我们使用 <a href="/zh-CN/docs/Web/API/Request/Request"><code>Request.Request()</code></a> 创建请求（请求与脚本位于同一目录中的图像文件），然后将请求模式保存在一个变量中：</p>

<p>In the following snippet, we create a new request using theconstructor (for an image file in the same directory as the script), then save the request mode in a variable:</p>

<pre class="brush: js notranslate">var myRequest = new Request(&apos;flowers.jpg&apos;);
var myMode = myRequest.mode; // returns &quot;cors&quot; by default</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">备注</th>
  </tr>
  <tr>
   <td><a class="external" href="https://fetch.spec.whatwg.org/#dom-request-mode" hreflang="en" lang="en">Fetch<br><small lang="zh-CN">mode</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.Request.mode"></div>

<h2 id="参见">参见</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/ServiceWorker_API">ServiceWorker API</a></li>
 <li><a href="/zh-CN/docs/Web/HTTP/Access_control_CORS">HTTP 访问控制（CORS）</a></li>
 <li><a href="/zh-CN/docs/Web/HTTP">HTTP</a></li>
</ul>
