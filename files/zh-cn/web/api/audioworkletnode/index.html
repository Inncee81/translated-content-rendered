---
title: AudioWorkletNode
slug: Web/API/AudioWorkletNode
translation_of: Web/API/AudioWorkletNode
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/Web_Audio_API">Web Audio API</a></strong></li><li><strong><a href="/zh-CN/docs/Web/API/AudioWorkletNode"><code>AudioWorkletNode</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-CN/docs/Web/API/AudioWorkletNode/AudioWorkletNode"><code>AudioWorkletNode()</code></a> <a href="/zh-CN/docs/Web/API/AudioWorkletNode/AudioWorkletNode$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>属性</summary><ol><li><a href="/zh-CN/docs/Web/API/AudioWorkletNode/onprocessorerror"><code>onprocessorerror</code></a> <a href="/zh-CN/docs/Web/API/AudioWorkletNode/onprocessorerror$translate" style="opacity: 0.5;">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/AudioWorkletNode/parameters"><code>parameters</code></a> <a href="/zh-CN/docs/Web/API/AudioWorkletNode/parameters$translate" style="opacity: 0.5;">[我来译!]</a></li><li><a href="/zh-CN/docs/Web/API/AudioWorkletNode/port"><code>port</code></a> <a href="/zh-CN/docs/Web/API/AudioWorkletNode/port$translate" style="opacity: 0.5;">[我来译!]</a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Web Audio API</summary><ol><li><a href="/zh-CN/docs/Web/API/AnalyserNode"><code>AnalyserNode</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioBuffer"><code>AudioBuffer</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioBufferSourceNode"><code>AudioBufferSourceNode</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioContext"><code>AudioContext</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioContextOptions"><code>AudioContextOptions</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioDestinationNode"><code>AudioDestinationNode</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioListener"><code>AudioListener</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioNode"><code>AudioNode</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioNodeOptions"><code>AudioNodeOptions</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioParam"><code>AudioParam</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioProcessingEvent"><code>AudioProcessingEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioScheduledSourceNode"><code>AudioScheduledSourceNode</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioWorklet"><code>AudioWorklet</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioWorkletGlobalScope"><code>AudioWorkletGlobalScope</code></a></li><li><a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a></li><li><a href="/zh-CN/docs/Web/API/BaseAudioContext"><code>BaseAudioContext</code></a></li><li><a href="/zh-CN/docs/Web/API/BiquadFilterNode"><code>BiquadFilterNode</code></a></li><li><a href="/zh-CN/docs/Web/API/ChannelMergerNode"><code>ChannelMergerNode</code></a></li><li><a href="/zh-CN/docs/Web/API/ChannelSplitterNode"><code>ChannelSplitterNode</code></a></li><li><a href="/zh-CN/docs/Web/API/ConstantSourceNode"><code>ConstantSourceNode</code></a></li><li><a href="/zh-CN/docs/Web/API/ConvolverNode"><code>ConvolverNode</code></a></li><li><a href="/zh-CN/docs/Web/API/DelayNode"><code>DelayNode</code></a></li><li><a href="/zh-CN/docs/Web/API/DynamicsCompressorNode"><code>DynamicsCompressorNode</code></a></li><li><a href="/zh-CN/docs/Web/API/GainNode"><code>GainNode</code></a></li><li><a href="/zh-CN/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaStreamAudioDestinationNode"><code>MediaStreamAudioDestinationNode</code></a></li><li><a href="/zh-CN/docs/Web/API/MediaStreamAudioSourceNode"><code>MediaStreamAudioSourceNode</code></a></li><li><a href="/zh-CN/docs/Web/API/OfflineAudioCompletionEvent"><code>OfflineAudioCompletionEvent</code></a></li><li><a href="/zh-CN/docs/Web/API/OfflineAudioContext"><code>OfflineAudioContext</code></a></li><li><a href="/zh-CN/docs/Web/API/OscillatorNode"><code>OscillatorNode</code></a></li><li><a href="/zh-CN/docs/Web/API/PannerNode"><code>PannerNode</code></a></li><li><a href="/zh-CN/docs/Web/API/PeriodicWave"><code>PeriodicWave</code></a></li><li><a href="/zh-CN/docs/Web/API/StereoPannerNode"><code>StereoPannerNode</code></a></li><li><a href="/zh-CN/docs/Web/API/WaveShaperNode"><code>WaveShaperNode</code></a></li></ol></details></li></ol></section> <div class="experimental indicator-warning notecard">
    <p><strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href="#Browser_compatibility">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p>
</div>

<div class="secureContexts notecard">虽然这个接口可以在 <a href="/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> 之外调用, 但是 <a href="/zh-CN/docs/Web/API/BaseAudioContext/audioWorklet"><code>BaseAudioContext.audioWorklet</code></a> 属性不行, 从而 <a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a>s 不能在外部定义.</div>

<p><a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a> 中的  <strong><code>AudioWorkletNode</code></strong>  接口代表了用户定义的<a href="/zh-CN/docs/Web/API/AudioNode"><code>AudioNode</code></a>的基类, 该基类可以与其他节点一起连接到音频路由图. 其具有关联的<a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a>, 它在 Web Audio 执行实际的音频处理.</p>

<h2 id="构造函数">构造函数</h2>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/AudioWorkletNode/AudioWorkletNode"><code>AudioWorkletNode()</code></a></dt>
 <dd>为 <code>AudioWorkletNode</code> 创建一个新的实例对象.</dd>
</dl>

<h2 id="属性">属性</h2>

<p><em>也继承父类的属性, <a href="/zh-CN/docs/Web/API/AudioNode"><code>AudioNode</code></a></em>.</p>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/AudioWorkletNode/port"><code>AudioWorkletNode.port</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>返回一个 <a href="/zh-CN/docs/Web/API/MessagePort"><code>MessagePort</code></a> 用于节点与其关联的 <a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a> 间的双向通讯. 另一端在处理器属性<a href="/zh-CN/docs/Web/API/AudioWorkletProcessor/port"><code>port</code></a> 下可用.</dd>
 <dt><a href="/zh-CN/docs/Web/API/AudioWorkletNode/parameters"><code>AudioWorkletNode.parameters</code></a> <span class="readOnly readOnlyInline notecard inline" title="该属性的值无法更改">只读 </span></dt>
 <dd>返回一个 <a href="/zh-CN/docs/Web/API/AudioParamMap"><code>AudioParamMap</code></a> —  <a href="/zh-CN/docs/Web/API/AudioParam"><code>AudioParam</code></a> 对象的集合. 它们在创建 <code>AudioWorkletProcessor</code>的过程中被实例化. 如果 <code>AudioWorkletProcessor</code> 有一个静态的 <a href="/zh-CN/docs/Web/API/AudioWorkletProcessor/parameterDescriptors"><code>parameterDescriptors</code></a> getter, 从其返回的 <a href="/zh-CN/docs/Web/API/AudioParamDescriptor"><code>AudioParamDescriptor</code></a> 数组用于在 <code>AudioWorkletNode</code> 创建 <code>AudioParam</code> 对象. 通过这种机制，使得 <code>AudioParam</code> 对象可以从 <code>AudioWorkletNode</code> 中访问. 你可以在与其关联的 <code>AudioWorkletProcessor</code> 中使用它的值.</dd>
</dl>

<h3 id="Event_handlers">Event handlers</h3>

<dl>
 <dt><a href="/zh-CN/docs/Web/API/AudioWorkletNode/onprocessorerror"><code>AudioWorkletNode.onprocessorerror</code></a></dt>
 <dd>在关联的 <a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a> 对象发生异常时触发. 一旦触发，处理器及其节点将在其整个生命周期内处于输出静默状态.</dd>
</dl>

<h2 id="方法">方法</h2>

<p><em>同样继承了其父类的方法, </em><em><a href="/zh-CN/docs/Web/API/AudioNode"><code>AudioNode</code></a></em>.</p>

<p><em>AudioWorkletNode 接口未定义其自己的任何方法.</em></p>

<h2 id="示例">示例</h2>

<p>在本示例中我们创建了 <code>AudioWorkletNode</code> 对象, 它会输出白噪声.</p>

<p>首先, 我们需要定义一个自定义的 <a href="/zh-CN/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a>, 它将输出白噪声并进行注册. 注意, 这需要在一个单独的文件中完成.</p>

<pre class="brush: js notranslate">// white-noise-processor.js
class WhiteNoiseProcessor extends AudioWorkletProcessor {
  process (inputs, outputs, parameters) {
    const output = outputs[0]
    output.forEach(channel =&gt; {
      for (let i = 0; i &lt; channel.length; i++) {
        channel[i] = Math.random() * 2 - 1
      }
    })
    return true
  }
}

registerProcessor(&apos;white-noise-processor&apos;, WhiteNoiseProcessor)
</pre>

<p>接下来, 在脚本主文件中一个 <code>AudioWorkletNode</code> 实例, 并传递处理器的名称, 然后将该实例连接到一个audio graph.</p>

<pre class="brush: js notranslate">const audioContext = new AudioContext()
await audioContext.audioWorklet.addModule(&apos;white-noise-processor.js&apos;)
const whiteNoiseNode = new AudioWorkletNode(audioContext, &apos;white-noise-processor&apos;)
whiteNoiseNode.connect(audioContext.destination)
</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://webaudio.github.io/web-audio-api/#audioworkletnode" hreflang="en" lang="en">Web Audio API<br><small lang="zh-CN">AudioWorkletNode</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div>
<div class="hidden">此页面上的兼容性表是根据结构化数据生成的。 如果您想提供数据，请查看https://github.com/mdn/browser-compat-data并向我们发送PR。</div>

<div class="bc-data" id="bcd:api.AudioWorkletNode"></div>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a></li>
 <li><a href="/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li>
</ul>
