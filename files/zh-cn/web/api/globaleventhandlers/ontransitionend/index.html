---
title: GlobalEventHandlers.ontransitionend
slug: Web/API/GlobalEventHandlers/ontransitionend
translation_of: Web/API/GlobalEventHandlers/ontransitionend
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-CN/docs/Web/API/GlobalEventHandlers"><code>GlobalEventHandlers</code></a></strong></li><li class="toggle"><details open><summary>属性</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onabort"><code>onabort</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onanimationcancel"><code>onanimationcancel</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onanimationend"><code>onanimationend</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onanimationiteration"><code>onanimationiteration</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onauxclick"><code>onauxclick</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onblur"><code>onblur</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oncancel"><code>oncancel</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oncanplay"><code>oncanplay</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oncanplaythrough"><code>oncanplaythrough</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onchange"><code>onchange</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onclick"><code>onclick</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onclose"><code>onclose</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oncontextmenu"><code>oncontextmenu</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oncuechange"><code>oncuechange</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/ondblclick"><code>ondblclick</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/%E6%97%B6%E9%95%BF%E6%94%B9%E5%8F%98"><code>ondurationchange</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onended"><code>onended</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onerror"><code>onerror</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onfocus"><code>onfocus</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onformdata"><code>onformdata</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/ongotpointercapture"><code>ongotpointercapture</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oninput"><code>oninput</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/oninvalid"><code>oninvalid</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onkeydown"><code>onkeydown</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onkeypress"><code>onkeypress</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onkeyup"><code>onkeyup</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onload"><code>onload</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onloadeddata"><code>onloadeddata</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onloadedmetadata"><code>onloadedmetadata</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onloadend"><code>onloadend</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onloadstart"><code>onloadstart</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onlostpointercapture"><code>onlostpointercapture</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmousedown"><code>onmousedown</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmouseenter"><code>onmouseenter</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmouseleave"><code>onmouseleave</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmousemove"><code>onmousemove</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmouseout"><code>onmouseout</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmouseover"><code>onmouseover</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onmouseup"><code>onmouseup</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpause"><code>onpause</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onplay"><code>onplay</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onplaying"><code>onplaying</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointercancel"><code>onpointercancel</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerdown"><code>onpointerdown</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerenter"><code>onpointerenter</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerleave"><code>onpointerleave</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointermove"><code>onpointermove</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerout"><code>onpointerout</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerover"><code>onpointerover</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onpointerup"><code>onpointerup</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onreset"><code>onreset</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onresize"><code>onresize</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onscroll"><code>onscroll</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onselect"><code>onselect</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onselectionchange"><code>onselectionchange</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onselectstart"><code>onselectstart</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onsubmit"><code>onsubmit</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/ontouchcancel"><code>ontouchcancel</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="这是一个实验性的 API，请尽量不要在生产环境中使用它。"><i class="icon-beaker"> </i></span></span><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/ontouchstart"><code>ontouchstart</code></a></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/ontransitioncancel"><code>ontransitioncancel</code></a></li><li><em><code>ontransitionend</code></em></li><li><a href="/zh-CN/docs/Web/API/GlobalEventHandlers/onwheel"><code>onwheel</code></a></li></ol></details></li><li class="toggle"><details open><summary>Implemented by:</summary><ol><li><a href="/zh-CN/docs/Web/API/Document"><code>Document</code></a></li><li><a href="/zh-CN/docs/Web/API/HTMLElement"><code>HTMLElement</code></a></li><li><a href="/zh-CN/docs/Web/API/SVGElement"><code>SVGElement</code></a></li><li><a href="/zh-CN/docs/Web/API/Window"><code>Window</code></a></li><li><a href="/zh-CN/docs/Web/API/XULElement"><code>XULElement</code></a></li></ol></details></li></ol></section></div>

<p><code><a href="/zh-CN/docs/Web/Reference/Events/transitionend" title="/zh-CN/docs/Web/Reference/Events/transitionend">transitionend</a></code> 事件的事件处理函数，在某个 <a href="/en-US/docs/Web/CSS/CSS_Transitions">CSS transition</a> 完成时触发。</p>

<div class="note">
<p>如果在 transition 完成前，该 transition 已从目标节点上移除，那么 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionend" title="/zh-CN/docs/Web/Reference/Events/transitionend">transitionend</a></code> 将不会被触发。一种可能的情况是修改了目标节点的 <a href="/zh-CN/docs/Web/CSS/transition-property" title="transition-property 指定应用过渡属性的名称。"><code>transition-property</code></a> 属性，另一种可能的情况是 <a href="/zh-CN/docs/Web/CSS/display" title="在 CSS 规范（特指 CSS Level 1/2/3 规范）中查阅 display 属性的所有取值时需要注意：个别取值的详细信息记录在独立的规范中。 例如，display: flex 的详细信息在 CSS Flexible Box Model 规范中记录。可以在本文档末尾的表格中查看所有有关的规范。"><code>display</code></a> 属性被设为 <code>&quot;none&quot;</code>。</p>
</div>

<h2 id="语法">语法</h2>

<pre class="syntaxbox notranslate">var <em>transitionEndHandler</em> = <em>target</em>.ontransitionend;

<em>target</em>.ontransitionend = <em><a href="/zh-CN/docs/Web/JavaScript/Reference/Function"><code>Function</code></a></em>
</pre>

<h3 id="值">值</h3>

<p>一个 <a href="/zh-CN/docs/Web/JavaScript/Reference/Function"><code>Function</code></a>，该函数会在 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionend" title="/zh-CN/docs/Web/Reference/Events/transitionend">transitionend</a></code> 事件发生时被触发，表示目标节点的 CSS transition 已经完成。目标节点可能是一个 HTML 元素 (<a href="/zh-CN/docs/Web/API/HTMLElement"><code>HTMLElement</code></a>)，document (<a href="/zh-CN/docs/Web/API/Document"><code>Document</code></a>)，或者 window (<a href="/zh-CN/docs/Web/API/Window"><code>Window</code></a>)。该函数接受一个参数：一个描述该事件的 <a href="/zh-CN/docs/Web/API/TransitionEvent"><code>TransitionEvent</code></a> 对象；其 <a href="/zh-CN/docs/Web/API/TransitionEvent/elapsedTime"><code>TransitionEvent.elapsedTime</code></a> 属性值与 <a href="/zh-CN/docs/Web/CSS/transition-duration" title="transition-duration 属性以秒或毫秒为单位指定过渡动画所需的时间。默认值为 0s ，表示不出现过渡动画。"><code>transition-duration</code></a> 的值一致。</p>

<div class="note">
<p><code>elapsedTime</code> 并不包括 transition 效果开始前的时间，也就是说，<a href="/zh-CN/docs/Web/CSS/transition-delay" title="CSS的transition-delay属性规定了在过渡效果开始作用之前需要等待的时间。"><code>transition-delay</code></a> 属性并不会影响 <code>elapsedTime</code>的值，其在延迟结束、动画开始之时，值为零。</p>
</div>

<h2 id="示例">示例</h2>

<p>本例中，我们使用了 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionrun" title="/zh-CN/docs/Web/Reference/Events/transitionrun">transitionrun</a></code> 和 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionend" title="/zh-CN/docs/Web/Reference/Events/transitionend">transitionend</a></code> 事件来监测 transition 的开始和结束，从而在 transition 的过程中更新文本。这也可以被用来触发动画或者其它效果来实现连锁反应。</p>

<h3 id="HTML_内容">HTML 内容</h3>

<p>这里简单地创建了一个 <a href="/zh-CN/docs/Web/HTML/Element/div" title="HTML &lt;div&gt; 元素 (或 HTML 文档分区元素) 是一个通用型的流内容容器，在不使用CSS的情况下，其对内容或布局没有任何影响。"><code>&lt;div&gt;</code></a>，我们将使用 CSS 来改变其大小和颜色。</p>

<pre class="brush: html; notranslate">&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
</pre>

<h3 id="CSS_内容">CSS 内容</h3>

<p>以下为 CSS 样式，并添加了 transition 属性。当鼠标悬浮时，盒子大小和颜色会发生变化，而且还会转动。</p>

<pre class="brush: css; highlight:[13,14] notranslate">.box {
  margin-left: 70px;
  margin-top: 30px;
  border-style: solid;
  border-width: 1px;
  display: block;
  width: 100px;
  height: 100px;
  background-color: #0000FF;
  color: #FFFFFF;
  padding: 20px;
  font: bold 1.6em &quot;Helvetica&quot;, &quot;Arial&quot;, sans-serif;
  -webkit-transition: width 2s, height 2s, background-color 2s, -webkit-transform 2s, color 2s;
  transition: width 2s, height 2s, background-color 2s, transform 2s, color 2s;
}

.box:hover {
  background-color: #FFCCCC;
  color: #000000;
  width: 200px;
  height: 200px;
  -webkit-transform: rotate(180deg);
  transform: rotate(180deg);
}
</pre>

<h3 id="JavaScript_内容">JavaScript 内容</h3>

<p>接下来，我们需要事件处理函数以在 transition 发生和结束时修改文本内容。</p>

<pre class="brush: js notranslate">let box = document.querySelector(&quot;.box&quot;);
box.ontransitionrun = function(event) {
  box.innerHTML = &quot;Zooming...&quot;;
}
box.ontransitionend = function(event) {
  box.innerHTML = &quot;Done!&quot;;
}
</pre>

<h3 id="效果">效果</h3>

<p>最后的效果如下：</p>

<p><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="280" id="frame_Example" src="https://mdn.mozillademos.org/zh-CN/docs/Web/API/GlobalEventHandlers/ontransitionend$samples/Example?revision=1480120" width="600"></iframe></p>

<p>注意观察当鼠标悬浮在元素上以及移出时发生的变化。</p>

<h2 id="规范">规范</h2>

<table class="spectable standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://drafts.csswg.org/css-transitions/#ontransitionend" hreflang="en" lang="en">CSS Transitions<br><small lang="zh-CN">ontransitionend</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.GlobalEventHandlers.ontransitionend"></div>

<h2 id="另见">另见</h2>

<ul>
 <li>触发此事件处理函数的 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionend">transitionend</a></code> 事件。</li>
 <li><a href="/zh-CN/docs/Web/API/TransitionEvent"><code>TransitionEvent</code></a></li>
 <li>在transition 开始时触发的 <code><a href="/zh-CN/docs/Web/Reference/Events/transitionrun">transitionrun</a></code> 事件。</li>
</ul>
