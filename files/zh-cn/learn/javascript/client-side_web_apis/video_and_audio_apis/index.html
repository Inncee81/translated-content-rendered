---
title: 视频和音频API
slug: Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs
translation_of: Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs
---
<div><section class="Quick_links" id="Quick_Links">

<ol>
  <li data-default-state="closed"><a href="/zh-CN/docs/Learn/Getting_started_with_the_web"><strong>新手请从这开始！</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Web 入门</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web">Web 概述</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/Installing_basic_software">安装基本软件</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like">您的网站会是什么样？</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/Dealing_with_files">处理文件</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/HTML_basics">HTML 基础</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/CSS_basics">CSS 基础</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/JavaScript_basics">JavaScript 基础</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/Publishing_your_website">发布您的网站</a></li>
            <li><a href="/zh-CN/docs/Learn/Getting_started_with_the_web/How_the_Web_works">Web 是如何运作的</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="closed"><a href="/zh-CN/docs/Learn/HTML"><strong>HTML — 构建 Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>HTML 介绍</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML">HTML 概述</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Getting_started">HTML 入门</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">脑袋里是什么？HTML 中的元数据</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals">HTML 文字基础</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks">建立超链接</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting">高级文字格式</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure">文档与网站架构</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML">HTML 除错</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter">作业：标记字母</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content">作业：构建出有内容的网页</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>多媒体与嵌入</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding">多媒体与嵌入概述</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">HTML 中的图片</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">视频和音频内容</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies">从对象到 iframe — 其他嵌入技术</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web">为 Web 新增向量图</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">自适应图片</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page">作业：Mozilla 醒目页面</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>HTML 表格</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/HTML/Tables">HTML 表格概览</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Tables/Basics">HTML 表格基础</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Tables/Advanced">HTML 高级表格特性和可访问性</a></li>
            <li><a href="/zh-CN/docs/Learn/HTML/Tables/Structuring_planet_data">作业：构建行星数据</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="closed"><a href="/zh-CN/docs/Learn/CSS"><strong>CSS — 设计 Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>CSS first steps</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps">CSS first steps overview</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps/What_is_CSS">What is CSS?</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps/Getting_started">Getting started with CSS</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps/How_CSS_is_structured">How CSS is structured</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps/How_CSS_works">How CSS works</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/First_steps/Using_your_new_knowledge">Using your new knowledge</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS building blocks</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks">CSS building blocks overview</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance">Cascade and inheritance</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Selectors">CSS selectors</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/The_box_model">The box model</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders">Backgrounds and borders</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Handling_different_text_directions">Handling different text directions</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Overflowing_content">Overflowing content</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Values_and_units">Values and units</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS">Sizing items in CSS</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Images_media_form_elements">Images, media, and form elements</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Styling_tables">Styling tables</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Debugging_CSS">Debugging CSS</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Building_blocks/Organizing">Organizing your CSS</a></li>
      </ol></details>
  </li>
  <li class="toggle">
      <details>
          <summary>样式化文字</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text">样式化文字概述</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text/Fundamentals">基础文字与字体样式化</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text/Styling_lists">样式化列表</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text/Styling_links">样式化链接</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text/Web_fonts">Web 字体</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/Styling_text/Typesetting_a_homepage">作业：排版社区大学首页</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS 排版概述</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout">CSS 版面配置概述</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Introduction">介绍</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Normal_Flow">Normal Flow</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Flexbox">弹性区块</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Grids">网格</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Floats">浮动</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Positioning">定位</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Multiple-column_Layout">Multiple-column Layout</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Responsive_Design">Responsive design</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Media_queries">Beginner&apos;s guide to media queries</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods">Legacy Layout Methods</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a></li>
            <li><a href="/zh-CN/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension">Fundamental Layout Comprehension</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state="open"><a href="/zh-CN/docs/Learn/JavaScript"><strong>JavaScript — 用户端动态脚本</strong></a></li>
  <li class="toggle">
      <details>
          <summary>JavaScript 第一步</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps">JavaScript 第一步概述</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/What_is_JavaScript">什么是 JavaScript？</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/A_first_splash">初次接触 JavaScript</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/What_went_wrong">出现了什么问题？JavaScript 疑难解答</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Variables">储存你所需的信息 — 变量</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Math">JavaScript 基础概念 — 数字与运算符</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Strings">处理文字 — JavaScript 中的字符串</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Useful_string_methods">有用的字符串方法</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Arrays">数组</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/First_steps/Silly_story_generator">作业：傻瓜故事产生器</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>JavaScript 基础要件</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks">JavaScript 基础要件概述</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/conditionals">在代码中决策 — 条件</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Looping_code">代码循环</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Functions">函数 - 可重复利用的代码块</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Build_your_own_function">建立自己的函数</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Return_values">函数回传值</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Events">事件介绍</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Building_blocks/Image_gallery">作业：图库</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>JavaScript 对象介绍</summary>
          <ol>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects">JavaScript 对象概述</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Basics">对象基础概念</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Object-oriented_JS">适合新手的面向对象 JavaScript</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes">对象原型</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Inheritance">JavaScript 中的继承</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/JSON">使用 JSON 资料</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Object_building_practice">对象构建实践</a></li>
            <li><a href="/zh-CN/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features">作业：为弹跳球展示新增功能</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Asynchronous JavaScript</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous">Asynchronous JavaScript overview</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Concepts">General asynchronous programming concepts</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Introducing">Introducing asynchronous JavaScript</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals">Cooperative asynchronous Java​Script: Timeouts and intervals</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises">Graceful asynchronous programming with Promises</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Async_await">Making asynchronous programming easier with async and await</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach">Choosing the right approach</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
        <summary>客户端网页 API</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs">客户端网页 API</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">网页 API 介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">操纵文档</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data">从服务器获取数据</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs">第三方 API</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics">画图</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs">视频与音频 API</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage">客户端存储</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/zh-CN/docs/Learn/Forms"><strong>Web forms — Working with user data</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Core forms learning pathway</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Forms">Web forms overview</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Your_first_form">Your first form</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/How_to_structure_a_web_form">How to structure a web form</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Basic_native_form_controls">Basic native form controls</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/HTML5_input_types">The HTML5 input types</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Other_form_controls">Other form controls</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Styling_web_forms">Styling web forms</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Advanced_form_styling">Advanced form styling</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/UI_pseudo-classes">UI pseudo-classes</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Form_validation">Client-side form validation</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Sending_and_retrieving_form_data">Sending form data</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Advanced forms articles</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Forms/How_to_build_custom_form_controls">How to build custom form controls</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Sending_forms_through_JavaScript">Sending forms through JavaScript</a></li>
          <li><a href="/zh-CN/docs/Learn/Forms/Property_compatibility_table_for_form_controls">CSS property compatibility table for form controls</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/zh-CN/docs/Learn/Accessibility"><strong>可访问性 — 使每个人都能使用 Web</strong></a></li>
  <li class="toggle">
    <details>
        <summary>可访问性指南</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Accessibility">可访问性概览</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/What_is_accessibility">什么是可访问性</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/HTML">HTML: 可访问性的好基础</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/CSS_and_JavaScript">CSS 和 JavaScript 可访问性最佳实践</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/WAI-ARIA_basics">WAI-ARIA 基础</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/Multimedia">可访问性多媒体</a></li>
          <li><a href="/zh-CN/docs/Learn/Accessibility/Mobile">移动端可访问性</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>可访问性测评</summary>
        <ol>
            <li><a href="/zh-CN/docs/Learn/Accessibility/Accessibility_troubleshooting">作业：可访问性疑难解答</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/zh-CN/docs/Learn/Tools_and_testing"><strong>工具与测试</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Client-side web development tools</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools">Client-side web development tools index</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview">Client-side tooling overview</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line">Command line crash course</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management">Package management basics</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain">Introducing a complete toolchain</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment">Deploying our app</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Introduction to client-side frameworks</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction">Client-side frameworks overview</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features">Framework main features</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>React</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started">Getting started with React</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning">Beginning our React todo list</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components">Componentizing our React app</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state">React interactivity: Events and state</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering">React interactivity: Editing, filtering, conditional rendering</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility">Accessibility in React</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources">React resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Ember</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started">Getting started with Ember</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization">Ember app structure and componentization</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state">Ember interactivity: Events, classes and state</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer">Ember Interactivity: Footer functionality, conditional rendering</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing">Routing in Ember</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources">Ember resources and troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Vue</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started">Getting started with Vue</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component">Creating our first Vue component</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists">Rendering a list of Vue components</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models">Adding a new todo form: Vue events, methods, and models</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling">Styling Vue components with CSS</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties">Using Vue computed properties</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  ">Vue conditional rendering: editing existing todos</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management">Focus management with Vue refs</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources">Vue resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Git and GitHub</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/GitHub">Git and GitHub overview</a></li>
          <li><a href="https://guides.github.com/activities/hello-world/">Hello World</a></li>
          <li><a href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a></li>
          <li><a href="https://guides.github.com/activities/forking/">Forking Projects</a></li>
          <li><a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">About pull requests</a></li>
          <li><a href="https://guides.github.com/features/issues/">Mastering Issues</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>跨浏览器测试</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing">跨浏览器测试概述</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction">跨浏览器测试介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies">执行测试策略</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS">处理常见的 HTML 与 CSS 问题</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript">处理常见的 JavaScript 问题</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility">处理常见的可访问性问题</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection">建置功能侦测</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing">自动测试介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment">设置您的自动测试环境</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="closed"><a href="/zh-CN/docs/Learn/Server-side"><strong>服务端网页编程</strong></a></li>
  <li class="toggle">
    <details>
        <summary>第一步</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Server-side/First_steps">第一步概述</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/First_steps/Introduction">服务端介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/First_steps/Client-Server_overview">用户端概述</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/First_steps/Web_frameworks">服务端网络框架</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/First_steps/Website_security">网站安全</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Django 网站框架 (Python)</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django">Django 网站框架 (Python) 概述</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Introduction">介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/development_environment">搭建开发环境</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Tutorial_local_library_website">在线教学：本地图书馆网站</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/skeleton_website">在线教学 2：建立网站框架</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Models">在线教学 3：使用模型</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Admin_site">在线教学 4：Django 管理网站</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Home_page">在线教学 5：建立我们的首页</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Generic_views">在线教学 6：通用列表与细节检查</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Sessions">在线教学 7：会话框架</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Authentication">在线教学 8：用户授权与许可</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Forms">在线教学 9：搭配表单</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Testing">在线教学 10：测试 Django 的 Web 应用</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/Deployment">在线教学 11：部署 Django 至产品</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/web_application_security">Web 应用安全性</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Django/django_assessment_blog">作业：DIY 博客</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Express 网页框架 (node.js/JavaScript)</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs">Express 网页框架 (Node.js/JavaScript) 概览</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/Introduction">Express/Node 介绍</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/development_environment">架设 Node (Express) 开发环境</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website">Express 教程： 本地图书馆网站</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/skeleton_website">Express 教程 2： 新建网站骨架</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/mongoose">Express 教程 3： 使用数据库 (Mongoose)</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/routes">Express 教程 4： 路由和控制器</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/Displaying_data">Express 教程 5： 呈现图书馆数据</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/forms">Express 教程 6： 使用表单</a></li>
          <li><a href="/zh-CN/docs/Learn/Server-side/Express_Nodejs/deployment">Express 教程 7： 部署至生产环境</a></li>
        </ol>
    </details>
  </li>
  <li><a href="#"><strong>更多资源</strong></a></li>
  <li class="toggle">
    <details>
        <summary>常见问题</summary>
        <ol>
          <li><a href="/zh-CN/docs/Learn/HTML/Howto">HTML 问题</a></li>
          <li><a href="/zh-CN/docs/Learn/CSS/Howto">CSS 问题</a></li>
          <li><a href="/zh-CN/docs/Learn/JavaScript/Howto">JavaScript questions</a></li>
          <li><a href="/zh-CN/docs/Learn/Common_questions#How_the_Web_works">Web 是如何运作的</a></li>
          <li><a href="/zh-CN/docs/Learn/Common_questions#Tools_and_setup">工具与安装</a></li>
          <li><a href="/zh-CN/docs/Learn/Common_questions#Design_and_accessibility">设计与可访问性</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="closed"><a href="/zh-CN/docs/Learn/How_to_contribute">如何贡献</a></li>
</ol>

</section></div>

<div><div class="prevnext">
  <a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics" class="button"><i class="icon-arrow-left"></i><span class="label"> 上一页 </span></a><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs" class="button"><i class="icon-arrow-up"></i> Overview: Client-side web APIs</a><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage" class="button"><span class="label"> 下一页  </span><i class="icon-arrow-right"></i></a>
</div></div>

<p class="summary">HTML5提供了用于在文档中嵌入富媒体的元素 — <a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入媒体播放器，用于支持文档内的视频播放。"><code>&lt;video&gt;</code></a>和<a href="/zh-CN/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; 元素用于在文档中嵌入音频内容。 &lt;audio&gt; 元素可以包含一个或多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述：浏览器将会选择最合适的一个来使用。也可以使用 MediaStream 将这个元素用于流式媒体。"><code>&lt;audio&gt;</code></a> — 这些元素通过自带的API来控制视频或音频的播放，定位进度等。本文将向你展示如何执行一些常见的任务，如创建自定义播放控件。</p>

<table class="learn-box standard-table">
 <tbody>
  <tr>
   <th scope="row">前提：</th>
   <td>JavaScript基础（见<a href="/zh-CN/docs/Learn/JavaScript/First_steps">JavaScript第一步</a>，<a href="/zh-CN/docs/learn/JavaScript/Building_blocks">创建JavaScript代码块</a>，<a href="/zh-CN/docs/Learn/JavaScript/Objects">JavaScript对象入门</a>），<a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">Web API简介</a></td>
  </tr>
  <tr>
   <th scope="row">目标：</th>
   <td>学习如何通过浏览器API来控制视频和音频的播放。</td>
  </tr>
 </tbody>
</table>

<h2 id="HTML5视频和音频">HTML5视频和音频</h2>

<p><a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入媒体播放器，用于支持文档内的视频播放。"><code>&lt;video&gt;</code></a>和<a href="/zh-CN/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; 元素用于在文档中嵌入音频内容。 &lt;audio&gt; 元素可以包含一个或多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述：浏览器将会选择最合适的一个来使用。也可以使用 MediaStream 将这个元素用于流式媒体。"><code>&lt;audio&gt;</code></a>元素允许我们把视频和音频嵌入到网页当中。就像我们在<a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">音频和视频内容</a>文中展示的一样，一个典型的实现如下所示：</p>

<pre class="brush: html notranslate">&lt;video controls&gt;
  &lt;source src=&quot;rabbit320.mp4&quot; type=&quot;video/mp4&quot;&gt;
  &lt;source src=&quot;rabbit320.webm&quot; type=&quot;video/webm&quot;&gt;
  &lt;p&gt;Your browser doesn&apos;t support HTML5 video. Here is a &lt;a href=&quot;rabbit320.mp4&quot;&gt;link to the video&lt;/a&gt; instead.&lt;/p&gt;
&lt;/video&gt;</pre>

<p>上述代码将会在浏览器内部创建一个如下图所示的视频播放器：</p>

<p><iframe class="live-sample-frame" frameborder="0" height="380" src="https://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/multiple-video-formats.html" width="100%"></iframe></p>

<p>你可以点击上面的文章链接来查看相关HTML元素的所有特性；但在这篇文章中，主要目的是学习我们最感兴趣的<code><a href="/zh-CN/docs/Web/HTML/Element/video#attr-controls">controls</a></code>属性，它会启用默认的播放设置。如果没有指定该属性，则播放器中不会显示相关控件：</p>

<p><iframe class="live-sample-frame" frameborder="0" height="380" src="https://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/multiple-video-formats-no-controls.html" width="100%"></iframe></p>

<p>至此，你可能会觉得这个属性作用不大，但是它确实很有优势。使用原生浏览器控件的一个很大的问题在于，它们在各个浏览器中都不相同 — 对于跨浏览器的支持并不是很好！另一个问题是，在大多数浏览器中原生控件难以通过键盘来操作。</p>

<p>你可以通过隐藏本地控件（通过删除controls属性），然后使用HTML，CSS和JavaScript编写自己的代码来解决这两个问题。 在下一节中，我们将看到如何通过一些可用的工具来实现。</p>

<h2 id="HTMLMediaElement_API">HTMLMediaElement API</h2>

<p>作为HTML5规范的一部分，<a href="/zh-CN/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a> API提供允许你以编程方式来控制视频和音频播放的功能—例如 <a href="/zh-CN/docs/Web/API/HTMLMediaElement/play"><code>HTMLMediaElement.play()</code></a>, <a href="/zh-CN/docs/Web/API/HTMLMediaElement/pause"><code>HTMLMediaElement.pause()</code></a>,等。该接口对<a href="/zh-CN/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; 元素用于在文档中嵌入音频内容。 &lt;audio&gt; 元素可以包含一个或多个音频资源， 这些音频资源可以使用 src 属性或者&lt;source&gt; 元素来进行描述：浏览器将会选择最合适的一个来使用。也可以使用 MediaStream 将这个元素用于流式媒体。"><code>&lt;audio&gt;</code></a>和<a href="/zh-CN/docs/Web/HTML/Element/video" title="HTML &lt;video&gt; 元素 用于在HTML或者XHTML文档中嵌入媒体播放器，用于支持文档内的视频播放。"><code>&lt;video&gt;</code></a>两个元素都是可用的，因为在这两个元素中要实现的功能几乎是相同的。让我们通过一个例子来一步步演示一些功能。</p>

<p>我们最终的示例（和功能）将会如下所示：</p>

<p><iframe class="live-sample-frame" frameborder="0" height="360" src="https://mdn.github.io/learning-area/javascript/apis/video-audio/finished/" width="100%"></iframe></p>

<h3 id="入门">入门</h3>

<p>想要使用这个示例的代码来入门，请下载<a href="https://github.com/mdn/learning-area/raw/master/javascript/apis/video-audio/start/media-player-start.zip">media-player-start.zip</a> 并解压到您的硬盘上的一个新建目录里。如果想要下载<a href>examples repo</a>，它位于<code>javascript/apis/video-audio/start/ </code>路径下。</p>

<p>下载并解压之后，如果您加载这个HTML，你将会看到一个通过浏览器原生播放控件渲染的非常一般的HTML5视频播放器。</p>

<h4 id="探索_HTML">探索 HTML</h4>

<p>打开HTML index文件。你将看到一些功能；HTML由视频播放器和它的控件所控制：</p>

<pre class="notranslate">&lt;div class=&quot;player&quot;&gt;
  &lt;video controls&gt;
    &lt;source src=&quot;video/sintel-short.mp4&quot; type=&quot;video/mp4&quot;&gt;
    &lt;source src=&quot;video/sintel-short.mp4&quot; type=&quot;video/webm&quot;&gt;
    &lt;!-- fallback content here --&gt;
  &lt;/video&gt;
  &lt;div class=&quot;controls&quot;&gt;
    &lt;button class=&quot;play&quot; data-icon=&quot;P&quot; aria-label=&quot;play pause toggle&quot;&gt;&lt;/button&gt;
    &lt;button class=&quot;stop&quot; data-icon=&quot;S&quot; aria-label=&quot;stop&quot;&gt;&lt;/button&gt;
    &lt;div class=&quot;timer&quot;&gt;
      &lt;div&gt;&lt;/div&gt;
      &lt;span aria-label=&quot;timer&quot;&gt;00:00&lt;/span&gt;
    &lt;/div&gt;
    &lt;button class=&quot;rwd&quot; data-icon=&quot;B&quot; aria-label=&quot;rewind&quot;&gt;&lt;/button&gt;
    &lt;button class=&quot;fwd&quot; data-icon=&quot;F&quot; aria-label=&quot;fast forward&quot;&gt;&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>

<ul>
 <li>整个播放器被包装在一个<a href="/zh-CN/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a>元素之中，所以如果有必要的话，可以把它作为一个单元整体来设置其样式。</li>
 <li><a href="/zh-CN/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a>元素层包含两个<a href="/zh-CN/docs/Web/HTML/Element/source"><code>&lt;source&gt;</code></a>元素，这样可以根据浏览器来加载其所支持的不同视频格式。</li>
 <li>控件 HTML 大概是最有趣的:
  <ul>
   <li>我们有四个 <a href="/zh-CN/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> — play/pause, stop, rewind, and fast forward.</li>
   <li>每个<code>&lt;button&gt;</code> 都有一个<code>class名</code> , 一个<code>data-icon</code> 属性来决定在每个按钮上显示什么图标 (在下一节讲述它是如何工作的), 和一个<code>aria-label</code> 属性为每一个按钮提供容易理解的描述, 即使我们没有在tags内提供可读的标签。当用户关注这些元素时含有<code>aria-label</code> 属性的内容也会被讲述人读出来。</li>
   <li>有一个设定的计时器 <a href="/zh-CN/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a>用来报告已经播放的时长。为了好玩,我们提供了两种报告机制 — 一个 <a href="/zh-CN/docs/Web/HTML/Element/span"><code>&lt;span&gt;</code></a> 包含了流逝时间的分钟和秒，和一个额外的<code>&lt;div&gt;</code> 用来创建一个水平的随着时间增加而增长的进度条。要想了解完成版本看上去是咋样的, <a href="https://mdn.github.io/learning-area/javascript/apis/video-audio/finished/">点击查看完成版本</a>.</li>
  </ul>
 </li>
</ul>

<h4 id="探索_CSS">探索 CSS</h4>

<p>现在打开CSS文件来查看里面的内容。例子中的CSS样式并不是很复杂, 我们突出了最主要的一部分。首先注意<code>.controls</code> 的样式:</p>

<pre class="brush: css notranslate">.controls {
  visibility: hidden;
  opacity: 0.5;
  width: 400px;
  border-radius: 10px;
  position: absolute;
  bottom: 20px;
  left: 50%;
  margin-left: -200px;
  background-color: black;
  box-shadow: 3px 3px 5px black;
  transition: 1s all;
  display: flex;
}

.player:hover .controls, player:focus .controls {
  opacity: 1;
}
</pre>

<ul>
 <li>我们从设置为<code>hidden</code>的自定义控件<a href="/zh-CN/docs/Web/CSS/visibility"><code>visibility</code></a>开始。稍后在我们的JavaScript中， 我们将控件设置为 <code>visible</code>, 并且从<code>&lt;video&gt;</code> 元素中移除<code>controls</code> 属性。这是因为, 如果JavaScript由于某种原因没有加载, 用户依然可以使用原生的控件播放视频。</li>
 <li>默认情况下，我们将控件的<code>opacity</code>设置为0.5 <a href="/zh-CN/docs/Web/CSS/opacity"><code>opacity</code></a>，这样当您尝试观看视频时，它们就不会分散注意力。 只有当您将鼠标悬停/聚焦在播放器上时，控件才会完全不透明。</li>
 <li>我们使用Flexbox(<a href="/zh-CN/docs/Web/CSS/display"><code>display</code></a>: flex)布置控制栏内的按钮，以简化操作。</li>
</ul>

<p>接下来，让我们看看我们的按钮图标:</p>

<pre class="brush: css notranslate">@font-face {
   font-family: &apos;HeydingsControlsRegular&apos;;
   src: url(&apos;fonts/heydings_controls-webfont.eot&apos;);
   src: url(&apos;fonts/heydings_controls-webfont.eot?#iefix&apos;) format(&apos;embedded-opentype&apos;),
        url(&apos;fonts/heydings_controls-webfont.woff&apos;) format(&apos;woff&apos;),
        url(&apos;fonts/heydings_controls-webfont.ttf&apos;) format(&apos;truetype&apos;);
   font-weight: normal;
   font-style: normal;
}

button:before {
  font-family: HeydingsControlsRegular;
  font-size: 20px;
  position: relative;
  content: attr(data-icon);
  color: #aaa;
  text-shadow: 1px 1px 0px black;
}</pre>

<p>首先在CSS的最上方我们使用 <a href="/zh-CN/docs/Web/CSS/@font-face" title="这是一个叫做@font-face 的CSS @规则 ，它允许网页开发者为其网页指定在线字体。 通过这种作者自备字体的方式，@font-face 可以消除对用户电脑字体的依赖。 @font-face 不仅可以放在在CSS的最顶层, 也可以放在 @规则 的 条件规则组 中。"><code>@font-face</code></a> 块来导入自定义Web字体。这是一种图标字体 —— 字母表中的所有字符都是各种常用图标，你可以尝试在程序中调用。</p>

<p>接下来，我们使用这些内容来显示每个按钮上的图标：</p>

<ul>
 <li>我们使用 <a href="/zh-CN/docs/Web/CSS/::before"><code>::before</code></a> 选择器在每个 <a href="/zh-CN/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> 元素之前显示内容。</li>
 <li>我们使用 <a href="/zh-CN/docs/Web/CSS/content"><code>content</code></a> 属性将各情况下要显示的内容设置为 <code><a href="/en-US/docs/Learn/HTML/Howto/Use_data_attributes">data-icon</a></code> 属性的内容。例如在播放按钮的情况下，<code><a href="/en-US/docs/Learn/HTML/Howto/Use_data_attributes">data-icon </a></code>包含大写的“P”。</li>
 <li>我们使用 <a href="/zh-CN/docs/Web/CSS/font-family"><code>font-family</code></a> 将自定义Web字体应用于我们的按钮上。在该字体中“P”对应的是“播放”图标，因此播放按钮上显示“播放”图标。</li>
</ul>

<p>图标字体非常酷有很多原因 —— 减少HTTP请求，因为您不需要将这些图标作为图像文件下载。同时具有出色的可扩展性，以及您可以使用文本属性来设置它们的样式 —— 例如 <a href="/zh-CN/docs/Web/CSS/color" title="CSS中的 颜色/color 属性可设置元素文本内容及其装饰 decorations（如文本下划线）的前景色。这不会对该元素的其余任何特性造成影响。实际上，若不考虑历史因素及其在CSS中的显示等级，它本应当被称作 text-color 。"><code>color</code></a> 和 <a href="/zh-CN/docs/Web/CSS/text-shadow" title="text-shadow为文字添加阴影。可以为文字与  text-decorations  添加多个阴影，阴影值之间用逗号隔开。每个阴影值由元素在X和Y方向的偏移量、模糊半径和颜色值组成。"><code>text-shadow</code></a>。</p>

<p>最后让我们来看看进度条的 CSS:</p>

<pre class="brush: css notranslate">.timer {
  line-height: 38px;
  font-size: 10px;
  font-family: monospace;
  text-shadow: 1px 1px 0px black;
  color: white;
  flex: 5;
  position: relative;
}

.timer div {
  position: absolute;
  background-color: rgba(255,255,255,0.2);
  left: 0;
  top: 0;
  width: 0;
  height: 38px;
  z-index: 2;
}

.timer span {
  position: absolute;
  z-index: 3;
  left: 19px;
}</pre>

<ul>
 <li>我们将外部 <code>.timer</code>  <code>&lt;div&gt;</code> 设为flex：5，这样它占据了控件栏的大部分宽度。 我们还设置 <a href="/zh-CN/docs/Web/CSS/position"><code>position</code></a><code>: relative</code>，这样我们就可以根据它的边界方便地定位元素，而不是<a href="/zh-CN/docs/Web/HTML/Element/body"><code>&lt;body&gt;</code></a> 元素的边界。</li>
 <li>内部<code> &lt;div&gt; </code> <code>position：absolute</code> 绝对定位于外部 <code>&lt;div&gt;</code> 的顶部。 它的初始宽度为0，因此根本无法看到它。随着视频的播放，JavaScript将动态的增加其宽度。</li>
 <li><code>&lt;span&gt;</code> 也绝对位于计时器/进度条 <code>timer</code> 栏的左侧附近。</li>
 <li>我们还对内部 <code>&lt;div&gt;</code> 和 <code>&lt;span&gt;</code> 定义适当数值的 <a href="/zh-CN/docs/Web/CSS/z-index"><code>z-index</code></a> ，以便进度条显示在最上层，内部<code> &lt;div&gt;</code> 显示在下层。 这样，我们确保我们可以看到所有信息 —— 一个box不会遮挡另一个。</li>
</ul>

<h3 id="实现_JavaScript">实现 JavaScript</h3>

<p>我们已经有了一个相当完整的 HTML 和CSS 接口；现在我们只需要调通所有按钮以使控件正常工作。</p>

<ol>
 <li>
  <p>在与 index.html 文件相同的目录下创建新的JavaScript文件。命名为 <code>custom-player.js</code>。</p>
 </li>
 <li>
  <p>在此文件的顶部，插入以下代码:</p>

  <pre class="brush: js notranslate">var media = document.querySelector(&apos;video&apos;);
var controls = document.querySelector(&apos;.controls&apos;);

var play = document.querySelector(&apos;.play&apos;);
var stop = document.querySelector(&apos;.stop&apos;);
var rwd = document.querySelector(&apos;.rwd&apos;);
var fwd = document.querySelector(&apos;.fwd&apos;);

var timerWrapper = document.querySelector(&apos;.timer&apos;);
var timer = document.querySelector(&apos;.timer span&apos;);
var timerBar = document.querySelector(&apos;.timer div&apos;);
</pre>

  <p>这里我们创建变量来保存对我们想要操作的所有对象的引用。有如下三组：</p>

  <ul>
   <li> <code>&lt;video&gt;</code> 元素，和控制栏。</li>
   <li>播放/暂停，停止，快退，和快进按钮。</li>
   <li>进度条外面的 <code>&lt;div&gt;</code>，数字计时器的 <code>&lt;span&gt;</code>，以及内部的 <code>&lt;div&gt;</code> 会随着视频播放逐渐变宽。</li>
  </ul>
 </li>
 <li>
  <p>接下来，在代码的底部插入以下内容：</p>

  <pre class="brush: js notranslate">media.removeAttribute(&apos;controls&apos;);
controls.style.visibility = &apos;visible&apos;;</pre>

  <p>这两行从视频中删除默认浏览器控件，并使自定义控件可见。</p>
 </li>
</ol>

<h4 id="播放和暂停视频">播放和暂停视频</h4>

<p>让我们实现或许是最重要的控制——播放/暂停按钮。</p>

<ol>
 <li>
  <p>首先，将以下内容添加到您代码的底部，以便于在单击播放按钮时调用 <code>playPauseMedia()</code>函数：</p>

  <pre class="brush: js notranslate">play.addEventListener(&apos;click&apos;, playPauseMedia);
</pre>
 </li>
 <li>
  <p>现在定义 <code>playPauseMedia()</code> 函数——再次添加以下内容到您代码底部：</p>

  <pre class="brush: js notranslate">function playPauseMedia() {
  if(media.paused) {
    play.setAttribute(&apos;data-icon&apos;,&apos;u&apos;);
    media.play();
  } else {
    play.setAttribute(&apos;data-icon&apos;,&apos;P&apos;);
    media.pause();
  }
}</pre>

  <p><span class="tlid-translation translation" lang="zh-CN"><span title>我们使用if语句来检查</span></span>视频<span class="tlid-translation translation" lang="zh-CN"><span title>是否暂停。如果</span></span>视频<span class="tlid-translation translation" lang="zh-CN"><span title>已暂停，</span></span><a href="/zh-CN/docs/Web/API/HTMLMediaElement/paused"><code>HTMLMediaElement.paused</code></a> 属性将返回 true，任何视频没有播放的时间，包括第一次加载时处于0的时间段都是视频暂停状态。如果已暂停，我们把play按钮的 <code>data-icon</code> 属性值设置成&quot;u&quot;, 用以表示 &quot;暂停&quot; 按钮图标，并且调用<a href="/zh-CN/docs/Web/API/HTMLMediaElement/play"><code>HTMLMediaElement.play()</code></a> 函数播放视频。</p>

  <p>点击第二次，按钮将会切换回去——&quot;播放&quot;按钮图标将会再次显示，并且视频将会被<a href="/zh-CN/docs/Web/API/HTMLMediaElement/paused"><code>HTMLMediaElement.paused()</code></a> 函数暂停。</p>
 </li>
</ol>

<h4 id="暂停视频">暂停视频</h4>

<ol>
 <li>
  <p>接下来，让我们添加处理视频停止的方法。添加以下的 <code><a href="/en-US/docs/Web/API/EventTarget/addEventListener">addEventListener() </a></code>行在你之前添加的内容的下面：</p>

  <pre class="brush: js notranslate">stop.addEventListener(&apos;click&apos;, stopMedia);
media.addEventListener(&apos;ended&apos;, stopMedia);
</pre>

  <p><code><a href="/zh-CN/docs/Web/Reference/Events/click" title="/zh-CN/docs/Web/Reference/Events/click">click</a></code> 事件很明显——我们想要在点击停止按钮的时候停止视频通过运行我们的 <code>stopMedia()</code> 函数。然而我们也希望停止视频当视频播放完成时——由<code><a href="/zh-CN/docs/Web/Reference/Events/ended" title="/zh-CN/docs/Web/Reference/Events/ended">ended</a></code> 事件标记，所以我们也会设置一个监听器在此事件触发时运行函数。</p>
 </li>
 <li>
  <p>接下来，让我们定义 <code>stopMedia()</code>—— 在 <code>playPauseMedia() 后面</code>添加以下函数：</p>

  <pre class="notranslate">function stopMedia() {
  media.pause();
  media.currentTime = 0;
  play.setAttribute(&apos;data-icon&apos;,&apos;P&apos;);
}
</pre>

  <p>在 HTMLMediaElement API 中没有 <code>stop()</code> 方法——等效的办法是先用 <code>pause()</code> 暂停视频，然后设置<a href="/zh-CN/docs/Web/API/HTMLMediaElement/currentTime"><code>currentTime</code></a> 属性为0。设置 <code>currentTime</code> 的值（单位：秒）将会立刻使视频跳到该位置。</p>

  <p>之后要做的事是把显示的图标设置成“播放”图标。无论视频使暂停还是正在播放，您都希望它随后可以播放。</p>
 </li>
</ol>

<h4 id="探索快进和快退">探索快进和快退</h4>

<p>有许多方法可以实现快退和快进功能;在这里，我们向您展示了一种相对复杂的方式，当按意外顺序按下不同的按钮时，它不会中断。</p>

<ol>
 <li>
  <p>首先，在前面的代码之下添加以下两个<code><a href="/en-US/docs/Web/API/EventTarget/addEventListener">addEventListener()</a></code>：</p>

  <pre class="brush: js notranslate">rwd.addEventListener(&apos;click&apos;, mediaBackward);
fwd.addEventListener(&apos;click&apos;, mediaForward);
</pre>
 </li>
 <li>
  <p>现在转到事件处理函数 - 在以前的函数下面添加以下代码来定义<code>mediaBackward（）</code>和<code>mediaForward（）</code>：</p>

  <pre class="brush: js notranslate">var intervalFwd;
var intervalRwd;

function mediaBackward() {
  clearInterval(intervalFwd);
  fwd.classList.remove(&apos;active&apos;);

  if(rwd.classList.contains(&apos;active&apos;)) {
    rwd.classList.remove(&apos;active&apos;);
    clearInterval(intervalRwd);
    media.play();
  } else {
    rwd.classList.add(&apos;active&apos;);
    media.pause();
    intervalRwd = setInterval(windBackward, 200);
  }
}

function mediaForward() {
  clearInterval(intervalRwd);
  rwd.classList.remove(&apos;active&apos;);

  if(fwd.classList.contains(&apos;active&apos;)) {
    fwd.classList.remove(&apos;active&apos;);
    clearInterval(intervalFwd);
    media.play();
  } else {
    fwd.classList.add(&apos;active&apos;);
    media.pause();
    intervalFwd = setInterval(windForward, 200);
  }
}
</pre>

  <p>您会注意到，首先我们初始化两个变量 -  intervalFwd和intervalRwd  - 您将在后面发现它们的用途。</p>

  <p>让我们逐步浏览<code>mediaBackward()</code>（<code>mediaForward()</code>的功能性完全相同，但效果相反）：</p>

  <ol>
   <li>我们清除在快进功能上设置的所有classes和intervals ––这样做是因为如果我们在按下<code>fwd</code>（快进）按钮后再按下<code>rwd</code>（快退）按钮，就可以取消任何快进的功能并将其替换为快退功能。如果我们试图同时做到这两点，播放器就会暂停。</li>
   <li>使用<code>if</code>语句检查是否已在<code>rwd</code>按钮上设置了用来指示它已被按下的<code>active</code>类。<a href="/zh-CN/docs/Web/API/ClassList"><code>classList</code></a>是一个非常方便的属性，存在于每个元素上 ––它包含元素上设置的所有类的列表，以及添加/删除类的方法等。使用<code>classList.contains（）</code>方法检查列表是否包含<code>active</code>类。这将返回布尔值<code>true/false</code>结果。</li>
   <li>如果在<code>rwd</code>按钮上设置了<code>active</code>，我们使用<code>classList.remove（）</code>删除它，清除第一次按下按钮时设置的间隔（参见下面的更多解释），并使用<a href="/zh-CN/docs/Web/API/HTMLMediaElement/play"><code>HTMLMediaElement.play()</code></a>取消快退并开始正常播放视频。</li>
   <li>如果尚未设置，使用<code>classList.add（）</code>将<code>active</code>类添加到<code>rwd</code>按钮，使用<a href="/zh-CN/docs/Web/API/HTMLMediaElement/pause"><code>HTMLMediaElement.pause()</code></a>暂停视频，然后设置<code>intervalRwd</code>变量为<a href="/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/setInterval"><code>setInterval()</code></a>的调用。调用时，<code>setInterval（）</code>会创建一个活动间隔，这意味着它每隔x毫秒运行一个作为第一个参数给出的函数，其中x是第二个参数的值。 所以这里我们每200毫秒运行一次<code>windBackward（）</code>函数 ––我们将使用此函数不断向后滚动（快退动作）视频。要停止<a href="/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/setInterval"><code>setInterval()</code></a>运行，你必须调用<a href="/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval"><code>clearInterval()</code></a>，给它识别要清除的间隔的名称，在本例中是变量名称intervalRwd（请参阅函数中较早的clearInterval（）调用）。</li>
  </ol>
 </li>
 <li>
  <p>最后，对于本节，定义在setInterval（）调用中需要调用的windBackward（）和windForward（）函数。在以上两个函数下面添加以下内容：</p>

  <pre class="brush: js notranslate">function windBackward() {
  if(media.currentTime &lt;= 3) {
    rwd.classList.remove(&apos;active&apos;);
    clearInterval(intervalRwd);
    stopMedia();
  } else {
    media.currentTime -= 3;
  }
}

function windForward() {
  if(media.currentTime &gt;= media.duration - 3) {
    fwd.classList.remove(&apos;active&apos;);
    clearInterval(intervalFwd);
    stopMedia();
  } else {
    media.currentTime += 3;
  }
}</pre>

  <p>同样，我们将完成这些功能中的第一个，因为它们几乎完全相同，但彼此相反。在<code>windBackward（）</code>中，我们执行以下操作 ––请记住，当间隔处于活动状态时，此函数每200毫秒运行一次。</p>

  <ol>
   <li>我们从一个<code>if</code>语句开始，该语句检查当前时间是否小于3秒，即，如果再倒退三秒将使其超过视频的开始。这会导致奇怪的行为，所以如果是这种情况，我们通过调用<code>stopMedia（）</code>来停止视频播放，从倒带按钮中删除<code>active</code>类，并清除<code>intervalRwd</code>间隔以停止快退功能。如果我们没有做到最后一步，视频将永远保持快退。</li>
   <li>如果当前时间不在视频开始的3秒内，我们只需通过执行<code>media.currentTime-=3</code>从当前时间中删除三秒。因此，实际上，我们将视频快退3秒，每200毫秒一次。</li>
  </ol>
 </li>
</ol>

<h4 id="更新已用时间">更新已用时间</h4>

<p>我们要实施的媒体播放器的最后一块是显示的时间。为此，我们将运行一个函数，以便每次在&lt;video&gt;元素上触发 <code><a href="/zh-CN/docs/Web/Reference/Events/timeupdate" title="/zh-CN/docs/Web/Reference/Events/timeupdate">timeupdate</a></code>事件时更新时间显示。此事件触发的频率取决于您的浏览器，CPU电源等（<a href="http://stackoverflow.com/questions/9678177/how-often-does-the-timeupdate-event-fire-for-an-html5-video">see this stackoverflow post</a>）。</p>

<p>在代码下方添加<code>addEventListener（）</code>行：</p>

<pre class="brush: js notranslate">media.addEventListener(&apos;timeupdate&apos;, setTime);</pre>

<p>现在定义<code>setTime（）</code>函数。在文件底部添加以下内容：</p>

<pre class="brush: js notranslate">function setTime() {
  var minutes = Math.floor(media.currentTime / 60);
  var seconds = Math.floor(media.currentTime - minutes * 60);
  var minuteValue;
  var secondValue;

  if (minutes &lt; 10) {
    minuteValue = &apos;0&apos; + minutes;
  } else {
    minuteValue = minutes;
  }

  if (seconds &lt; 10) {
    secondValue = &apos;0&apos; + seconds;
  } else {
    secondValue = seconds;
  }

  var mediaTime = minuteValue + &apos;:&apos; + secondValue;
  timer.textContent = mediaTime;

  var barLength = timerWrapper.clientWidth * (media.currentTime/media.duration);
  timerBar.style.width = barLength + &apos;px&apos;;
}
</pre>

<p>这是一个相当长的函数，所以让我们一步一步地完成它：</p>

<ol>
 <li>首先，我们计算<a href="/zh-CN/docs/Web/API/HTMLMediaElement/currentTime"><code>HTMLMediaElement.currentTime</code></a> 值中的分钟数和秒数。</li>
 <li>然后我们初始化另外两个变量 ––<code>minuteValue</code>和<code>secondValue</code>。</li>
 <li>两个<code>if</code>语句计算出分钟数和秒数是否小于10.如果是这样，它们会在类似数值时钟显示工作的方式上为值添加前置的零。</li>
 <li>要显示的实际时间值设置为<code>minuteValue</code>加上冒号字符加<code>secondValue</code>。</li>
 <li>计时器的<a href="/zh-CN/docs/Web/API/Node/textContent"><code>Node.textContent</code></a>值设置为时间值，因此它显示在UI中。</li>
 <li>我们应该设置内部<code>&lt;div&gt;</code>的长度是通过首先计算外部<code>&lt;div&gt;</code>的宽度来计算出来的（任何元素的<a href="/zh-CN/docs/Web/API/HTMLElement/clientWidth"><code>clientWidth</code></a> 属性将包含它的长度），然后乘以<a href="/zh-CN/docs/Web/API/HTMLMediaElement/currentTime"><code>HTMLMediaElement.currentTime</code></a>除以媒体的总<a href="/zh-CN/docs/Web/API/HTMLMediaElement/duration"><code>HTMLMediaElement.duration</code></a>。</li>
 <li>我们将内部<code>&lt;div&gt;</code>的宽度设置为等于计算的条形长度加上“px”，因此它将设置为该像素数</li>
</ol>

<h4 id="修复播放和暂停">修复播放和暂停</h4>

<p>还有一个问题需要修复。如果在快退或快进功能激活时按下播放/暂停或停止按钮，它们就不起作用。我们如何修复它以便取消<code>rwd / fwd</code>按钮功能并按照您的预期播放/停止视频？这很容易解决。</p>

<p>首先，在<code>stopMedia（）</code>函数中添加以下行 ––任何地方都可以：</p>

<pre class="brush: js notranslate">rwd.classList.remove(&apos;active&apos;);
fwd.classList.remove(&apos;active&apos;);
clearInterval(intervalRwd);
clearInterval(intervalFwd);
</pre>

<p>现在再次添加相同的行（上面的四行）到<code>playPauseMedia（）</code>函数的最开头（就在<code>if</code>语句的开始之前）。</p>

<p>此时，您可以删除<code>windBackward（）</code>和<code>windForward（）</code>函数中的等效行，因为该函数已在<code>stopMedia（）</code>函数中实现。</p>

<div class="note notecard">
<p><strong>注意</strong>：您还可以通过创建运行这些行的单独函数来进一步提高代码的效率，然后在需要的任何地方调用它，而不是在代码中多次重复这些行。但是我们会把这些留给你自己。</p>
</div>

<h2 id="小结">小结</h2>

<p><span class="tlid-translation translation" lang="zh-CN"><span title>我想我们已经在这篇文章中教过你足够多了。使用</span></span><a href="/zh-CN/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a> <span class="tlid-translation translation" lang="zh-CN"><span title>API可以为创建简单的视频和音频播放器提供丰富的可用功能，然而这只是冰山一角。</span> <span title>有关更复杂和有趣功能的链接，请参阅下面的“另请参阅”部分。</span></span></p>

<p><span class="tlid-translation translation" lang="zh-CN"><span title>以下是一些有关如何增强我们构建的现有示例的建议：</span></span></p>

<ol>
 <li><span class="tlid-translation translation" lang="zh-CN"><span title>如果视频是一小时或更长时间（嗯，它不会显示小时;只有几分钟和几秒），当前显示时间会中断。</span> <span title>你能弄清楚如何更改示例以使其显示小时数吗？</span></span></li>
 <li>
  <p><span class="tlid-translation translation" lang="zh-CN"><span title>由于 <code>&lt;audio&gt; </code>元素具有相同的<a href="/zh-CN/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a>功能，因此您可以轻松地将此播放器用于<code> &lt;audio&gt; </code>元素。</span> <span title>试着这样做。</span></span></p>
 </li>
 <li>
  <p><span class="tlid-translation translation" lang="zh-CN"><span title>你能找到一种方法将计时器内部的<code> &lt;div&gt; </code>元素转换为真正的搜索条/ 滑动条- 也就是说，当你点击条形图上的某个位置时，它会跳转到视频播放中的相对位置吗？</span></span> <span class="tlid-translation translation" lang="zh-CN"><span title>作为提示，您可以通过</span></span><code><a href="/ch-ZN/docs/Web/API/Element/getBoundingClientRect">getBoundingClientRect()</a></code> <span class="tlid-translation translation" lang="zh-CN"><span title>方法找出元素左/右和上/下侧的X和Y值</span></span> ， 而且你可以通过 <a href="/zh-CN/docs/Web/API/Document"><code>Document</code></a> 对象调用的click事件的事件对象找到鼠标单击的坐标。举个栗子：</p>

  <pre class="brush: js notranslate">document.onclick = function(e) {
  console.log(e.x) + &apos;,&apos; + console.log(e.y)
}</pre>
 </li>
</ol>

<h2 id="另请参阅">另请参阅</h2>

<ul>
 <li><a href="/zh-CN/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a></li>
 <li><a href="/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">视频和音频内容</a>— &lt;video&gt;和&lt;audio&gt;的简单指南.</li>
 <li><a href="/en-US/docs/Web/Apps/Fundamentals/Audio_and_video_delivery">Audio and video delivery</a> — detailed guide to delivering media inside the browser, with many tips, tricks, and links to further more advanced tutorials.</li>
 <li><a href="/en-US/docs/Web/Apps/Fundamentals/Audio_and_video_manipulation">Audio 与 video 操作</a> — 操作audio 和 video 的详细指南，例如：使用 <a href="/en-US/docs/Web/API/Canvas_API">Canvas API</a>, <a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>， 等等。</li>
 <li><a href="/zh-CN/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> and <a href="/zh-CN/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a> reference pages.</li>
 <li>
  <p><a href="/en-US/docs/Web/HTML/Supported_media_formats">Media formats supported by the HTML audio and video elements</a>.</p>
 </li>
</ul>

<div class="prevnext">
  <a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics" class="button"><i class="icon-arrow-left"></i><span class="label"> 上一页 </span></a><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs" class="button"><i class="icon-arrow-up"></i> Overview: Client-side web APIs</a><a href="/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage" class="button"><span class="label"> 下一页  </span><i class="icon-arrow-right"></i></a>
</div>

<h2 id="本章目录">本章目录</h2>

<ul>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">Introduction to web APIs</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">Manipulating documents</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data">Fetching data from the server</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs">Third party APIs</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics">Drawing graphics</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs">Video and audio APIs</a></li>
 <li><a href="/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage">Client-side storage</a></li>
</ul>
