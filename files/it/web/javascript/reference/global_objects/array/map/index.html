---
title: Array.prototype.map()
slug: Web/JavaScript/Reference/Global_Objects/Array/map
tags:
  - Array
  - ECMAScript 5
  - JavaScript
  - Prototype
  - Referenza
  - metodo
  - polyfill
translation_of: Web/JavaScript/Reference/Global_Objects/Array/map
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/it/docs/Web/JavaScript/Reference/Global_Objects">Standard built-in objects</a></strong></li><li><strong><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Proprietà</strong></a><ol><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/length"><code>Array.length</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@unscopables"><code>Array.prototype[@@unscopables]</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@unscopables$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li data-default-state="open"><a href="#"><strong>Metodi</strong></a><ol><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray"><code>Array.isArray()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/of"><code>Array.of()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/concat"><code>Array.prototype.concat()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin"><code>Array.prototype.copyWithin()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/entries"><code>Array.prototype.entries()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/every"><code>Array.prototype.every()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/fill"><code>Array.prototype.fill()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array.prototype.filter()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/find"><code>Array.prototype.find()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex"><code>Array.prototype.findIndex()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/flat"><code>Array.prototype.flat()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap"><code>Array.prototype.flatMap()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>Array.prototype.forEach()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/includes"><code>Array.prototype.includes()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf"><code>Array.prototype.indexOf()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><code>Array.prototype.join()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/keys"><code>Array.prototype.keys()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf"><code>Array.prototype.lastIndexOf()</code></a></li><li><em><code>Array.prototype.map()</code></em></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/pop"><code>Array.prototype.pop()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/push"><code>Array.prototype.push()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce"><code>Array.prototype.reduce()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight"><code>Array.prototype.reduceRight()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse"><code>Array.prototype.reverse()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/shift"><code>Array.prototype.shift()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/shift$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/slice"><code>Array.prototype.slice()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/some"><code>Array.prototype.some()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/sort"><code>Array.prototype.sort()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"><code>Array.prototype.splice()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString"><code>Array.prototype.toLocaleString()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/toSource"><code>Array.prototype.toSource()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/toSource$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/toString"><code>Array.prototype.toString()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift"><code>Array.prototype.unshift()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/values"><code>Array.prototype.values()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator"><code>Array.prototype[@@iterator]()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@iterator$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@species"><code>get Array[@@species]</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/@@species$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><strong>Inheritance:</strong></li><li><strong><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Proprietà</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/caller$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/name$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><a href="#"><strong>Metodi</strong></a><ol><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource$translate" style="opacity: 0.5;">[Translate]</a></s></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/toString$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><strong><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Proprietà</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/proto$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><a href="#"><strong>Metodi</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource$translate" style="opacity: 0.5;">[Translate]</a></s></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a> <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li></ol></section></div>

<p>Il metodo <code><strong>map()</strong></code> crea un nuovo array con i risultati della chiamata di una funzione fornita su ogni elemento dell&apos;array chiamante.</p>

<div><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/array-map.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></div>

<p class="hidden">The source for this interactive example is stored in a GitHub repository. If you&apos;d like to contribute to the interactive examples project, please clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> and send us a pull request.&quot; </p>

<h2 id="Sintassi">Sintassi</h2>

<pre class="syntaxbox notranslate"><var>var new_array = arr</var>.map(function <var>callback(currentValue[, index[, array]]) {
    </var>// Ritorna un elemento per new_array<var>
}</var>[, <var>thisArg</var>])</pre>

<h3 id="Parametri">Parametri</h3>

<dl>
 <dt><code>callback</code></dt>
 <dd>Funzione che produce un elemento del nuovo array, prendendo tre argomenti:
 <dl>
  <dt> </dt>
  <dt><code>currentValue</code></dt>
  <dd>L&apos;elemento corrente in elaborazione nell&apos;array.</dd>
  <dt><code>index</code><span class="optional optionalInline notecard inline">Optional</span></dt>
  <dd>L&apos;indice dell&apos;elemento corrente in elaborazione nell&apos;array.</dd>
  <dt><code>array</code><span class="optional optionalInline notecard inline">Optional</span></dt>
  <dd>L&apos;array a cui viene applicato <code>map</code>.</dd>
 </dl>
 </dd>
 <dt><code>thisArg</code><span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Valore da utilizzare come <code>this</code> quando viene eseguito <code>callback</code>.</dd>
</dl>

<h3 id="Valore_di_ritorno">Valore di ritorno</h3>

<p>Un nuovo array con ciascun elemento che è il risultato della funzione di callback.</p>

<h2 id="Descrizione">Descrizione</h2>

<p><code>map</code> chiama il <code>callback</code> fornito <strong>una volta per ciascun elemento</strong> in un array, in ordine, e costruisce un nuovo array dai risultati. <code>callback</code> viene invocato solo per gli indici dell&apos;array che hanno valori assegnati, incluso <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a>. Non viene chiamato per gli elementi mancanti dell&apos;array (ovvero, gli indici che non sono mai stati impostati, che sono stati cancellati o a cui non è mai stato assegnato un valore).</p>

<p>Poichè <code>map</code> costruisce un nuovo array, usarlo quando non si utilizza l&apos;array restituito è un anti-pattern; usa <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>forEach</code></a> o <code><a href="/en-US/docs/Web/JavaScript/Reference/Statements/for...of">for-of</a></code> invece. Segni che non dovresti usare map: A) Non stai usando l&apos;array restituito, e/o B) Non stai restituendo un valore dal callback.</p>

<p><code>callback</code> viene invocato con tre argomenti: il valore dell&apos;elemento, l&apos;indice dell&apos;elemento e l&apos;oggetto Array che viene iterato.</p>

<p>Se viene fornito il parametro <code>thisArg</code> a <code>map</code>, verrà utilizzato come valore <code>this</code> del callback. Altrimenti, il valore <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> sarà usato come valore <code>this</code>. Il valore <code>this</code> alla fine osservabile da <code>callback</code> è determinato secondo <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">le consuete regole per determinare il <code>this</code> visto da una funzione</a>.</p>

<p><code>map</code> non muta l&apos;array su cui è chiamato (sebbene <code>callback</code>, se invocato, possa farlo).</p>

<p>L&apos;intervallo di elementi elaborati da <code>map</code> viene impostato prima della prima chiamata del <code>callback</code>. Gli elementi aggiunti all&apos;array dopo che la chiamata a <code>map</code> inizia non saranno calcolati da <code>callback</code>. Se i valori degli elementi esistenti dell&apos;array vengono modificati, il valore passato a <code>callback</code> sarà il valore al momento in cui <code>map</code> li visita. Gli elementi che vengono cancellati dopo che la chiamata a <code>map</code> inizia e prima di essere visitati non vengono visitati.</p>

<p>A causa dell&apos;algoritmo definito nella specifica, se l&apos;array su cui è stata chiamato <code>map</code> è sparso, l&apos;array risultante sarà sparso, mantenendo vuoti gli stessi indici.</p>

<h2 id="Esempi">Esempi</h2>

<h3 id="Mappare_una_serie_di_numeri_ad_un_array_di_radici_quadrate">Mappare una serie di numeri ad un array di radici quadrate</h3>

<p>Il seguente codice accetta un array di numeri e crea un nuovo array contenente le radici quadrate dei numeri nel primo array.</p>

<pre class="brush: js notranslate">var numbers = [1, 4, 9];
var roots = numbers.map(function(num) {
return Math.sqrt(num)
});
// roots è ora [1, 2, 3]
// numbers è ancora [1, 4, 9]
</pre>

<h3 id="Usare_map_per_riformattare_gli_oggetti_in_un_array">Usare <code>map</code> per riformattare gli oggetti in un array</h3>

<p>Il seguente codice accetta un array di oggetti e crea un nuovo array contenente gli oggetti appena riformattati.</p>

<pre class="brush: js notranslate">var kvArray = [{key: 1, value: 10},
               {key: 2, value: 20},
               {key: 3, value: 30}];

var reformattedArray = kvArray.map(obj =&gt;{
   var rObj = {};
   rObj[obj.key] = obj.value;
   return rObj;
});
// reformattedArray è ora [{1: 10}, {2: 20}, {3: 30}],

// kvArray è ancora:
// [{key: 1, value: 10},
//  {key: 2, value: 20},
//  {key: 3, value: 30}]
</pre>

<h3 id="Mappare_un_array_di_numeri_usando_una_funzione_che_contiene_un_argomento">Mappare un array di numeri usando una funzione che contiene un argomento</h3>

<p>Il codice seguente mostra come funziona <code>map</code> quando viene utilizzata una funzione che richiede un argomento. L&apos;argomento verrà assegnato automaticamente da ciascun elemento dell&apos;array mentre <code>map</code> itera l&apos;array originale.</p>

<pre class="brush: js notranslate">var numbers = [1, 4, 9];
var doubles = numbers.map(function(num) {
  return num * 2;
});

// doubles is now [2, 8, 18]
// numbers is still [1, 4, 9]
</pre>

<h3 id="Usare_map_genericamente">Usare <code>map</code> genericamente</h3>

<p>Questo esempio mostra come usare map su una <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> per ottenere un array di byte nella codifica ASCII che rappresenta i valori dei caratteri:</p>

<pre class="brush: js notranslate">var a = Array.prototype.map.call(&apos;Hello World&apos;, function(x) {
  return x.charCodeAt(0);
});
// a ora equivale a [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]
</pre>

<h3 id="Usare_map_con_querySelectorAll">Usare <code>map</code> con <code>querySelectorAll</code></h3>

<p>Questo esempio mostra come iterare attraverso una raccolta di oggetti raccolti da <code>querySelectorAll</code>. Questo perchè <code>querySelectorAll</code> restituisce una <em><strong>NodeList</strong></em> che è una raccolta di oggetti.<br>
 In questo caso restituiamo sullo schermo tutti i valori delle opzioni selezionate:</p>

<pre class="brush: js notranslate">var elems = document.querySelectorAll(&apos;select option:checked&apos;);
var values = Array.prototype.map.call(elems, function(obj) {
  return obj.value;
});
</pre>

<p>Il modo più semplice sarebbe utilizzare il metodo <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a>.</p>

<h3 id="Caso_duso_ingannevole">Caso d&apos;uso ingannevole</h3>

<p><a href="http://www.wirfs-brock.com/allen/posts/166">(inspired by this blog post)</a></p>

<p>È normale utilizzare il callback con un argomento (l&apos;elemento che viene attraversato). Alcune funzioni sono anche comunemente utilizzate con un argomento, anche se accettano argomenti opzionali aggiuntivi. Queste abitudini possono portare a comportamenti confusi.</p>

<pre class="brush: js notranslate" dir="rtl">// Consider:
[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(parseInt);
// Mentre ci si potrebbe aspettare [1, 2, 3]
// Il risultato effettivo è [1, NaN, NaN]

// parseInt è spesso usato con un argomento, ma ne prende due.
// Il primo è un&apos;espressione e il secondo è la radice.
// Alla funzione di callback, Array.prototype.map passa 3 argomenti:
// l&apos;elemento, l&apos;indice e l&apos;array
// Il terzo argomento è ignorato da parseInt, ma non il secondo,
// da qui l&apos;eventuale confusione. Vedi il post del blog per maggiori dettagli
// Se il link non funziona
// ecco un esempio conciso dei passaggi di iterazione:
// parseInt(string, radix) -&gt; map(parseInt(value, index))
// first iteration (index is 0): parseInt(&apos;1&apos;, 0) // results in parseInt(&apos;1&apos;, 0) -&gt; 1
// second iteration (index is 1): parseInt(&apos;2&apos;, 1) // results in parseInt(&apos;2&apos;, 1) -&gt; NaN
// third iteration (index is 2): parseInt(&apos;3&apos;, 2) // results in parseInt(&apos;3&apos;, 2) -&gt; NaN

function returnInt(element) {
  return parseInt(element, 10);
}

[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(returnInt); // [1, 2, 3]
// Il risultato effettivo è un array di numeri (come previsto)

// Come sopra, ma usando la sintassi della funzione a freccia concisa
[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map( str =&gt; parseInt(str) );

// Un modo più semplice per ottenere quanto sopra, evitando il &quot;gotcha&quot;:
[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;].map(Number); // [1, 2, 3]
// ma a differenza di `parseInt` restituirà anche una notazione esponenziale mobile o (risolta):
[&apos;1.1&apos;, &apos;2.2e2&apos;, &apos;3e300&apos;].map(Number); // [1.1, 220, 3e+300]
</pre>

<p>Un output alternativo del metodo map che viene chiamato con parseInt come parametro viene eseguito come segue:</p>

<pre class="brush: js notranslate">var xs = [&apos;10&apos;, &apos;10&apos;, &apos;10&apos;];

xs = xs.map(parseInt);

console.log(xs);
// Il risultato effettivo di 10,NaN,2 potrebbe essere inaspettato in base alla descrizione precedente.</pre>

<h2 id="Polyfill">Polyfill</h2>

<p><code>map</code> è stato aggiunto allo standard ECMA-262 nella 5a edizione; in quanto tale potrebbe non essere presente in tutte le implementazioni dello standard. Puoi aggirare questo problema inserendo il seguente codice all&apos;inizio degli script, consentendo l&apos;uso di <code>map</code> in implementazioni che non lo supportano in modo nativo. Questo algoritmo è esattamente quello specificato in ECMA-262, 5a edizione, assumendo <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a>, <a href="/it/docs/Web/JavaScript/Reference/TypeError"><code>TypeError</code></a>, e <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> hanno i loro valori originali e che <code>callback.call</code> restituisce il valore originale di <code><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call</code></a></code>.</p>

<pre class="brush: js notranslate">// Production steps of ECMA-262, Edition 5, 15.4.4.19
// Reference: http://es5.github.io/#x15.4.4.19
if (!Array.prototype.map) {

  Array.prototype.map = function(callback/*, thisArg*/) {

    var T, A, k;

    if (this == null) {
      throw new TypeError(&apos;this is null or not defined&apos;);
    }

    // 1. Let O be the result of calling ToObject passing the |this|
    //    value as the argument.
    var O = Object(this);

    // 2. Let lenValue be the result of calling the Get internal
    //    method of O with the argument &quot;length&quot;.
    // 3. Let len be ToUint32(lenValue).
    var len = O.length &gt;&gt;&gt; 0;

    // 4. If IsCallable(callback) is false, throw a TypeError exception.
    // See: http://es5.github.com/#x9.11
    if (typeof callback !== &apos;function&apos;) {
      throw new TypeError(callback + &apos; is not a function&apos;);
    }

    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.
    if (arguments.length &gt; 1) {
      T = arguments[1];
    }

    // 6. Let A be a new array created as if by the expression new Array(len)
    //    where Array is the standard built-in constructor with that name and
    //    len is the value of len.
    A = new Array(len);

    // 7. Let k be 0
    k = 0;

    // 8. Repeat, while k &lt; len
    while (k &lt; len) {

      var kValue, mappedValue;

      // a. Let Pk be ToString(k).
      //   This is implicit for LHS operands of the in operator
      // b. Let kPresent be the result of calling the HasProperty internal
      //    method of O with argument Pk.
      //   This step can be combined with c
      // c. If kPresent is true, then
      if (k in O) {

        // i. Let kValue be the result of calling the Get internal
        //    method of O with argument Pk.
        kValue = O[k];

        // ii. Let mappedValue be the result of calling the Call internal
        //     method of callback with T as the this value and argument
        //     list containing kValue, k, and O.
        mappedValue = callback.call(T, kValue, k, O);

        // iii. Call the DefineOwnProperty internal method of A with arguments
        // Pk, Property Descriptor
        // { Value: mappedValue,
        //   Writable: true,
        //   Enumerable: true,
        //   Configurable: true },
        // and false.

        // In browsers that support Object.defineProperty, use the following:
        // Object.defineProperty(A, k, {
        //   value: mappedValue,
        //   writable: true,
        //   enumerable: true,
        //   configurable: true
        // });

        // For best browser support, use the following:
        A[k] = mappedValue;
      }
      // d. Increase k by 1.
      k++;
    }

    // 9. return A
    return A;
  };
}
</pre>

<h2 id="Specifiche">Specifiche</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specifica</th>
   <th scope="col">Stato</th>
   <th scope="col">Commento</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.19" hreflang="en" lang="en">ECMAScript 5.1 (ECMA-262)<br><small lang="it">The definition of &apos;Array.prototype.map&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td>Definizione iniziale Implementato in JavaScript 1.6.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.map" hreflang="en" lang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="it">The definition of &apos;Array.prototype.map&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-array.prototype.map" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="it">The definition of &apos;Array.prototype.map&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilità_con_i_browser">Compatibilità con i browser</h2>

<div>
<div class="hidden">The compatibility table in this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:javascript.builtins.Array.map"></div>
</div>

<h2 id="Vedi_anche">Vedi anche</h2>

<ul>
 <li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>Array.prototype.forEach()</code></a></li>
 <li>L&apos;oggetto <a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a></li>
 <li><a href="/it/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a></li>
</ul>
