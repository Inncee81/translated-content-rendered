---
title: XMLHttpRequest
slug: Web/API/XMLHttpRequest
translation_of: Web/API/XMLHttpRequest
---
<div>{{APIRef(&quot;XMLHttpRequest&quot;) } }</div>

<p><span class="seoSummary"><font>ใช้วัตถุ (XHR) เพื่อโต้ตอบกับเซิร์ฟเวอร์ คุณสามารถดึงข้อมูลจาก URL โดยไม่ต้องทำการฟื้นฟูเต็มหน้า เว็บเพจการปรับปรุงเพียงบางส่วนของหน้าโดยไม่กระทบกับสิ่งที่ผู้ใช้จะทำได้</font><code>XMLHttpRequest</code></span> <code>XMLHttpRequest</code><font> ใช้มากใน {{Glossary(&quot;AJAX&quot;) } } เขียนโปรแกรม</font></p>

<p>{{InheritanceDiagram (650, 150) } }</p>

<p><font>แม้จะชื่อ สามารถใช้ในการดึงข้อมูลทุกประเภทของข้อมูล XML ไม่เพียง</font><code>XMLHttpRequest</code></p>

<p>ถ้าจำเป็นต้องเกี่ยวข้องกับการได้รับข้อมูลเหตุการณ์หรือข้อความจากเซิร์ฟเวอร์สื่อสารของคุณ ลองใช้<a href="/en-US/docs/Web/API/Server-sent_events">กิจกรรมเซิร์ฟเวอร์ส่ง</a>ผ่านอินเทอร์เฟซ {{domxref(&quot;EventSource&quot;) } } สำหรับเพล็กซ์การสื่อสาร<a href="/en-US/docs/Web/API/WebSockets_API">WebSockets</a>อาจเป็นทางเลือกที่ดี</p>

<h2 id="Constructor">Constructor</h2>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest.XMLHttpRequest&quot;, &quot;XMLHttpRequest()&quot;)}}</dt>
 <dd>The constructor initializes an XMLHttpRequest. It must be called before any other method calls.</dd>
</dl>

<h2 id="Properties">Properties</h2>

<p><em>This interface also inherits properties of {{domxref(&quot;XMLHttpRequestEventTarget&quot;)}} and of {{domxref(&quot;EventTarget&quot;)}}.</em></p>

<dl>
 <dt id="xmlhttprequest-onreadystatechange">{{domxref(&quot;XMLHttpRequest.onreadystatechange&quot;)}}</dt>
 <dd><font>An {{domxref(&quot;EventHandler&quot;)}} that is called whenever the attribute changes.</font><code>readyState</code></dd>
 <dt id="xmlhttprequest-readystate">{{domxref(&quot;XMLHttpRequest.readyState&quot;)}} {{readonlyinline}}</dt>
 <dd><font>Returns an , the state of the request.</font><code>unsigned short</code></dd>
 <dt>{{domxref(&quot;XMLHttpRequest.response&quot;)}} {{readonlyinline}}</dt>
 <dd>Returns an {{jsxref(&quot;ArrayBuffer&quot;)}}, {{domxref(&quot;Blob&quot;)}}, {{domxref(&quot;Document&quot;)}}, JavaScript object, or a {{domxref(&quot;DOMString&quot;)}}, depending on the value of {{domxref(&quot;XMLHttpRequest.responseType&quot;)}}, that contains the response entity body.</dd>
 <dt id="xmlhttprequest-responsetext">{{domxref(&quot;XMLHttpRequest.responseText&quot;)}} {{readonlyinline}}</dt>
 <dd><font>Returns a {{domxref(&quot;DOMString&quot;)}} that contains the response to the request as text, or if the request was unsuccessful or has not yet been sent.</font><code>null</code></dd>
 <dt id="xmlhttprequest-responsetype">{{domxref(&quot;XMLHttpRequest.responseType&quot;)}}</dt>
 <dd>Is an enumerated value that defines the response type.</dd>
 <dt id="xmlhttprequest-responsexml">{{domxref(&quot;XMLHttpRequest.responseURL&quot;)}} {{readonlyinline}}</dt>
 <dd>Returns the serialized URL of the response or the empty string if the URL is null.</dd>
 <dt id="xmlhttprequest-responsexml">{{domxref(&quot;XMLHttpRequest.responseXML&quot;)}} {{readonlyinline}}</dt>
 <dd><font>Returns a {{domxref(&quot;Document&quot;)}} containing the response to the request, or if the request was unsuccessful, has not yet been sent, or cannot be parsed as XML or HTML. Not available in workers.</font><code>null</code></dd>
 <dt id="xmlhttprequest-status">{{domxref(&quot;XMLHttpRequest.status&quot;)}} {{readonlyinline}}</dt>
 <dd><font>Returns an with the status of the response of the request.</font><code>unsigned short</code></dd>
 <dt id="xmlhttprequest-statustext">{{domxref(&quot;XMLHttpRequest.statusText&quot;)}} {{readonlyinline}}</dt>
 <dd><font>Returns a {{domxref(&quot;DOMString&quot;)}} containing the response string returned by the HTTP server. Unlike {{domxref(&quot;XMLHttpRequest.status&quot;)}}, this includes the entire text of the response message (&quot;&quot;, for example).</font><code>200 OK</code></dd>
</dl>

<div class="note notecard">
<p><strong>Note:</strong> According to the HTTP/2 specification (<a href="https://http2.github.io/http2-spec/#rfc.section.8.1.2.4">8.1.2.4</a> <a href="https://http2.github.io/http2-spec/#HttpResponse">Response Pseudo-Header Fields</a>), HTTP/2 does not define a way to carry the version or reason phrase that is included in an HTTP/1.1 status line.</p>
</div>

<dl>
 <dt id="xmlhttprequest-timeout">{{domxref(&quot;XMLHttpRequest.timeout&quot;)}}</dt>
 <dd><font>Is an representing the number of milliseconds a request can take before automatically being terminated.</font><code>unsigned long</code></dd>
 <dt id="xmlhttprequesteventtarget-ontimeout">{{domxref(&quot;XMLHttpRequestEventTarget.ontimeout&quot;)}}</dt>
 <dd>Is an {{domxref(&quot;EventHandler&quot;)}} that is called whenever the request times out. {{gecko_minversion_inline(&quot;12.0&quot;)}}</dd>
 <dt id="xmlhttprequest-upload">{{domxref(&quot;XMLHttpRequest.upload&quot;)}} {{readonlyinline}}</dt>
 <dd>Is an {{domxref(&quot;XMLHttpRequestUpload&quot;)}}, representing the upload process.</dd>
 <dt id="xmlhttprequest-withcredentials">{{domxref(&quot;XMLHttpRequest.withCredentials&quot;)}}</dt>
 <dd><font>Is a {{domxref(&quot;Boolean&quot;)}} that indicates whether or not cross-site requests should be made using credentials such as cookies or authorization headers.</font><code>Access-Control</code></dd>
</dl>

<h3 id="Non-standard_properties">Non-standard properties</h3>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest.channel&quot;)}}{{ReadOnlyInline}}</dt>
 <dd>Is a {{Interface(&quot;nsIChannel&quot;)}}. The channel used by the object when performing the request.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.mozAnon&quot;)}}{{ReadOnlyInline}}</dt>
 <dd>Is a boolean. If true, the request will be sent without cookie and authentication headers.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.mozSystem&quot;)}}{{ReadOnlyInline}}</dt>
 <dd>Is a boolean. If true, the same origin policy will not be enforced on the request.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.mozBackgroundRequest&quot;)}}</dt>
 <dd>Is a boolean. It indicates whether or not the object represents a background service request.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.mozResponseArrayBuffer&quot;)}}{{gecko_minversion_inline(&quot;2.0&quot;)}} {{obsolete_inline(&quot;6&quot;)}} {{ReadOnlyInline}}</dt>
 <dd>{{jsxref(&quot;ArrayBuffer&quot;)}}. The response to the request, as a JavaScript typed array.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.multipart&quot;)}}{{obsolete_inline(&quot;22&quot;)}}</dt>
 <dd><font><strong>This Gecko-only feature, a boolean, was removed in Firefox/Gecko 22.</strong> Please use <a href="/en-US/docs/Web/API/Server-sent_events">Server-Sent Events</a>, <a href="/en-US/docs/Web/API/WebSockets_API">Web Sockets</a>, or from progress events instead.</font><code>responseText</code></dd>
</dl>

<h3 id="Event_handlers">Event handlers</h3>

<p><code>onreadystatechange</code><font> as a property of the instance is supported in all browsers.</font><code>XMLHttpRequest</code></p>

<p><font>Since then, a number of additional event handlers have been implemented in various browsers (, , , etc.). See <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">Using XMLHttpRequest</a>.</font><code>onload</code><code>onerror</code><code>onprogress</code></p>

<p><font>More recent browsers, including Firefox, also support listening to the events via standard {{domxref(&quot;EventTarget.addEventListener&quot;, &quot;addEventListener()&quot;)}} APIs in addition to setting properties to a handler function.</font><code>XMLHttpRequest</code><code>on*</code></p>

<h2 id="Methods">Methods</h2>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest.abort()&quot;)}}</dt>
 <dd>Aborts the request if it has already been sent.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.getAllResponseHeaders()&quot;)}}</dt>
 <dd><font>Returns all the response headers, separated by {{Glossary(&quot;CRLF&quot;)}}, as a string, or if no response has been received.</font><code>null</code></dd>
 <dt>{{domxref(&quot;XMLHttpRequest.getResponseHeader()&quot;)}}</dt>
 <dd><font>Returns the string containing the text of the specified header, or if either the response has not yet been received or the header doesn&apos;t exist in the response.</font><code>null</code></dd>
 <dt>{{domxref(&quot;XMLHttpRequest.open()&quot;)}}</dt>
 <dd>Initializes a request. This method is to be used from JavaScript code; to initialize a request from native code, use <a class="internal" href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXMLHttpRequest#openRequest()"><code>openRequest()</code></a> instead.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.overrideMimeType()&quot;)}}</dt>
 <dd>Overrides the MIME type returned by the server.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.send()&quot;)}}</dt>
 <dd>Sends the request. If the request is asynchronous (which is the default), this method returns as soon as the request is sent.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest.setRequestHeader()&quot;)}}</dt>
 <dd><font>Sets the value of an HTTP request header. You must call after <a href="#open"><code>open()</code></a>, but before .</font><code>setRequestHeader()</code><code>send()</code></dd>
</dl>

<h3 id="Non-standard_methods">Non-standard methods</h3>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest.init()&quot;)}}</dt>
 <dd>Initializes the object for use from C++ code.</dd>
</dl>

<div class="warning notecard"><strong>Warning:</strong> This method must <em>not</em> be called from JavaScript.</div>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest.openRequest()&quot;)}}</dt>
 <dd><font>Initializes a request. This method is to be used from native code; to initialize a request from JavaScript code, use <a class="internal" href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXMLHttpRequest#open()"><code>open()</code></a> instead. See the documentation for .</font><code>open()</code></dd>
 <dt>{{domxref(&quot;XMLHttpRequest.sendAsBinary()&quot;)}}{{deprecated_inline()}}</dt>
 <dd><font>A variant of the method that sends binary data.</font><code>send()</code></dd>
</dl>

<h2 id="Events">Events</h2>

<dl>
 <dt>{{domxref(&quot;XMLHttpRequest/abort_event&quot;, &quot;abort&quot;)}}</dt>
 <dd>Fired when a request has been aborted, for example because the program called {{domxref(&quot;XMLHttpRequest.abort()&quot;)}}.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onabort&quot;, &quot;onabort&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/error_event&quot;, &quot;error&quot;)}}</dt>
 <dd>Fired when the request encountered an error.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onerror&quot;, &quot;onerror&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/load_event&quot;, &quot;load&quot;)}}</dt>
 <dd>Fired when an {{domxref(&quot;XMLHttpRequest&quot;)}} transaction completes successfully.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onload&quot;, &quot;onload&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/loadend_event&quot;, &quot;loadend&quot;)}}</dt>
 <dd>Fired when a request has completed, whether successfully (after {{domxref(&quot;XMLHttpRequest/load_event&quot;, &quot;load&quot;)}}) or unsuccessfully (after {{domxref(&quot;XMLHttpRequest/abort_event&quot;, &quot;abort&quot;)}} or {{domxref(&quot;XMLHttpRequest/error_event&quot;, &quot;error&quot;)}}).<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onloadend&quot;, &quot;onloadend&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/loadstart_event&quot;, &quot;loadstart&quot;)}}</dt>
 <dd>Fired when a request has started to load data.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onloadstart&quot;, &quot;onloadstart&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/progress_event&quot;, &quot;progress&quot;)}}</dt>
 <dd>Fired periodically when a request receives more data.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/onprogress&quot;, &quot;onprogress&quot;)}} property.</dd>
 <dt>{{domxref(&quot;XMLHttpRequest/timeout_event&quot;, &quot;timeout&quot;)}}</dt>
 <dd>Fired when progress is terminated due to preset time expiring.<br>
 Also available via the {{domxref(&quot;XMLHttpRequestEventTarget/ontimeout&quot;, &quot;ontimeout&quot;)}} property.</dd>
</dl>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>{{SpecName(&apos;XMLHttpRequest&apos;)}}</td>
   <td>{{Spec2(&apos;XMLHttpRequest&apos;)}}</td>
   <td>Live standard, latest version</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div class="hidden">The compatibility table in this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div>{{Compat(&quot;api.XMLHttpRequest&quot;)}}</div>

<h2 id="See_also">See also</h2>

<ul>
 <li>{{domxref(&quot;XMLSerializer&quot;)}}: Serializing a DOM tree into XML</li>
 <li><font>MDN tutorials covering :</font><code>XMLHttpRequest</code>
  <ul>
   <li><a href="/en-US/docs/AJAX/Getting_Started">Ajax — Getting Started</a></li>
   <li><a href="/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">Using XMLHttpRequest</a></li>
   <li><a href="/en-US/docs/Web/API/XMLHttpRequest/HTML_in_XMLHttpRequest">HTML in XMLHttpRequest</a></li>
  </ul>
 </li>
 <li><a class="external" href="http://www.html5rocks.com/en/tutorials/file/xhr2/">HTML5 Rocks — New Tricks in XMLHttpRequest2</a></li>
</ul>
