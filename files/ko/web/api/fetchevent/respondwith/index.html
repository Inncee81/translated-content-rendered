---
title: FetchEvent.respondWith()
slug: Web/API/FetchEvent/respondWith
translation_of: Web/API/FetchEvent/respondWith
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ko/docs/Web/API/Service_Worker_API">Service Worker API</a></strong></li><li><strong><a href="/ko/docs/Web/API/FetchEvent"><code>FetchEvent</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/ko/docs/Web/API/FetchEvent/FetchEvent"><code>FetchEvent()</code></a> <a href="/ko/docs/Web/API/FetchEvent/FetchEvent$translate" style="opacity: 0.5;">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Properties</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/client"><code>client</code></a> <a href="/ko/docs/Web/API/FetchEvent/client$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/clientId"><code>clientId</code></a> <a href="/ko/docs/Web/API/FetchEvent/clientId$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/isReload"><code>isReload</code></a> <a href="/ko/docs/Web/API/FetchEvent/isReload$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/ko/docs/Web/API/FetchEvent/navigationPreload"><code>navigationPreload</code></a> <a href="/ko/docs/Web/API/FetchEvent/navigationPreload$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/PreloadRequest"><code>PreloadRequest</code></a> <a href="/ko/docs/Web/API/FetchEvent/PreloadRequest$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/PreloadResponse"><code>preloadResponse</code></a> <a href="/ko/docs/Web/API/FetchEvent/PreloadResponse$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/ko/docs/Web/API/FetchEvent/replacesClientId"><code>replacesClientId</code></a> <a href="/ko/docs/Web/API/FetchEvent/replacesClientId$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/ko/docs/Web/API/FetchEvent/request"><code>request</code></a> <a href="/ko/docs/Web/API/FetchEvent/request$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/ko/docs/Web/API/FetchEvent/resultingClientId"><code>resultingClientId</code></a> <a href="/ko/docs/Web/API/FetchEvent/resultingClientId$translate" style="opacity: 0.5;">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Methods</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><em><code>respondWith()</code></em></li></ol></details></li><li class="toggle"><details open><summary>Inheritance:</summary><ol><li><a href="/ko/docs/Web/API/Event"><code>Event</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for Service Workers API</summary><ol><li><a href="/ko/docs/Web/API/Cache"><code>Cache</code></a></li><li><a href="/ko/docs/Web/API/CacheStorage"><code>CacheStorage</code></a></li><li><a href="/ko/docs/Web/API/Client"><code>Client</code></a></li><li><a href="/ko/docs/Web/API/Clients"><code>Clients</code></a></li><li><a href="/ko/docs/Web/API/ExtendableEvent"><code>ExtendableEvent</code></a></li><li><a href="/ko/docs/Web/API/InstallEvent"><code>InstallEvent</code></a></li><li><a href="/ko/docs/Web/API/Navigator/serviceWorker"><code>Navigator.serviceWorker</code></a></li><li><a href="/ko/docs/Web/API/NotificationEvent"><code>NotificationEvent</code></a></li><li><a href="/ko/docs/Web/API/PeriodicSyncEvent"><code>PeriodicSyncEvent</code></a></li><li><a href="/ko/docs/Web/API/PeriodicSyncManager"><code>PeriodicSyncManager</code></a></li><li><a href="/ko/docs/Web/API/PeriodicSyncRegistration"><code>PeriodicSyncRegistration</code></a></li><li><a href="/ko/docs/Web/API/ServiceWorker"><code>ServiceWorker</code></a></li><li><a href="/ko/docs/Web/API/ServiceWorkerContainer"><code>ServiceWorkerContainer</code></a></li><li><a href="/ko/docs/Web/API/ServiceWorkerGlobalScope"><code>ServiceWorkerGlobalScope</code></a></li><li><a href="/ko/docs/Web/API/ServiceWorkerRegistration"><code>ServiceWorkerRegistration</code></a></li><li><a href="/ko/docs/Web/API/SyncEvent"><code>SyncEvent</code></a></li><li><a href="/ko/docs/Web/API/SyncManager"><code>SyncManager</code></a></li><li><a href="/ko/docs/Web/API/SyncRegistration"><code>SyncRegistration</code></a></li><li><a href="/ko/docs/Web/API/WindowClient"><code>WindowClient</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><strong>This is an <a href="/en-US/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">experimental technology</a></strong><br>Check the <a href="#Browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p>
</div>

<p><span class="seoSummary"><a href="/ko/docs/Web/API/FetchEvent"><code>FetchEvent</code></a>의 <strong><code>respondWith()</code></strong> 메소드는 브라우저의 기본 fetch 핸들링을 막고, 당신 스스로 <a href="/ko/docs/Web/API/Response"><code>Response</code></a>에 대한 promise를 제공할 수 있게 허락합니다.</span></p>

<p>대부분의 상황에서 당신은 수신자가 이해하는 어떠한 응답이라도 제공할 수 있습니다. 예를 들어, <a href="/ko/docs/Web/HTML/Element/img" title="HTML &lt;img&gt; 요소는 문서에 이미지를 넣습니다."><code>&lt;img&gt;</code></a> 엘리먼트가 해당 요청을 시작했다면, 응답 객체는 이미지 데이터를 필요로 합니다. 보안적인 이유들로, 여기엔 몇가지 전역 규칙이 존재합니다.</p>

<ul>
 <li>You can only return <a href="/ko/docs/Web/API/Response"><code>Response</code></a> objects of <a href="/ko/docs/Web/API/Response/type"><code>type</code></a> &quot;<code>opaque</code>&quot; if the <a href="/ko/docs/Web/API/FetchEvent/request"><code>fetchEvent.request</code></a> object&apos;s <a href="/ko/docs/Web/API/Request/mode"><code>mode</code></a> is &quot;<code>no-cors</code>&quot;.  This prevents the leaking of private data.</li>
 <li>You can only return <a href="/ko/docs/Web/API/Response"><code>Response</code></a> objects of <a href="/ko/docs/Web/API/Response/type"><code>type</code></a> &quot;<code>opaqueredirect</code>&quot; if the <a href="/ko/docs/Web/API/FetchEvent/request"><code>fetchEvent.request</code></a> object&apos;s <a href="/ko/docs/Web/API/Request/mode"><code>mode</code></a> is &quot;<code>manual</code>&quot;.</li>
 <li>You cannot return <a href="/ko/docs/Web/API/Response"><code>Response</code></a> objects of <a href="/ko/docs/Web/API/Response/type"><code>type</code></a> &quot;<code>cors</code>&quot; if the <a href="/ko/docs/Web/API/FetchEvent/request"><code>fetchEvent.request</code></a> object&apos;s <a href="/ko/docs/Web/API/Request/mode"><code>mode</code></a> is &quot;<code>same-origin</code>&quot;.</li>
</ul>

<h3 id="Specifying_the_final_URL_of_a_resource">Specifying the final URL of a resource</h3>

<p>From Firefox 59 onwards, when a service worker provides a <a href="/ko/docs/Web/API/Response"><code>Response</code></a> to <a href="/ko/docs/Web/API/FetchEvent/respondWith"><code>FetchEvent.respondWith()</code></a>, the <a href="/ko/docs/Web/API/Response/url"><code>Response.url</code></a> value will be propagated to the intercepted network request as the final resolved URL.  If the <a href="/ko/docs/Web/API/Response/url"><code>Response.url</code></a> value is the empty string, then the <a href="/ko/docs/Web/API/Request/url"><code>FetchEvent.request.url</code></a> is used as the final URL.</p>

<p>In the past the <a href="/ko/docs/Web/API/Request/url"><code>FetchEvent.request.url</code></a> was used as the final URL in all cases.  The provided <a href="/ko/docs/Web/API/Response/url"><code>Response.url</code></a> was effectively ignored.</p>

<p>This means, for example, if a service worker intercepts a stylesheet or worker script, then the provided <a href="/ko/docs/Web/API/Response/url"><code>Response.url</code></a> will be used to resolve any relative <a href="/ko/docs/Web/CSS/@import" title="@import CSS @규칙은 다른 스타일 시트에서 스타일 규칙을 가져올 때 쓰입니다."><code>@import</code></a> or <a href="/ko/docs/Web/API/WorkerGlobalScope/importScripts"><code>importScripts()</code></a> subresource loads (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1222008">bug 1222008</a>).</p>

<p>For most types of network request this change has no impact because you can&apos;t observe the final URL.  There are a few, though, where it does matter:</p>

<ul>
 <li>If a <a href="/ko/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>fetch()</code></a> is intercepted, then you can observe the final URL on the result&apos;s <a href="/ko/docs/Web/API/Response/url"><code>Response.url</code></a>.</li>
 <li>If a <a href="/en-US/docs/Web/API/Web_Workers_API">worker</a> script is intercepted, then the final URL is used to set <code><a href="/en-US/docs/Web/API/WorkerGlobalScope/location">self.location</a></code> and used as the base URL for relative URLs in the worker script.</li>
 <li>If a stylesheet is intercepted, then the final URL is used as the base URL for resolving relative <a href="/ko/docs/Web/CSS/@import"><code>@import</code></a> loads.</li>
</ul>

<p>Note that navigation requests for <a href="/ko/docs/Web/API/Window"><code>Windows</code></a> and <a href="/ko/docs/Web/API/HTMLIFrameElement"><code>iframes</code></a> do NOT use the final URL.  The way the HTML specification handles redirects for navigations ends up using the request URL for the resulting <a href="/ko/docs/Web/API/Window/location"><code>Window.location</code></a>.  This means sites can still provide an &quot;alternate&quot; view of a web page when offline without changing the user-visible URL.</p>

<h2 id="Syntax">Syntax</h2>

<pre class="syntaxbox notranslate">fetchEvent.respondWith(
  // Promise that resolves to a Response.
​)</pre>

<h3 id="Parameters">Parameters</h3>

<p>A <a href="/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> for a <a href="/ko/docs/Web/API/Response"><code>Response</code></a>.</p>

<h3 id="Return_value">Return value</h3>

<p>Void.</p>

<h3 id="Exceptions">Exceptions</h3>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Exception</th>
   <th scope="col">Notes</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>NetworkError</code></td>
   <td>A network error is triggered on certain combinations of <a href="/ko/docs/Web/API/Request/mode"><code>FetchEvent.request.mode</code></a> and <a href="/ko/docs/Web/API/Response/type"><code>Response.type</code></a>  values, as hinted at in the &quot;global rules&quot; listed above.</td>
  </tr>
 </tbody>
</table>

<h2 id="Examples">Examples</h2>

<p>This fetch event tries to return a response from the cache API, falling back to the network otherwise.</p>

<pre class="brush: js notranslate">addEventListener(&apos;fetch&apos;, event =&gt; {
  // Prevent the default, and handle the request ourselves.
  event.respondWith(async function() {
    // Try to get the response from a cache.
    const cachedResponse = await caches.match(event.request);
    // Return it if we found one.
    if (cachedResponse) return cachedResponse;
    // If we didn&apos;t find a match in the cache, use the network.
    return fetch(event.request);
  }());
});</pre>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/ServiceWorker/#fetch-event-respondwith-method" hreflang="en" lang="en">Service Workers<br><small lang="ko">The definition of &apos;respondWith()&apos; in that specification.</small></a></td>
   <td><span class="spec-WD">Working Draft</span></td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div>
<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.FetchEvent.respondWith"></div>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker_API/Using_Service_Workers">Using Service Workers</a></li>
 <li><a class="external external-icon" href="https://jakearchibald.github.io/isserviceworkerready/">Is ServiceWorker ready?</a></li>
 <li><a href="/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></li>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a></li>
</ul>
