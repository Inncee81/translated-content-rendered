---
title: Firefox 64 для разработчиков
slug: Mozilla/Firefox/Releases/64
translation_of: Mozilla/Firefox/Releases/64
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Замечания к релизам Firefox для разработчиков</summary>
            <ol>
              <li><a href="/ru/docs/Mozilla/Firefox/Releases">Замечания к релизам Firefox для разработчиков</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Дополнения</summary>
            <ol>
              <li><a href="/ru/Add-ons/WebExtensions">Расширения браузера</a></li>
              <li><a href="/ru/Add-ons/Themes">Темы</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Firefox internals</summary>
            <ol>
              <li><a href="/ru/docs/Mozilla/">Проект Mozilla</a></li>
              <li><a href="/ru/docs/Mozilla/Gecko">Gecko</a></li>
              <li><a href="/ru/docs/Mozilla/Firefox/Headless_mode">Headless mode</a></li>
              <li><a href="/ru/docs/Mozilla/JavaScript_code_modules">Модули в JavaScript</a></li>
              <li><a href="/ru/docs/Mozilla/js-ctypes">JS-ctypes</a></li>
              <li><a href="/ru/docs/Mozilla/MathML_Project">Проект MathML</a></li>
              <li><a href="/ru/docs/Mozilla/MFBT">MFBT</a></li>
              <li><a href="/ru/docs/Mozilla/Projects">Проекты Mozilla</a></li>
              <li><a href="/ru/docs/Mozilla/Preferences">Система настроек</a></li>
              <li><a href="/ru/docs/Mozilla/WebIDL_bindings">WebIDL bindings</a></li>
              <li><a href="/ru/docs/Mozilla/Tech/XPCOM">XPCOM</a></li>
              <li><a href="/ru/docs/Mozilla/Tech/XUL">XUL</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Собрать Firefox из исходного кода и внести вклад в проект</summary>
            <ol>
              <li><a href="/ru/docs/Mozilla/Developer_guide/Build_Instructions">Инструкции по сборке Firefox</a></li>
              <li><a href="/ru/docs/Mozilla/Developer_guide/Build_Instructions/Configuring_Build_Options">Настройка правил сборки</a></li>
              <li><a href="/ru/docs/Mozilla/Developer_guide/Build_Instructions/How_Mozilla_s_build_system_works">Как устроен механизм сборки</a></li>
              <li><a href="/ru/docs/Mozilla/Developer_guide/Source_Code/Mercurial">Исходный код Mozilla</a></li>
              <li><a href="/ru/docs/Mozilla/Localization">Локализация</a></li>
              <li><a href="/ru/docs/Mozilla/Mercurial">Меркуриал</a></li>
              <li><a href="/ru/docs/Mozilla/QA">Контроль качества</a></li>
              <li><a href="/ru/docs/Mozilla/Using_Mozilla_code_in_other_projects">Использование кода Mozilla в других проектах</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section></div>

<p class="summary">В этой статье перечислены ключевые изменения, которые касаются разработчиков. Firefox 64 был выпущен 11 декабря 2018 года.</p>

<h2 id="Изменения_для_веб-разработчиков">Изменения для веб-разработчиков</h2>

<h3 id="Инструменты_разработчика">Инструменты разработчика</h3>

<ul>
 <li><a href="/ru/docs/Tools/Accessibility_inspector#Выделение_элементов_интерфейса">Информационная панель в инструменте поддержки доступности</a> теперь показывает сведения о соотношении контрастности цветов текста или изображений на странице (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1473037">баг 1473037</a>).</li>
 <li>Выбор устройства в <a href="/ru/docs/Tools/Responsive_Design_Mode">режиме адаптивного дизайна</a> запоминается и сохраняется между сеансами (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1248619">баг 1248619</a>).</li>
 <li><a href="/ru/docs/Tools/Network_Monitor">Сетевой монитор</a> теперь выделяет ресурсы, на которые потенциально может повлиять <a href="/ru/docs/Mozilla/Firefox/Privacy/Tracking_Protection">защита от отслеживания</a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1333994">баг 1333994</a>).</li>
 <li><a href="/ru/docs/Tools/Web_Console">Веб-консоль</a> получила усовершенствования, связанные с вводом и оценкой кода:
  <ul>
   <li>Регистронезависимое <a href="/en-US/docs/Tools/Web_Console/The_command_line_interpreter#Autocomplete">автодополнение</a> выражений (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=672733">баг 672733</a>).</li>
   <li>Возможность просмотреть <a href="/en-US/docs/Tools/Web_Console/The_command_line_interpreter#Command_history">историю выражений консоли</a> с помощью bash-подобного обратного поиска (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1024913">баг 1024913</a>).</li>
   <li>Подсветка <a href="/ru/docs/Tools/Web_Console/The_command_line_interpreter">оцененного кода</a> и при вводе, и при выводе (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1463669">баг 1463669</a>).</li>
  </ul>
 </li>
 <li>Пошаговое выполнение кода в <a href="/ru/docs/Tools/Debugger">отладчике JavaScript </a>также было улучшено:
  <ul>
   <li>Отладчик сохраняет <a href="/en-US/docs/Tools/Debugger/UI_Tour#Scopes">развёрнутые переменные</a> при пошаговом выполнении кода (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1491471">баг 1491471</a>).</li>
   <li><a href="/ru/docs/Tools/Debugger/How_to/Step_through_code">Выход из функции</a> пропускает возвращаемое значение (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=923975">баг 923975</a>).</li>
  </ul>
 </li>
</ul>

<h4 id="Удалено">Удалено</h4>

<ul>
 <li>Окончательно удалена панель разработчика (GCLI) (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1429421">баг 1429421</a>). Её интерфейс был удалён в <a href="/ru/docs/Mozilla/Firefox/Releases/62">Firefox 62</a>, а теперь удалён и оставшийся код.</li>
</ul>

<h3 id="HTML"><a>HTML</a></h3>

<p><em>Без изменений.</em></p>

<h3 id="CSS"><a>CSS</a></h3>

<ul>
 <li>Включена по умолчанию поддержка <a href="/ru/docs/Web/CSS/CSS_Scrollbars">полос прокрутки CSS</a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1492012">баг 1492012</a>).</li>
 <li>Реализована поддержка Interaction Media Features, включающая <code><a href="/ru/docs/Web/CSS/@media/pointer">pointer:coarse</a></code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1035774">баг 1035774</a>). Подробности реализации <code><a href="/ru/docs/Web/CSS/@media/any-pointer">any-pointer</a></code> и <code><a href="/ru/docs/Web/CSS/@media/any-hover">any-hover</a></code> см в <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1483111">баг 1483111</a>.</li>
 <li>Android-версия обзавелась поддержкой <code><a href="/ru/docs/Web/CSS/@media/prefers-reduced-motion">prefers-reduced-motion</a></code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1478505">баг 1478505</a>).</li>
 <li>Значения <a href="/ru/docs/Web/CSS/gradient"><code>&lt;gradient&gt;</code></a> теперь поддерживают мультипозиционный синтаксис остановки цвета, например, <code>yellow 25%, yellow 50%</code> можно записать в виде <code>yellow 25% 50%</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1352643">баг 1352643</a>).</li>
 <li>Свойство <a href="/ru/docs/Web/CSS/text-transform"><code>text-transform</code></a> теперь принимает значение <code>full-size-kana</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1498148">баг 1498148</a>).</li>
 <li>Из-за проблем веб-совместимости добавлена поддержка <a href="/ru/docs/Web/CSS/appearance"><code>-webkit-appearance</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1368555">баг 1368555</a>).</li>
 <li>Кроме того, удалена большая часть специфичных для Firefox значений <code>-moz-appearance</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1496720">баг 1496720</a>).</li>
 <li><a href="/ru/docs/Web/CSS/display"><code>display</code></a>: <code>list-item</code> отныне поддерживается на элементах <a href="/ru/docs/Web/HTML/Element/legend"><code>&lt;legend&gt;</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1486602">баг 1486602</a>).</li>
 <li>SVG <code>path()</code>, при использовании в <a href="/ru/docs/Web/CSS/offset-path"><code>offset-path</code></a>, теперь могут быть анимированными (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1486094">баг 1486094</a>).</li>
 <li>Псевдоэлементы с префиксом <code>-webkit-</code> больше не делают цепочку или группу селекторов недействительной (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1424106">баг 1424106</a>). См. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1486325">баг 1486325</a>, чтобы узнать, как включить эту возможность.</li>
</ul>

<h4 id="Удалено_2">Удалено</h4>

<ul>
 <li>Нестандартные значения <a href="/ru/docs/Mozilla/Gecko/Chrome/CSS/display-xul"><code style="white-space: nowrap;">-moz-box</code> и <code style="white-space: nowrap;">-moz-inline-box</code></a> <a href="/ru/docs/Web/CSS/display"><code>display</code></a> скрыты от веб-содержимого (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1496961">баг 1496961</a>).</li>
 <li>Нестандартные <a style="white-space: nowrap;" href="/ru/docs/Web/CSS/Pseudo-elements">псевдоэлементы</a> <a href="/ru/docs/Web/CSS/::-moz-tree"><code>::-moz-tree</code></a> скрыты от веб-содержимого (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1496961">баг 1496961</a>).</li>
 <li>Удалена настройка <code>layout.css.filters.enabled</code>; <a href="/ru/docs/Web/CSS/Filter_Effects">CSS-фильтры</a> отныне нельзя отключить (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1408841">баг 1408841</a>).</li>
 <li>Отменено (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1492567">баг 1492567</a>) изменение, сделанное в прошлом выпуске — перемена мест значений <a href="/ru/docs/Web/CSS/overflow"><code>overflow</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1481866">баг 1481866</a>). См. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1481866#c14">причину</a>.</li>
</ul>

<h3 id="SVG">SVG</h3>

<p><em>Без изменений.</em></p>

<h3 id="JavaScript">JavaScript</h3>

<ul>
 <li>Реализовано предложение TC39 <a href="https://github.com/tc39/proposal-well-formed-stringify">Well-formed JSON.stringify</a>, чтобы <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify</code></a> не мог возвращать плохо сформированные строки Unicode (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1469021">баг 1469021</a>).</li>
 <li>Проксируемые функции теперь могут быть переданы <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString</code></a><code>.call()</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1440468">баг 1440468</a>).</li>
 <li>Если значение не указано, конструктор <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Global"><code>WebAssembly.Global</code></a> будет использовать типизированный 0. Это определяется алгоритмом <a href="https://webassembly.github.io/spec/js-api/#defaultvalue"><code>DefaultValue</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1490286">баг 1490286</a>).</li>
</ul>

<h3 id="API">API</h3>

<h4 id="DOM">DOM</h4>

<ul>
 <li>Ряд изменений <a href="/ru/docs/Web/API/Fullscreen_API">API Fullscreen</a>:
  <ul>
   <li>API лишился префикса (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1269276">баг 1269276</a>).</li>
   <li>Методы <a href="/ru/docs/Web/API/Element/requestFullscreen"><code>Element.requestFullscreen()</code></a> и <a href="/ru/docs/Web/API/Document/exitFullscreen"><code>Document.exitFullscreen()</code></a> отныне возвращают <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>, который исполняется, когда завершено изменение режима (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1188256">баг 1188256</a> и <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1491212">баг 1491212</a>).</li>
   <li>События <a href="/ru/docs/Web/API/Fullscreenchange"><code>fullscreenchange</code></a> и <a href="/ru/docs/Web/API/Fullscreenerror"><code>fullscreenerror</code></a> сначала отправлялись в <a href="/ru/docs/Web/API/Document"><code>Document</code></a>, а затем в <a href="/ru/docs/Web/API/Element"><code>Element</code></a>. Теперь всё стало наоборот. Это поведение отражено в спецификации и совпадает с поведением Chrome (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1375319">баг 1375319</a>).</li>
  </ul>
 </li>
 <li>На платформе macOS снова включён <a href="/ru/docs/Web/API/WebVR_API">API WebVR</a> 1.1 (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1476091">баг 1476091</a>).</li>
 <li>В качестве ссылок на <a href="/ru/docs/Web/API/Window/screenX"><code>Window.screenX</code></a> и <a href="/ru/docs/Web/API/Window/screenY"><code>Window.screenY</code></a> добавлены <a href="/ru/docs/Web/API/Window/screenLeft"><code>Window.screenLeft</code></a> и <a href="/ru/docs/Web/API/Window/screenTop"><code>Window.screenTop</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1498860">баг 1498860</a>).</li>
 <li>Метод <a href="/ru/docs/Web/API/XMLHttpRequest/getAllResponseHeaders"><code>XMLHttpRequest.getAllResponseHeaders()</code></a> отныне возвращает имена заголовков в нижнем регистре, в соответствии со спецификацией (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1398718">баг 1398718</a>).</li>
 <li>Устаревший интерфейс <code>HTMLAllCollection</code> обновлён в соответствии с последними изменениями <a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#htmlallcollection">спецификации</a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1398354">баг 1398354</a>).</li>
 <li>В целях конфиденциальности <a href="/ru/docs/Web/API/Navigator/buildID"><code>Navigator.buildID</code></a> будет возвращать фиксированную метку времени (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=583181">баг 583181</a>).</li>
 <li>По умолчанию отключены следующие возможности <a href="/ru/docs/Web/API/Document/execCommand"><code>Document.execCommand()</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1490641">баг 1490641</a>, см. также <a href="https://www.fxsitecompat.com/en-CA/docs/2018/firefox-specific-html-editing-ui-has-been-disabled-by-default/">Firefox-specific HTML editing UI has been disabled by default</a>):
  <ul>
   <li><code>enableObjectResizing</code></li>
   <li><code>enableInlineTableEditing</code></li>
   <li><code>enableAbsolutePositionEditor</code></li>
  </ul>
 </li>
</ul>

<h4 id="Сервис-воркеры">Сервис-воркеры</h4>

<ul>
 <li>Реализован метод <a href="/ru/docs/Web/API/ServiceWorkerContainer/startMessages"><code>ServiceWorkerContainer.startMessages()</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1263734">баг 1263734</a>).</li>
</ul>

<h4 id="Media_Web_Audio_и_WebRTC">Media, Web Audio и WebRTC</h4>

<ul>
 <li>Свойства <a href="/ru/docs/Web/API/PannerNode/refDistance"><code>PannerNode.refDistance</code></a>, <a href="/ru/docs/Web/API/PannerNode/maxDistance"><code>PannerNode.maxDistance</code></a>, <a href="/ru/docs/Web/API/PannerNode/rolloffFactor"><code>PannerNode.rolloffFactor</code></a> и <a href="/ru/docs/Web/API/PannerNode/coneOuterGain"><code>PannerNode.coneOuterGain</code></a> отныне корректно выбрасывают исключения, когда их значения установлены за пределами допустимого (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1487963">баг 1487963</a>).</li>
 <li>Настройки <a href="/ru/docs/Web/API/RTCRtpEncodingParameters"><code>RTCRtpEncodingParameters</code></a>, изменённые с помощью <a href="/ru/docs/Web/API/RTCRtpSender/setParameters"><code>RTCRtpSender.setParameters()</code></a>, не обновлялись, если были изменены во время звонка. Теперь они будут обновляться без переподключения (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1253499">баг 1253499</a>).</li>
 <li>Реализован <a href="/ru/docs/Web/API/RTCIceCandidateStats/relayProtocol"><code>RTCIceCandidateStats.relayProtocol</code></a> — стандартная версия <a href="/ru/docs/Web/API/RTCIceCandidateStats/mozLocalTransport"><code>RTCIceCandidateStats.mozLocalTransport</code></a>, который объявлен устаревшим (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1435789">баг 1435789</a>).</li>
 <li>Включена по умолчанию автоматическая регулировка усиления (AGC). Эта возможность управляется настройкой <code>media.getusermedia.agc_enabled</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1496714">баг 1496714</a>).</li>
</ul>

<h4 id="Удалено_3">Удалено</h4>

<ul>
 <li>Свойство <a href="/ru/docs/Web/API/Window/event"><code>Window.event</code></a>, добавленное в Firefox 63 для разрешения проблем веб-совместимости, скрыто за отключённой в релизных версиях настройкой <code>dom.window.event.enabled</code>, поскольку вскрылись иные затруднения (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1493869">баг 1493869</a>). На самом деле, это было сделано в одном из минорных обновлений Firefox 63, мы просто обращаем на это ваше внимание.</li>
 <li>Удалён интерфейс <a href="/ru/docs/Web/API/LocalMediaStream"><code>LocalMediaStream</code></a> и его метод <code>stop()</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1258143">баг 1258143</a>). См. <a href="/en-US/docs/Web/API/MediaStreamTrack/stop#Stopping_a_video_stream">Stopping a video stream</a> в <a href="/en-US/docs/Web/API/MediaStreamTrack/stop">MediaStreamTrack.stop()</a>, чтобы узнать, как остановить поток целиком.</li>
 <li>Удалены интерфейсы <code>AudioStreamTrack</code> и <code>VideoStreamTrack</code>, поскольку они уже некоторое время объявлены устаревшими (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1377146">баг 1377146</a>). Их функции перенесены в <a href="/ru/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a>; дорожки отныне идентифицируются по значению свойств <a href="/ru/docs/Web/API/MediaStreamTrack/kind"><code>kind</code></a>, таких, как <code>audio</code> или <code>video</code>.</li>
</ul>

<h3 id="Безопасность">Безопасность</h3>

<ul>
 <li>Прекращено доверие сертификатам, выданным удостоверяющими центрами Symantec (см. <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1409257">баг 1409257</a>; также см. подробности в обсуждении <a href="https://groups.google.com/forum/#!topic/mozilla.dev.security.policy/FLHRT79e3XE/discussion">Mozilla’s Plan for Symantec Roots</a>).</li>
 <li>Теперь можно использовать <a href="/ru/docs/Web/HTTP/Headers/Referrer-Policy"><code>Referrer-Policy</code></a> для управления ресурсами, полученными через таблицы стилей (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1330487">баг 1330487</a>) — см. <a href="/en-US/docs/Web/HTTP/Headers/Referrer-Policy#Integration_with_CSS">Integration with CSS</a> в <a href="/en-US/docs/Web/HTTP/Headers/Referrer-Policy">Referrer-Policy</a> для получения подробных сведений.</li>
</ul>

<h3 id="Плагины">Плагины</h3>

<p><em>Без изменений.</em></p>

<h3 id="WebDriver_(Marionette)">WebDriver (Marionette)</h3>

<h4 id="Изменения_API">Изменения API</h4>

<ul>
 <li>Удалены устаревшие конечные точки без префикса <code>Marionette:</code>, <code>L10n:</code> или <code>Addon:</code> (включая <code>singeTap</code>) (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1504478">баг 1504478</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1504940">баг 1504940</a>).</li>
</ul>

<h4 id="Исправленные_ошибеи">Исправленные ошибеи</h4>

<ul>
 <li>Синтезированные события <code>Shift</code> с использованием <code>WebDriver:PerformActions</code> не создавали заглавные буквы (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1405370">баг 1405370</a>).</li>
 <li><code>WebDriver:Navigate</code> мог вызвать бесконечное зависание, если низлежащий процесс контента вкладки менялся много раз во время навигации (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1504807">баг 1504807</a>).</li>
 <li>Для улучшения производительности и сокращения количества потребляемой памяти странца, в новой вкладке или окне будет загружаться не <code>about:newtab</code>, а <code>about:blank</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1506643">баг 1506643</a>).</li>
 <li>Отключено по умолчанию предложение использовать панель блокировки контента, показ которого препятствует взаимодействию с элементами интерфейса (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1488826">баг 1488826</a>).</li>
</ul>

<h2 id="Изменения_для_разработчиков_дополнений">Изменения для разработчиков дополнений</h2>

<h3 id="Изменения_API_2">Изменения API</h3>

<h4 id="Меню">Меню</h4>

<ul>
 <li>Добавлен новый API <code>browser.menus.overrideContext()</code>, который может быть вызван из события DOM <code>contextmenu</code> и позволяет скрыть все пункты меню по умолчанию, чтобы создать собственное контекстное меню на страницах, относящихся к дополнению. Это контекстное меню может состоять из нескольких пунктов меню верхнего уровня дополнения и может включать элементы контекстного меню вкладок или закладок из других дополнений. См. <a href="https://blog.mozilla.org/addons/2018/11/08/extensions-in-firefox-64/#cm">блог</a> для получения подробных сведений.

  <ul>
   <li>Реализован <code>browser.menus.overrideContext()</code> ((<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280347">баг 1280347</a>).</li>
   <li>Реализована опция <code>showDefaults: false</code>, позволяющая скрывать из контекстного меню пункты по умолчанию (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1367160">баг 1367160</a>).</li>
   <li><code>documentURLPatterns</code> теперь может соответствовать адресу <code>moz-extension://</code>, даже если используется <code>browser.menus.overrideContext()</code>. Таким образом, он может надежно ограничивать пользовательские пункты меню для определенных документов (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1498896">баг 1498896</a>).</li>
  </ul>
 </li>
 <li>С помощью нового свойства <code>viewTypes</code> в <a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/menus/create"><code>menus.create()</code></a> и <a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/menus/update"><code>menus.update()</code></a> можно ограничить места появления контекстного меню в дополнении (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1416839">баг 1416839</a>).</li>
 <li><a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/menus/update"><code>menus.update()</code></a> теперь позволяет обновить значок существующего пункта меню (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1414566">баг 1414566</a>).</li>
 <li>С помощью нового свойства <code>button</code> <a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/menus/OnClickData"><code>menus.OnClickData</code></a> дополнения могут определять, какая кнопка мыши использована для выбора пункта меню (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1469148">баг 1469148</a>).</li>
</ul>

<h4 id="Окна">Окна</h4>

<ul>
 <li>Метод <a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/windows/create"><code>windows.create()</code></a> обзавёлся опцией <code>cookieStoreId</code>, которая определяет <code>CookieStoreId</code> для всех вкладок, созданных при открытии окна (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1393570">баг 1393570</a>).</li>
</ul>

<h4 id="Конфиденциальность">Конфиденциальность</h4>

<ul>
 <li>Свойство <code>cookieConfig</code> <a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/privacy/websites"><code>privacy.websites</code></a> — это объект, который может принимать свойство <code>behavior</code>. Это свойство теперь может, в свою очередь, принимать новое значение — <code>reject_trackers</code>, которое указывает дополнению отвергать куки, связанными с отслеживанием (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1493057">баг 1493057</a>).</li>
</ul>

<h4 id="API_devtools.panels">API devtools.panels</h4>

<ul>
 <li>Реализована поддержка метода <code>Sidebar.setPage()</code> <code><a href="/ru/docs/Mozilla/Add-ons/WebExtensions/API/devtools.panels/elements">devtools.panels.elements</a></code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1398734">баг 1398734</a>).</li>
</ul>

<h3 id="Изменения_манифеста">Изменения манифеста</h3>

<ul>
 <li>Новое свойство <code>pinned</code> ключа манифеста <code><a href="/ru/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action">page_action</a></code> позволяет дополнениям управлять тем, должны ли при установке их действия на странице быть прикреплены к адресной строке или нет (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1494135">баг 1494135</a>).</li>
 <li>В Windows наличие ключей NativeMessagingHosts сначала будет проверяться в 32-разрядном представлении реестра (<a href="https://en.wikipedia.org/wiki/WoW64#Registry_and_file_system" class="external external-icon" rel="noopener">Wow6432Node)</a>); следует использовать то, что подходит для вашего приложения (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1494709">баг 1494709</a>).</li>
 <li>Объект <code>search_provider</code> поля <code><a href="/ru/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides">chrome_settings_overrides</a></code> отныне может включать новые свойства — <code>suggest_url</code>, <code>suggest_url_post_params</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1486819">баг 1486819</a>) и <code>search_url_post_params</code>.</li>
</ul>

<h2 id="См._также">См. также</h2>

<ul>
 <li><a href="https://www.fxsitecompat.com/en-CA/versions/64/">Совместимость сайтов с Firefox 64</a></li>
</ul>

<h2 id="Предыдущие_версии">Предыдущие версии</h2>

<p></p><div class="multiColumnList">
<ul>
<li><a href="/ru/docs/Mozilla/Firefox/Releases/64">Firefox 64 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/63">Firefox 63 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/62">Firefox 62 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/61">Firefox 61 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/60">Firefox 60 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/59">Firefox 59 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/58">Firefox 58 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/57">Firefox 57 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/56">Firefox 56 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/55">Firefox 55 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/54">Firefox 54 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/53">Firefox 53 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/52">Firefox 52 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/51">Firefox 51 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/50">Firefox 50 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/49">Firefox 49 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/48">Firefox 48 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/47">Firefox 47 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/46">Firefox 46 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/45">Firefox 45 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/44">Firefox 44 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/43">Firefox 43 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/42">Firefox 42 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/41">Firefox 41 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/40">Firefox 40 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/39">Firefox 39 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/38">Firefox 38 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/37">Firefox 37 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/36">Firefox 36 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/35">Firefox 35 для разработчиков</a></li><li><a href="/ru/docs/Mozilla/Firefox/Releases/34">Firefox 34 для разработчиков</a></li></ul>
</div><p></p>
