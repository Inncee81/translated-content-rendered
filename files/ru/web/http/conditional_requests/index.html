---
title: Условные HTTP запросы
slug: Web/HTTP/Conditional_requests
translation_of: Web/HTTP/Conditional_requests
---
<p></p><section class="Quick_links" id="Quick_Links">
  <ol>
    <li><a href="/ru/docs/Web/HTTP"><strong><em>HTTP</em></strong></a></li>
    <li><strong>Guides:</strong></li>
    <li class="toggle">
        <details>
            <summary>Resources and URIs</summary>
            <ol>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/Identifying_resources_on_the_Web">Identifying resources on the Web</a></li>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/Data_URIs">Data URIs</a></li>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/MIME_Types">Introduction to MIME Types</a></li>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types">Complete list of MIME Types</a></li>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/Choosing_between_www_and_non-www_URLs">Choosing between www and non-www URLs</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>HTTP guide</summary>
            <ol>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP">Basics of HTTP</a></li>
                <li><a href="/ru/docs/Web/HTTP/Overview">Overview of HTTP</a></li>
                <li><a href="/ru/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP">Evolution of HTTP</a></li>
                <li><a href="/ru/docs/Web/HTTP/Messages">HTTP Messages</a></li>
                <li><a href="/ru/docs/Web/HTTP/Session">Базовая сессия</a></li>
                <li><a href="/ru/docs/Web/HTTP/Connection_management_in_HTTP_1.x">Connection management in HTTP/1.x</a></li>
                <li><a href="/ru/docs/Web/HTTP/Protocol_upgrade_mechanism">Protocol upgrade mechanism</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>HTTP security</summary>
            <ol>
                <li><a href="/ru/docs/Web/HTTP/CSP">Content Security Policy (CSP)</a></li>
                <li><a href="/ru/docs/Web/HTTP/Public_Key_Pinning">HTTP Public Key Pinning (HPKP)</a></li>
                <li><a href="/ru/docs/Web/HTTP/Headers/Strict-Transport-Security">HTTP Strict Transport Security (HSTS)</a></li>
                <li><a href="/ru/docs/Web/HTTP/Cookies#Secure_and_HttpOnly_cookies">Cookie security</a></li>
                <li><a href="/ru/docs/Web/HTTP/Headers/X-Content-Type-Options">X-Content-Type-Options</a></li>
                <li><a href="/ru/docs/Web/HTTP/Headers/X-Frame-Options">X-Frame-Options</a></li>
                <li><a href="/ru/docs/Web/HTTP/Headers/X-XSS-Protection">X-XSS-Protection</a></li>
                <li><a href="https://wiki.mozilla.org/Security/Guidelines/Web_Security">Mozilla web security guidelines</a></li>
                <li><a href="https://observatory.mozilla.org/">Mozilla Observatory</a></li>
            </ol>
        </details>
    </li>

    <li><a href="/ru/docs/Web/HTTP/CORS">HTTP контроль доступа (CORS)</a></li>
    <li><a href="/ru/docs/Web/HTTP/Authentication">HTTP authentication</a></li>
    <li><a href="/ru/docs/Web/HTTP/Caching">HTTP caching</a></li>
    <li><a href="/ru/docs/Web/HTTP/Compression">HTTP compression</a></li>
    <li><a href="/ru/docs/Web/HTTP/Conditional_requests">HTTP conditional requests</a></li>
    <li><a href="/ru/docs/Web/HTTP/Content_negotiation">HTTP content negotiation</a></li>
    <li><a href="/ru/docs/Web/HTTP/Cookies">Куки</a></li>
    <li><a href="/ru/docs/Web/HTTP/Range_requests">HTTP range requests</a></li>
    <li><a href="/ru/docs/Web/HTTP/Redirections">HTTP redirects</a></li>
    <li><a href="/ru/docs/Web/HTTP/Resources_and_specifications">HTTP specifications</a></li>
    <li><a href="/ru/docs/Web/HTTP/Feature_Policy">Feature policy</a></li>
    <li><strong>References:</strong></li>
    <li class="toggle">
        <details>
            <summary>Заголовки</summary>
            <ol><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Accept"><code>Accept</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Accept-Charset"><code>Accept-Charset</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Accept-Charset$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Accept-Encoding"><code>Accept-Encoding</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Accept-Encoding$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Accept-Language"><code>Accept-Language</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Accept-Ranges"><code>Accept-Ranges</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials"><code>Access-Control-Allow-Credentials</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Access-Control-Allow-Headers"><code>Access-Control-Allow-Headers</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Access-Control-Allow-Methods"><code>Access-Control-Allow-Methods</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Access-Control-Allow-Origin"><code>Access-Control-Allow-Origin</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Access-Control-Allow-Origin$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Access-Control-Expose-Headers"><code>Access-Control-Expose-Headers</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Access-Control-Expose-Headers$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Access-Control-Max-Age"><code>Access-Control-Max-Age</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Access-Control-Request-Headers"><code>Access-Control-Request-Headers</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Access-Control-Request-Headers$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Access-Control-Request-Method"><code>Access-Control-Request-Method</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Access-Control-Request-Method$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Age"><code>Age</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Age$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Allow"><code>Allow</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Allow$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Alt-Svc"><code>Alt-Svc</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Alt-Svc$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Authorization"><code>Авторизация</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Cache-Control"><code>Cache-Control</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Clear-Site-Data"><code>Clear-Site-Data</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Clear-Site-Data$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Connection"><code>Connection</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Content-Disposition"><code>Content-Disposition</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Encoding"><code>Content-Encoding</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Encoding$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Language"><code>Content-Language</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Language$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Content-Length"><code>Content-Length</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Location"><code>Content-Location</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Location$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Range"><code>Content-Range</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Range$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy"><code>Content-Security-Policy</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only"><code>Content-Security-Policy-Report-Only</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Content-Type"><code>Content-Type</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Cookie"><code>Cookie</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Cookie$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Cookie2"><code>Cookie2</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Cookie2$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/DNT"><code>DNT</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/DNT$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Date"><code>Date</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/ETag"><code>ETag</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Early-Data"><code>Early-Data</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Early-Data$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Expect"><code>Expect</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Expect-CT"><code>Expect-CT</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Expect-CT$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Expires"><code>Expires</code></a></li><li><span class="sidebar-icon"><span title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy"><code>Feature-Policy</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Forwarded"><code>Forwarded</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Forwarded$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/From"><code>From</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/From$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Host"><code>Host</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Host$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/If-Match"><code>If-Match</code></a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/If-Modified-Since"><code>If-Modified-Since</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/If-None-Match"><code>If-None-Match</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/If-None-Match$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/If-Range"><code>If-Range</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/If-Range$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/If-Unmodified-Since"><code>If-Unmodified-Since</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Index"><code>Index</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Index$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Keep-Alive"><code>Keep-Alive</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Keep-Alive$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Large-Allocation"><code>Large-Allocation</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Large-Allocation$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Last-Modified"><code>Last-Modified</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Last-Modified$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Location"><code>Location</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Location$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Origin"><code>Origin</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Pragma"><code>Pragma</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Pragma$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Proxy-Authenticate"><code>Proxy-Authenticate</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Proxy-Authenticate$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Proxy-Authorization"><code>Proxy-Authorization</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Proxy-Authorization$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Public-Key-Pins"><code>Public-Key-Pins</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Public-Key-Pins$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Public-Key-Pins-Report-Only"><code>Public-Key-Pins-Report-Only</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Public-Key-Pins-Report-Only$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Range"><code>Range</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Range$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Referer"><code>Referer</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Referrer-Policy"><code>Referrer-Policy</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Referrer-Policy$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/Retry-After"><code>Retry-After</code></a></li><li><a href="/ru/docs/Web/HTTP/Headers/Sec-WebSocket-Accept"><code>Sec-WebSocket-Accept</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Sec-WebSocket-Accept$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Server"><code>Server</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Server$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Server-Timing"><code>Server-Timing</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Server-Timing$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Set-Cookie"><code>Set-Cookie</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Set-Cookie$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Set-Cookie2"><code>Set-Cookie2</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Set-Cookie2$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/SourceMap"><code>SourceMap</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/SourceMap$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Strict-Transport-Security"><code>Strict-Transport-Security</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Strict-Transport-Security$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/TE"><code>TE</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/TE$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Timing-Allow-Origin"><code>Timing-Allow-Origin</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Timing-Allow-Origin$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Tk"><code>Tk</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Tk$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Trailer"><code>Trailer</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Trailer$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Transfer-Encoding"><code>Transfer-Encoding</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Transfer-Encoding$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests"><code>Upgrade-Insecure-Requests</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/User-Agent"><code>User-Agent</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/User-Agent$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Vary"><code>Vary</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Vary$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Via"><code>Via</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Via$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/WWW-Authenticate"><code>WWW-Authenticate</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/WWW-Authenticate$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Warning"><code>Warning</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Warning$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/X-Content-Type-Options"><code>X-Content-Type-Options</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/X-Content-Type-Options$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control"><code>X-DNS-Prefetch-Control</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/X-Forwarded-For"><code>X-Forwarded-For</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/X-Forwarded-Host"><code>X-Forwarded-Host</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/X-Forwarded-Host$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/X-Forwarded-Proto"><code>X-Forwarded-Proto</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/X-Forwarded-Proto$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/X-Frame-Options"><code>X-Frame-Options</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/X-Frame-Options$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/%D0%97%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8/X-XSS-Protection"><code>X-XSS-Protection</code></a></li></ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>HTTP request methods</summary>
            <ol><li><a href="/ru/docs/Web/HTTP/Methods/CONNECT"><code>CONNECT</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/DELETE"><code>DELETE</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/GET"><code>GET</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/HEAD"><code>HEAD</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/OPTIONS"><code>OPTIONS</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/PATCH"><code>PATCH</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Methods/PATCH$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Methods/POST"><code>POST</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/PUT"><code>PUT</code></a></li><li><a href="/ru/docs/Web/HTTP/Methods/TRACE"><code>TRACE</code></a></li></ol>
        </details>
    </li>
    <li class="toggle">
        <details>
          <summary>HTTP response status codes</summary>
          <ol><li><a href="/ru/docs/Web/HTTP/Status/100"><code>100 Continue</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/101"><code>101 Switching Protocol</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/200"><code>200 OK</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/201"><code>201 Created</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/202"><code>202 Accepted</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/203"><code>203 Non-Authoritative Information</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/204"><code>204 No Content</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/205"><code>205 Reset Content</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/206"><code>206 Partial Content</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/300"><code>300 Multiple Choices</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/301"><code>301 Moved Permanently</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/302"><code>302 Found</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/303"><code>303 See Other</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/304"><code>304 Not Modified</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/307"><code>307 Temporary Redirect</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/308"><code>308 Permanent Redirect</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/400"><code>400 Bad Request</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/401"><code>401 Unauthorized</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/403"><code>403 Forbidden</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/404"><code>404 Not Found</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/405"><code>405 Method Not Allowed</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/406"><code>406 Not Acceptable</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/407"><code>407 Proxy Authentication Required</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/408"><code>408 Request Timeout</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/409"><code>409 Conflict</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/410"><code>410 Gone</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/411"><code>411 Length Required</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/412"><code>412 Precondition Failed</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/413"><code>413 Payload Too Large</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/414"><code>414 URI Too Long</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/415"><code>415 Unsupported Media Type</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/416"><code>416 Range Not Satisfiable</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/417"><code>417 Expectation Failed</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/418"><code>418 I&apos;m a teapot</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/422"><code>422 Unprocessable Entity</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/425"><code>425 Too Early</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Status/425$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Status/426"><code>426 Upgrade Required</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/428"><code>428 Precondition Required</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/429"><code>429 Too Many Requests</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/431"><code>431 Request Header Fields Too Large</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/451"><code>451 Unavailable For Legal Reasons</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/500"><code>500 Internal Server Error</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/501"><code>501 Not Implemented</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/502"><code>502 Bad Gateway</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/503"><code>503 Service Unavailable</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/504"><code>504 Gateway Timeout</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/505"><code>505 HTTP Version Not Supported</code></a></li><li><a href="/ru/docs/Web/HTTP/Status/511"><code>511 Network Authentication Required</code></a></li></ol>
        </details>
    </li>
    <li class="toggle">
        <details>
          <summary>CSP directives</summary>
          <ol><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/base-uri"><code>CSP: base-uri</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/base-uri$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/block-all-mixed-content"><code>CSP: block-all-mixed-content</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/block-all-mixed-content$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/child-src"><code>CSP: child-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/child-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/connect-src"><code>CSP: connect-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/connect-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/default-src"><code>CSP: default-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/default-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/font-src"><code>CSP: font-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/font-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/form-action"><code>CSP: form-action</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/form-action$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors"><code>CSP: frame-ancestors</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src"><code>CSP: frame-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/img-src"><code>CSP: img-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/img-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/manifest-src"><code>CSP: manifest-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/manifest-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/media-src"><code>CSP: media-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/media-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/object-src"><code>CSP: object-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/object-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/plugin-types"><code>CSP: plugin-types</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/plugin-types$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/referrer"><code>CSP: referrer</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/referrer$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri"><code>CSP: report-uri</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/require-sri-for"><code>CSP: require-sri-for</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/require-sri-for$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/sandbox"><code>CSP: sandbox</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/sandbox$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/script-src"><code>CSP: script-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/script-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/style-src"><code>CSP: style-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/style-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/upgrade-insecure-requests"><code>CSP: upgrade-insecure-requests</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/upgrade-insecure-requests$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/worker-src"><code>CSP: worker-src</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/worker-src$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/report-to"><code>report-to</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Content-Security-Policy/report-to$translate">[Перевести]</a></li></ol>
        </details>
    </li>
    <li class="toggle">
        <details>
          <summary>CORS errors</summary>
          <ol><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSDisabled">Reason: CORS disabled</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSDisabled$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSAllowOriginNotMatchingOrigin">Reason: CORS header &apos;Access-Control-Allow-Origin&apos; does not match &apos;xyz&apos;</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSAllowOriginNotMatchingOrigin$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin">Причина: CORS header &apos;Access-Control-Allow-Origin&apos; отсутствует</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSOriginHeaderNotAdded">Reason: CORS header ‘Origin’ cannot be added</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSOriginHeaderNotAdded$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSPreflightDidNotSucceed">Reason: CORS preflight channel did not succeed</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSPreflightDidNotSucceed$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSDidNotSucceed">Причина: Не удалось выполнить запрос CORS</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed">Reason: CORS request external redirect not allowed</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp">Reason: CORS request not HTTP</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSNotSupportingCredentials">Reason: Credential is not supported if the CORS header ‘Access-Control-Allow-Origin’ is ‘*’</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSNotSupportingCredentials$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSMethodNotFound">Reason: Did not find method in CORS header ‘Access-Control-Allow-Methods’</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSMethodNotFound$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSMultipleAllowOriginNotAllowed">Reason: Multiple CORS header &apos;Access-Control-Allow-Origin&apos; not allowed</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSMultipleAllowOriginNotAllowed$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSMIssingAllowCredentials">Reason: expected ‘true’ in CORS header ‘Access-Control-Allow-Credentials’</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSMIssingAllowCredentials$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowHeader">Reason: invalid token ‘xyz’ in CORS header ‘Access-Control-Allow-Headers’</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowHeader$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowMethod">Reason: invalid token ‘xyz’ in CORS header ‘Access-Control-Allow-Methods’</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowMethod$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/CORS/Errors/CORSMissingAllowHeaderFromPreflight">Reason: missing token ‘xyz’ in CORS header ‘Access-Control-Allow-Headers’ from CORS preflight channel</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/CORS/Errors/CORSMissingAllowHeaderFromPreflight$translate">[Перевести]</a></li></ol>
        </details>
    </li>
    <li class="toggle">
        <details>
          <summary>Feature-Policy directives</summary>
          <ol><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/autoplay">Feature-Policy: autoplay</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/autoplay$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/camera">Feature-Policy: camera</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/camera$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/encrypted-media">Feature-Policy: encrypted-media</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/encrypted-media$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/fullscreen">Feature-Policy: fullscreen</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/fullscreen$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/geolocation">Feature-Policy: geolocation</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/geolocation$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/microphone">Feature-Policy: microphone</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/microphone$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/midi">Feature-Policy: midi</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/midi$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/payment">Feature-Policy: payment</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/payment$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/vr">Feature-Policy: vr</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/vr$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span><a href="/ru/docs/Web/HTTP/Headers/Feature-Policy/document-domain">document-domain</a> <a style="opacity: 0.5;" href="/ru/docs/Web/HTTP/Headers/Feature-Policy/document-domain$translate">[Перевести]</a></li></ol>
        </details>
    </li>
  </ol>
</section><p></p>

<p class="summary">В HTTP есть понятие <em>условных запросов</em>, в которых результат, и даже успех запрос, могут быть изменены с помощью сравнения затронутых ресурсов со значением <em>валидатора</em>. Такие запросы могут быть полезными для валидации контента в кеше, и избавления от бесполезного контроля, чтобы проверить целостность документа, например, пока длится загрузка, или пока предовращается потеря обновлений, пока выгружаются или изменяются файлы на сервере.</p>

<h2 id="Принципы">Принципы</h2>

<p>Условные запросы HTTP это запросы, которые выполняся по разному, в зависимости значения особых заголовков. Эти заголовки определяют предусловие, и результат запроса будет разным, если условие согласовано или нет.</p>

<p>Отличие в поведении определяется используемым методом, и набором заголовков для предусловий:</p>

<ul>
 <li>для <a href="/ru/docs/Словарь/safe" class="glossaryLink" title="безопасных: Метод HTTP является безопасным, если он не меняет состояние сервера. Другими словами, безопасный метод проводит операции &quot;только чтение&quot; (read-only). Несколько следующих методов HTTP безопасные: GET, HEAD или OPTIONS. Все безопасные методы являются также идемпотентными, как и некоторые другие, но при этом небезопасные, такие как PUT или DELETE.">безопасных</a> методов, например как <a href="/ru/docs/Web/HTTP/Methods/GET" title="HTTP-метод GET запрашивает представление указанного ресурса. GET-запросы должны только получать данные."><code>GET</code></a>, который обычно используется, чтобы получить документ, условный запрос отправит документ только если это уместно. Следовательно, это расширит пропускную способность.</li>
 <li>для <a href="/ru/docs/Словарь/safe" class="glossaryLink" title="небезопасных: Метод HTTP является безопасным, если он не меняет состояние сервера. Другими словами, безопасный метод проводит операции &quot;только чтение&quot; (read-only). Несколько следующих методов HTTP безопасные: GET, HEAD или OPTIONS. Все безопасные методы являются также идемпотентными, как и некоторые другие, но при этом небезопасные, такие как PUT или DELETE.">небезопасных</a> методов, например <a href="/ru/docs/Web/HTTP/Methods/PUT" title="Разница между PUT и POST в том, что PUT является идемпотентным, т.е. единичный и множественные вызовы этого метода, с идентичным набором данных, будут иметь тот же результат выполнения (без сторонних эффектов), в случае с POST, множественный вызов с идентичным набором данных может повлечь за собой сторонние эффекты."><code>PUT</code></a>, который обычно используется для выгрузки документа на сервер, условный запрос загрузит документ, только если оригинал, на котором он основан, хранится на сервере.</li>
</ul>

<h2 id="Validators">Validators</h2>

<p>All conditional headers try to check if the resource stored on the server matches a specific version. To achieve this, the conditional requests need to indicate the version of the resource. As comparing the whole resource byte to byte is impracticable, and not always what is wanted, the request transmits a value describing the version. Such values are called <em>validators</em>, and are of two kinds:</p>

<ul>
 <li>the date of last modification of the document, the <em>last-modified</em> date.</li>
 <li>an opaque string, uniquely identifying each version, called the <em>entity tag</em>, or the <em>etag</em>.</li>
</ul>

<p>Comparing versions of the same resource is a bit tricky: depending on the context, there are two kinds of <em>equality checks</em>:</p>

<ul>
 <li><em>Strong validation</em> is used when byte to byte identity is expected, for example when resuming a download.</li>
 <li><em>Weak validation</em> is used when the user-agent only needs to determine if the two resources have the same content. This is even if they are minor differences; like different ads, or a footer with a different date.</li>
</ul>

<p>The kind of validation is independent of the validator used. Both <a href="/ru/docs/Web/HTTP/Headers/Last-Modified" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Last-Modified</code></a> and <a href="/ru/docs/Web/HTTP/Headers/ETag" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>ETag</code></a> allow both types of validation, though the complexity to implement it on the server side may vary. HTTP uses strong validation by default, and it specifies when weak validation can be used.</p>

<h3 id="Strong_validation">Strong validation</h3>

<p id="sect1">Strong validation consists of guaranteeing that the resource is, byte to byte, identical to the one it is compared too. This is mandatory for some conditional headers, and the default for the others. Strong validation is very strict and may be difficult to guarantee at the server level, but it does guarantee no data loss at any time, sometimes at the expense of performance.</p>

<p>It is quite difficult to have a unique identifier for strong validation with <a href="/ru/docs/Web/HTTP/Headers/Last-Modified" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Last-Modified</code></a>. Often this is done using an <a href="/ru/docs/Web/HTTP/Headers/ETag" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>ETag</code></a> with the MD5 hash of the resource (or a derivative).</p>

<h3 id="Weak_validation">Weak validation</h3>

<p>Weak validation differs from strong validation, as it considers two versions of the document as identical if the content is equivalent. For example, a page that would differ from another only by a different date in its footer, or different advertising, would be considered <em>identical</em> to the other with weak validation. These same two versions are considered <em>different</em> when using strong validation. Building a system of etags that creates weak validation may be complex, as it involves knowing the importance of the different elements of a page, but is very useful towards optimizing cache performance.</p>

<h2 id="Conditional_headers">Conditional headers</h2>

<p>Several HTTP headers, called conditional headers, lead to conditional requests. These are:</p>

<dl>
 <dt><a href="/ru/docs/Web/HTTP/Headers/If-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Match</code></a></dt>
 <dd>Succeeds if the <a href="/ru/docs/Web/HTTP/Headers/ETag" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>ETag</code></a> of the distant resource is equal to one listed in this header. By default, unless the etag is prefixed with <code>&apos;W/&apos;</code>, it performs a strong validation.</dd>
 <dt><a href="/ru/docs/Web/HTTP/Headers/If-None-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-None-Match</code></a></dt>
 <dd>Succeeds if the <a href="/ru/docs/Web/HTTP/Headers/ETag" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>ETag</code></a> of the distant resource is different to each listed in this header. By default, unless the etag is prefixed with <code>&apos;W/&apos;</code>, it performs a strong validation.</dd>
 <dt><a href="/ru/docs/Web/HTTP/Headers/If-Modified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Modified-Since</code></a></dt>
 <dd>Succeeds if the <a href="/ru/docs/Web/HTTP/Headers/Last-Modified" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Last-Modified</code></a> date of the distant resource is more recent than the one given in this header.</dd>
 <dt><a href="/ru/docs/Web/HTTP/Headers/If-Unmodified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Unmodified-Since</code></a></dt>
 <dd>Succeeds if the <a href="/ru/docs/Web/HTTP/Headers/Last-Modified" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Last-Modified</code></a> date of the distant resource is older or the same than the one given in this header.</dd>
 <dt><a href="/ru/docs/Web/HTTP/Headers/If-Range" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Range</code></a></dt>
 <dd>Similar to <a href="/ru/docs/Web/HTTP/Headers/If-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Match</code></a>, or <a href="/ru/docs/Web/HTTP/Headers/If-Unmodified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Unmodified-Since</code></a>, but can have only one single etag, or one date. If it fails, the range request fails, and instead of a <a href="/ru/docs/Web/HTTP/Status/206" title="Ответ, содержащий один диапазон:"><code>206</code></a> <code>Partial Content</code> response, a <a href="/ru/docs/Web/HTTP/Status/200" title="Код ответа об успешном статусе &quot;The HTTP 200 OK&quot; указывает, что запрос выполнен успешно. Ответ 200 может кэшироваться по умолчанию."><code>200</code></a> <code>OK</code> is sent with the complete resource.</dd>
</dl>

<h2 id="Use_cases">Use cases</h2>

<h3 id="Cache_update">Cache update</h3>

<p>The most common use case for conditional requests is updating a cache. With an empty cache, or without a cache, the requested resource is sent back with a status of <a href="/ru/docs/Web/HTTP/Status/200" title="Код ответа об успешном статусе &quot;The HTTP 200 OK&quot; указывает, что запрос выполнен успешно. Ответ 200 может кэшироваться по умолчанию."><code>200</code></a> <code>OK</code>.</p>

<p><img src="https://mdn.mozillademos.org/files/13729/Cache1.png" alt="The request issued when the cache is empty triggers the resource to be downloaded, with both validator value sent as headers. The cache is then filled." style="height: 265px; width: 741px;"></p>

<p>Together with the resource, the validators are sent in the headers. In this example, both <a href="/ru/docs/Web/HTTP/Headers/Last-Modified" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Last-Modified</code></a> and <a href="/ru/docs/Web/HTTP/Headers/ETag" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>ETag</code></a> are sent, but it could equally have been only one of them. These validators are cached with the resource (like all headers) and will be used to craft conditional requests, once the cache becomes stale.</p>

<p>As long as the cache is not stale, no requests are issued at all. But once it has become stale, this is mostly controlled by the <a href="/ru/docs/Web/HTTP/Headers/Cache-Control" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Cache-Control</code></a> header, the client doesn&apos;t use the cached value directly but issues a <em>conditional request</em>. The value of the validator is used as a parameter of the <a href="/ru/docs/Web/HTTP/Headers/If-Modified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Modified-Since</code></a> and <a href="/ru/docs/Web/HTTP/Headers/If-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Match</code></a> headers.</p>

<p>If the resource has not changed, the server sends back a <a href="/ru/docs/Web/HTTP/Status/304" title="Код &quot;HTTP 304 Not Modified&quot; клиента указывает, что нет необходимости повторно передавать запрошенные ресурсы. Это неявное перенаправление на кэшированный ресурс. Это происходит, когда метод  safe, например GET или HEAD запрос или когда запрос является условным и использует If-None-Match или If-Modified-Since."><code>304</code></a> <code>Not Modified</code> response. This makes the cache fresh again, and the client uses the cached resource. Although there is a response/request round-trip that consumes some resources, this is more efficient than to transmit the whole resource over the wire again.</p>

<p><img src="https://mdn.mozillademos.org/files/13731/HTTPCache2.png" alt="With a stale cache, the conditional request is sent. The server can determine if the resource changed, and, as in this case, decide not to send it again as it is the same." style="height: 265px; width: 741px;"></p>

<p>If the resource has changed, the server just sends back a <a href="/ru/docs/Web/HTTP/Status/200" title="Код ответа об успешном статусе &quot;The HTTP 200 OK&quot; указывает, что запрос выполнен успешно. Ответ 200 может кэшироваться по умолчанию."><code>200</code></a><code> OK</code> response, with the new version of the resource, like if the request wasn&apos;t conditional and the client use this new resource (and caches it).</p>

<p><img src="https://mdn.mozillademos.org/files/13733/HTTPCache3.png" alt="In the case where the resource was changed, it is sent back as if the request wasn&apos;t conditional."></p>

<p>Besides the setting of the validators on the server side, this mechanism is transparent: all browsers manage a cache and send such conditional requests without any special work to be done by Web developers.</p>

<h3 id="Integrity_of_a_partial_download">Integrity of a partial download</h3>

<p>Partial downloading of files is a functionality of HTTP that allows to resume previous operations, saving bandwidth and time, by keeping the already obtained information:</p>

<p><img src="https://mdn.mozillademos.org/files/13735/HTTPResume1.png" alt="A download has been stopped and only partial content has been retrieved." style="height: 397px; width: 764px;"></p>

<p>A server supporting partial downloads broadcasts this by sending the <a href="/ru/docs/Web/HTTP/Headers/Accept-Ranges" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Accept-Ranges</code></a> header. Once this happens, the client can resume a download by sending a <a href="/ru/docs/Web/HTTP/Headers/Ranges" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Ranges</code></a> header with the missing ranges:</p>

<p><img src="https://mdn.mozillademos.org/files/13737/HTTPResume2.png" alt="The client resumes the requests by indicating the range he needs and preconditions checking the validators of the partially obtained request."></p>

<p>The principle is simple, but there is one potential problem: if the downloaded resource has been modified between both downloads, the obtained ranges will correspond to two different versions of the resource, and the final document will be corrupted.</p>

<p>To prevent this, conditional requests are used. For ranges, there are two ways of doing this. The more flexible one makes use of <a href="/ru/docs/Web/HTTP/Headers/If-Modified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Modified-Since</code></a> and <a href="/ru/docs/Web/HTTP/Headers/If-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Match</code></a> and the server returns an error if the precondition fails; the client then restarts the download from the beginning:</p>

<p><img src="https://mdn.mozillademos.org/files/13739/HTTPResume3.png" alt="When the partially downloaded resource has been modified, the preconditions will fail and the resource will have to be downloaded again completely."></p>

<p>Even if this method works, it adds an extra response/request exchange when the document has been changed. This impairs performance, and HTTP has a specific header to avoid this scenario: <a href="/ru/docs/Web/HTTP/Headers/If-Range" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Range</code></a>:</p>

<p><img src="https://mdn.mozillademos.org/files/13741/HTTPResume4.png" alt="The If-Range headers allows the server to directly send back the complete resource if it has been modified, no need to send a 412 error and wait for the client to re-initiate the download." style="height: 263px; width: 770px;"></p>

<p>This solution is more efficient, but slightly less flexible, as only one etag can be used in the condition. Rarely is such additional flexibility needed.</p>

<h3 id="Avoiding_the_lost_update_problem_with_optimistic_locking">Avoiding the lost update problem with optimistic locking</h3>

<p>A common operation in Web applications is to <em>update</em> a remote document. This is very common in any file system or source control applications, but any application that allows to store remote resources needs such a mechanism. Common Web sites, like wikis and other CMS, have such a need.</p>

<p>With the <a href="/ru/docs/Web/HTTP/Methods/PUT" title="Разница между PUT и POST в том, что PUT является идемпотентным, т.е. единичный и множественные вызовы этого метода, с идентичным набором данных, будут иметь тот же результат выполнения (без сторонних эффектов), в случае с POST, множественный вызов с идентичным набором данных может повлечь за собой сторонние эффекты."><code>PUT</code></a> method you are able to implement this. The client first reads the original files, modifies them, and finally pushes them to the server:</p>

<p><img src="https://mdn.mozillademos.org/files/13743/HTTPLock1.png" alt="Updating a file with a PUT is very simple when concurrency is not involved."></p>

<p>Unfortunately, things get a little inaccurate as soon as we take into account concurrency. While a client is locally modifying its new copy of the resource, a second client can fetch the same resource and do the same on its copy. What happens next is very unfortunate: when they commit back to the server, the modifications from the first client are discarded by the next client push, as this second client is unaware of the first client&apos;s changes to the resource. The decision on who wins, is not communicated to the other party. Which client&apos;s changes are to be kept, will vary with the speed they commit; this depends on the performance of the clients, of the server, and even of the human editing the document at the client. The winner will change from one time to the next. This is a <a href="/ru/docs/Glossary/race_condition" class="glossaryLink" title="Определение термина «race condition» ещё не написано; может быть, вы напишете?">race condition</a> and leads to problematic behaviors, which are difficult to detect and to debug:</p>

<p><img src="https://mdn.mozillademos.org/files/13749/HTTPLock2.png" alt="When several clients update the same resource in parallel, we are facing a race condition: the slowest win, and the others don&apos;t even know they lost. Problematic!" style="height: 504px; width: 904px;"></p>

<p>There is no way to deal with this problem without annoying one of the two clients. However, lost updates and race conditions are to be avoided. We want predictable results, and expect that the clients are notified when their changes are rejected.</p>

<p>Conditional requests allow implementing the <em>optimistic locking algorithm</em> (used by most wikis or source control systems). The concept is to allow all clients to get copies of the resource, then let them modify it locally, controlling concurrency by successfully allowing the first client submitting an update. All subsequent updates, based on the now obsolete version of the resource, are rejected:</p>

<p><img src="https://mdn.mozillademos.org/files/13751/HTTPLock3.png" alt="Conditional requests allow to implement optimistic locking: now the quickest wins, and the others get an error." style="height: 471px; width: 904px;"></p>

<p>This is implemented using the <a href="/ru/docs/Web/HTTP/Headers/If-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Match</code></a> or <a href="/ru/docs/Web/HTTP/Headers/If-Unmodified-Since" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-Unmodified-Since</code></a> headers. If the etag doesn&apos;t match the original file, or if the file has been modified since it has been obtained, the change is simply rejected with a <a href="/ru/docs/Web/HTTP/Status/412" title="The HTTP 412 Precondition Failed клиентский код ответа на ошибку указывает, что доступ к целевому ресурсу был отклонен. Это происходит с условными запросами на методы, отличные от  GET или HEAD, когда условие определено If-Unmodified-Since или {HTTPHeader(&quot;If-None-Match&quot;)}} не выполняется. В этом случае запрос, обычно загрузка или изменение ресурса, не может быть выполнен, и этот ответ об ошибке отправляется обратно."><code>412</code></a> <code>Precondition Failed</code> error. It is then up to the client to deal with the error: either by notifying the user to start again (this time on the newest version), or by showing the user a <em>diff </em>of both versions, helping them decide which changes they wish to keep.</p>

<h3 id="Dealing_with_the_first_upload_of_a_resource">Dealing with the first upload of a resource</h3>

<p>The first upload of a resource is an edge case of the previous. Like any update of a resource, it is subject to a race condition if two clients try to perform at the similar times. To prevent this, conditional requests can be used: by adding <a href="/ru/docs/Web/HTTP/Headers/If-None-Match" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>If-None-Match</code></a> with the special value of <code>&apos;*&apos;</code>, representing any etag. The request will succeed, only if the resource didn&apos;t exist before:</p>

<p><img src="https://mdn.mozillademos.org/files/13753/HTTPFirst.png" alt="Like for a regular upload, the first upload of a resource is subject to a race condition: If-None-Match can prevent it." style="height: 311px; width: 895px;"></p>

<p><code>If-None-Match</code> will only work with HTTP/1.1 (and later) compliant servers. If unsure if the server will be compliant, you need first to issue a <a href="/ru/docs/Web/HTTP/Methods/HEAD" title="HTTP-метод HEAD запрашивает заголовки, идентичные тем, что возвращаются, если указанный ресурс будет запрошен с помощью HTTP-метода GET. Такой запрос может быть выполнен перед загрузкой большого ресурса, например, для экономии пропускной способности."><code>HEAD</code></a> request to the resource to check this.</p>

<h2 id="Conclusion">Conclusion</h2>

<p>Conditional requests are a key feature of HTTP, and allow the building of efficient and complex applications. For caching or resuming downloads, the only work required for webmasters is to configure the server correctly; setting correct etags in some environments can be tricky. Once achieved, the browser will serve the expected conditional requests.</p>

<p>For locking mechanisms, it is the opposite: Web developers need to issue a request with the proper headers, while webmasters can mostly rely on the application to carry out the checks for them.</p>

<p>In both cases it&apos;s clear, conditional requests are a fundamental feature behind the Web.</p>
