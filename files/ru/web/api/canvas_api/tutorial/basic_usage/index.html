---
title: Базовое использование Canvas
slug: Web/API/Canvas_API/Tutorial/Basic_usage
tags:
  - Canvas
translation_of: Web/API/Canvas_API/Tutorial/Basic_usage
---
<div><section id="Quick_Links">
 <ol>
  <li><a href="/ru/docs/Web/API/Canvas_API"><strong>Canvas API</strong></a></li>
  <li class="toggle">
    <details open>
      <summary>Руководство по Canvas</summary>
      <ol>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Basic_usage">Базовое использование</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes">Рисование фигур</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors">Применение стилей и цветов</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Drawing_text">Рисование текста</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Using_images">Использование изображений</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Transformations">Трансформации</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Compositing">Композиция и обрезка</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Basic_animations">Простые анимации</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Advanced_animations">Расширенные анимации</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas">Манипуляция пикселями</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">Достижение областей и доступность</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas">Оптимизация canvas</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Finale">Заключение</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Примеры</summary>
      <ol>
        <li><a href="/ru/docs/Web/API/Canvas_API/A_basic_ray-caster">Простой излучатель лучей</a></li>
        <li><a href="/ru/Add-ons/Code_snippets/Canvas">Спиппеты кода Canvas</a></li>
        <li><a href="/ru/docs/Web/API/Canvas_API/Manipulating_video_using_canvas">Манипяция видео с помощью canvas</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Интерфейсы</summary>
      <ol>
        <li><a href="/ru/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a></li>
        <li><a href="/ru/docs/Web/API/CanvasRenderingContext2D"><code>CanvasRenderingContext2D</code></a></li>
        <li><a href="/ru/docs/Web/API/CanvasGradient"><code>CanvasGradient</code></a></li>
        <li><a href="/ru/docs/Web/API/CanvasPattern"><code>CanvasPattern</code></a></li>
        <li><a href="/ru/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a></li>
        <li><a href="/ru/docs/Web/API/ImageData"><code>ImageData</code></a></li>
        <li><a href="/ru/docs/Web/API/TextMetrics"><code>TextMetrics</code></a></li>
        <li><span class="sidebar-icon"><span class="icon-only-inline" title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span> <a href="/ru/docs/Web/API/Path2D"><code>Path2D</code></a></li>
      </ol>
    </details>
  </li>
  <li><strong><a href="/ru/docs/MDN">Документация:</a></strong></li>
  <li class="toggle">
    <details>
      <summary>Полезные списки</summary>
      <ol>
        <li><a href="/ru/docs/tag/Canvas">Страницы отмеченные &quot;Canvas&quot;</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Внести свой вклад</summary>
      <ol>
        <li><a href="/ru/docs/MDN/Doc_status/API/Canvas">Статус документации по Canvas</a></li>
        <li><a href="/ru/docs/MDN">Проект MDN</a></li>
      </ol>
    </details>
  </li>
 </ol>
</section> <div class="prevnext" style="text-align: right;">
    <p><a href="/ru/docs/Web/API/Canvas_API/Tutorial" style="float: left;" class="button">« Предыдущая статья</a><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes" class="button">Следующая статья  »</a></p>
</div></div>

<p class="summary">Давайте начнем этот урок с изучения элемента <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> как такового. В конце этой страницы Вы узнаете как устанавливать canvas 2D context и нарисуете первый пример в вашем браузере.</p>

<h2 id="Элемент_&lt;canvas&gt;">Элемент <code>&lt;canvas&gt;</code></h2>

<pre class="brush: html notranslate">&lt;canvas id=&quot;tutorial&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
</pre>

<p>Он выглядит как элемент <code>&lt;img&gt;</code>, но его отличие в том, что он не имеет атрибутов <code>src</code> и <code>alt</code>. Элемент <code>&lt;canvas&gt;</code> имеет только два атрибута - <strong>ширину</strong> и <strong>высоту</strong>. Оба они не обязательны и могут быть выставлены с использованием свойств <a href="/en-US/docs/DOM" rel="internal" title="en/DOM">DOM</a>. Если атрибуты высоты и ширины не установлены, canvas будет по умолчанию шириной <strong>300 пикселей</strong> и в высоту <strong>150 пикселей</strong>. Вы так же можете выставить размеры произвольно в <a href="/en-US/docs/Web/CSS" rel="internal" title="en/CSS">CSS</a>, но во время рендеринга изображение будет масштабироваться в соответствии с его размером и ориентацией.</p>

<div class="note notecard">
<p><strong>Примечание:</strong> Если вид вашего изображения кажется вам искаженным, попробуйте указать атрибуты ширины и высоты в явном виде в атрибутах &lt;canvas&gt; , а не с помощью CSS.</p>
</div>

<p>Атрибут id не специфичен для элемента <code>&lt;canvas&gt;,</code> но он может быть применен по умолчанию в атрибутах HTML, так как он может быть использован (почти) для любого элемента HTML (так же как класс). Это всегда отличная идея использовать <code>id</code>, так как это позволяет намного проще идентифицировать наш элемент в сценарии.</p>

<p>Элемент <code>&lt;canvas&gt;</code> может быть стилизован также, как любое изображение (margin, border, background, и т. д.). Эти правила, как бы то ни было, фактически не влияют на отрисовку в canvas. Мы увидим как это сделано позже в этом руководстве. Когда стили не указаны, canvas будет по умолчанию абсолютно прозрачным.</p>

<div id="section_2">
<h3 id="Запасное_содержимое">Запасное содержимое</h3>

<p>Из-за того, что старые браузеры (в особенности, версии Internet Explorer раннее чем 9) не поддерживают элемент <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a>, Вам следует предоставить запасное содержимое для отображения этими браузерами.</p>

<p>Это очень просто: мы всего лишь предоставляем альтернативное содержимое внутри элемента <code>&lt;canvas&gt;</code>. Браузеры, которые не поддерживают <code>&lt;canvas&gt;</code> проигнорируют container и отобразят запасное содержимое этого тега. Браузеры, которые поддерживают <code>&lt;canvas&gt;</code> проигнорируют запасное содержимое, и просто нормально отобразят canvas.</p>

<p>Например, мы можем предоставить текстовое описание содержимого canvas или предоставить статичное изображение динамически отображаемого содержимого. Это может выглядеть как-то так:</p>

<pre class="brush: html notranslate">&lt;canvas id=&quot;stockGraph&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;
  current stock price: $3.15 +0.15
&lt;/canvas&gt;

&lt;canvas id=&quot;clock&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;
  &lt;img src=&quot;images/clock.png&quot; width=&quot;150&quot; height=&quot;150&quot; alt=&quot;&quot;/&gt;
&lt;/canvas&gt;
</pre>

<p>Сообщать пользователю о том, что его браузер не поддерживает canvas не поможет тем, кто не может прочесть содержимое тега canvas, к примеру. Предоставление полезной информации в дополнительном canvas <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">делает этот тег более доступным для широкого использования.</a></p>

<h3 id="Требуется_тег_&lt;canvas&gt;"><span class="short_text" id="result_box" lang="ru"><span class="hps">Требуется</span> <span class="hps">тег </span></span><code>&lt;/canvas&gt;</code></h3>

<p>В отличии от элемента <a href="/ru/docs/Web/HTML/Element/img" title="HTML-элемент &lt;img&gt; встраивает изображение в документ. Это замещаемый элемент."><code>&lt;img&gt;</code></a>, элемент <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a>  <strong>требует</strong> закрывающийся тег (<code>&lt;/canvas&gt;</code>). Если этот тег не предоставлен, остаток документа будет считаться запасным контентом и не будет отображен.</p>

<p>Если запасной контент не нужен, простой  <code>&lt;canvas id=&quot;foo&quot; ...&gt;&lt;/canvas&gt;</code> полностью совместим со всеми браузерами, что поддерживают canvas.</p>

<h2 id="Рендеринг_содержимого_контекста">Рендеринг содержимого (контекста)</h2>

<p>Элемент <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> в документе создается с фиксированным размером элемента для рисования, который может иметь один или несколько контекстов для рендеринга, создавая и манипулируя содержимым для показа. В данном руководстве мы сфокусируемся на 2D рендеринге. Другие контексты могут предоставлять разные типы рендеринга, к примеру WebGl использует 3D контекст основанный на <a href="http://www.khronos.org/opengles/">OpenGL ES</a>.</p>

<p>Холст изначально пустой и прозрачный. Первым делом скрипт получает доступ к контексту и отрисовывает его. Элемент <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> имеет <a href="/en-US/docs/Web/API/HTMLCanvasElement#Method">метод</a> <code>getContext()</code>, используется для получения контекста визуализации и ее функции рисования. <code>getContext()</code> принимает один параметр, тип контекста. Для 2D графики, которая охвачена этим руководством будем использвать метку &quot;2d&quot;.</p>

<pre class="brush: js notranslate">var canvas = document.getElementById(&apos;tutorial&apos;);
var ctx = canvas.getContext(&apos;2d&apos;);
</pre>

<p>В первой строке скрипта мы получаем узел нашего холста <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a>, далее с помощью  <a href="/ru/docs/Web/API/Document/getContext"><code>document.getContext()</code></a> метода мы присваиваем ему контекст. Имея узел элемента , вы всегда можете получить для рисования контекст при помощи метода <code>getContext()</code>.</p>

<div id="section_5">
<h2 id="Проверка_поддержки">Проверка поддержки</h2>

<p>Ранее уже упоминалось, что в браузерах, которые не поддерживают <a href="/ru/docs/Web/HTML/Element/canvas" title="HTML &lt;canvas&gt; Элемент может быть использован для отрисовки графики через скрипты (обычно используется JavaScript). На пример, его можно использовать для отрисовки графиков, делать композиции фото или даже выполнять анимации. Вы можете (и должны) дать альтернативное содержание внури блока &lt;canvas&gt;. Этот контент будет рендерится в обоих браузерах, в старых которые не поддерживают canvas и в браузерах с отключённым JavaScript."><code>&lt;canvas&gt;</code></a> отображается запасное содержимое. Но помимо этого, определить, поддерживает ли браузер <code>canvas</code>, можно прямо из кода, проверив наличие метода <code>getContext()</code>. Код с запасным содержимым, который мы приводили Выше, становится следующим:</p>

<pre class="brush: js notranslate">var canvas = document.getElementById(&apos;tutorial&apos;);

if (canvas.getContext){
  var ctx = canvas.getContext(&apos;2d&apos;);
  // drawing code here
} else {
  // canvas-unsupported code here
}
</pre>
</div>
</div>

<h2 id="Скелет_шаблона">Скелет шаблона</h2>

<p>Здесь минимальный шаблон, который мы будем использовать как начальную точку для дальнейших примеров.</p>

<div class="note notecard">
<p><strong>Примечание:</strong> вставка скрипта внутрь HTML не является хорошей практикой. Мы делаем это здесь, чтобы сделать пример короче.</p>
</div>

<pre class="notranslate"><code>&lt;!DOCTYPE html&gt;</code>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Canvas tutorial&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      function draw(){
        var canvas = document.getElementById(&apos;tutorial&apos;);
        if (canvas.getContext){
          var ctx = canvas.getContext(&apos;2d&apos;);
        }
      }
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
      canvas { border: 1px solid black; }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body onload=&quot;draw();&quot;&gt;
    &lt;canvas id=&quot;tutorial&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Скрипт вызывает функцию draw(), которая выполнится, когда страница закончит загрузку. Это делается путем события <code><a href="/ru/docs/Web/Reference/Events/load" title="/ru/docs/Web/Reference/Events/load">load</a></code> в документе. Эта функция может быть вызвана как единожды, так и с помощью данных методов <a href="/ru/docs/Web/API/Window/setTimeout"><code>window.setTimeout()</code></a>, <a href="/ru/docs/Web/API/Window/setInterval"><code>window.setInterval()</code></a>, или любым другим обработчиком события, когда страница будет загружена.</p>

<p>Вот как шаблон будет выглядеть в действии.</p>

<p><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="160" id="frame_Скелет_шаблона" src="https://mdn.mozillademos.org/ru/docs/Web/API/Canvas_API/Tutorial/Basic_usage$samples/%D0%A1%D0%BA%D0%B5%D0%BB%D0%B5%D1%82_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B0?revision=1629348" width="160"></iframe></p>

<h2 id="Простой_пример">Простой пример</h2>

<p>Для начала, давайте посмотрим на простой пример, который рисует два пересекающихся прямоугольника, один из которых имеет прозрачность alpha. Мы изучим, как это работает более детально в последующих примерах.</p>

<pre class="notranslate"><code>&lt;!DOCTYPE html&gt;</code>
&lt;html&gt;
 &lt;head&gt;
  &lt;script type=&quot;application/javascript&quot;&gt;
    function draw() {
      var canvas = document.getElementById(&quot;canvas&quot;);
      if (canvas.getContext) {
        var ctx = canvas.getContext(&quot;2d&quot;);

        ctx.fillStyle = &quot;rgb(200,0,0)&quot;;
        ctx.fillRect (10, 10, 55, 50);

        ctx.fillStyle = &quot;rgba(0, 0, 200, 0.5)&quot;;
        ctx.fillRect (30, 30, 55, 50);
      }
    }
  &lt;/script&gt;
 &lt;/head&gt;
 &lt;body onload=&quot;draw();&quot;&gt;
   &lt;canvas id=&quot;canvas&quot; width=&quot;150&quot; height=&quot;150&quot;&gt;&lt;/canvas&gt;
 &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Этот пример выглядит так:</p>

<table class="sample-code-table"><thead><tr><th scope="col" style="text-align: center;">Screenshot</th><th scope="col" style="text-align: center;">Live sample</th></tr></thead><tbody><tr><td><img alt class="internal" src="https://mdn.mozillademos.org/files/228/canvas_ex1.png"></td><td><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="160" id="frame_Простой_пример" src="https://mdn.mozillademos.org/ru/docs/Web/API/Canvas_API/Tutorial/Basic_usage$samples/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B9_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80?revision=1629348" width="160"></iframe></td></tr></tbody></table>

<div class="prevnext" style="text-align: right;">
    <p><a href="/ru/docs/Web/API/Canvas_API/Tutorial" style="float: left;" class="button">« Предыдущая статья</a><a href="/ru/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes" class="button">Следующая статья  »</a></p>
</div>
