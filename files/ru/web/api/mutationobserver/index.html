---
title: MutationObserver
slug: Web/API/MutationObserver
tags:
  - API
  - Advanced
  - DOM
  - DOM Reference
  - NeedsContent
  - NeedsUpdate
  - Reference
translation_of: Web/API/MutationObserver
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/Document_Object_Model">Document Object Model</a></strong></li><li><strong><a href="/ru/docs/Web/API/MutationObserver"><code>MutationObserver</code></a></strong></li><li class="toggle"><details open><summary>Конструктор</summary><ol><li><a href="/ru/docs/Web/API/MutationObserver/MutationObserver"><code>MutationObserver()</code></a> <a href="/ru/docs/Web/API/MutationObserver/MutationObserver$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/MutationObserver/disconnect"><code>disconnect()</code></a> <a href="/ru/docs/Web/API/MutationObserver/disconnect$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MutationObserver/observe"><code>observe()</code></a> <a href="/ru/docs/Web/API/MutationObserver/observe$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MutationObserver/takeRecords"><code>takeRecords()</code></a> <a href="/ru/docs/Web/API/MutationObserver/takeRecords$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Похожие страницы для DOM</summary><ol><li><a href="/ru/docs/Web/API/AbortController"><code>AbortController</code></a></li><li><a href="/ru/docs/Web/API/AbortSignal"><code>AbortSignal</code></a></li><li><a href="/ru/docs/Web/API/AbstractRange"><code>AbstractRange</code></a></li><li><a href="/ru/docs/Web/API/Attr"><code>Attr</code></a></li><li><a href="/ru/docs/Web/API/ByteString"><code>ByteString</code></a></li><li><a href="/ru/docs/Web/API/CDATASection"><code>CDATASection</code></a></li><li><a href="/ru/docs/Web/API/CSSPrimitiveValue"><code>CSSPrimitiveValue</code></a></li><li><a href="/ru/docs/Web/API/CSSValue"><code>CSSValue</code></a></li><li><a href="/ru/docs/Web/API/CSSValueList"><code>CSSValueList</code></a></li><li><a href="/ru/docs/Web/API/CharacterData"><code>CharacterData</code></a></li><li><a href="/ru/docs/Web/API/ChildNode"><code>ChildNode</code></a></li><li><a href="/ru/docs/Web/API/Comment"><code>Comment</code></a></li><li><a href="/ru/docs/Web/API/CustomEvent"><code>CustomEvent</code></a></li><li><a href="/ru/docs/Web/API/DOMConfiguration"><code>DOMConfiguration</code></a></li><li><a href="/ru/docs/Web/API/DOMError"><code>DOMError</code></a></li><li><a href="/ru/docs/Web/API/DOMErrorHandler"><code>DOMErrorHandler</code></a></li><li><a href="/ru/docs/Web/API/DOMException"><code>DOMException</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementation"><code>DOMImplementation</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationList"><code>DOMImplementationList</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationRegistry"><code>DOMImplementationRegistry</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationSource"><code>DOMImplementationSource</code></a></li><li><a href="/ru/docs/Web/API/DOMLocator"><code>DOMLocator</code></a></li><li><a href="/ru/docs/Web/API/DOMObject"><code>DOMObject</code></a></li><li><a href="/ru/docs/Web/API/DOMParser"><code>DOMParser</code></a></li><li><a href="/ru/docs/Web/API/DOMPoint"><code>DOMPoint</code></a></li><li><a href="/ru/docs/Web/API/DOMPointInit"><code>DOMPointInit</code></a></li><li><a href="/ru/docs/Web/API/DOMPointReadOnly"><code>DOMPointReadOnly</code></a></li><li><a href="/ru/docs/Web/API/DOMRect"><code>DOMRect</code></a></li><li><a href="/ru/docs/Web/API/DOMString"><code>DOMString</code></a></li><li><a href="/ru/docs/Web/API/DOMTimeStamp"><code>DOMTimeStamp</code></a></li><li><a href="/ru/docs/Web/API/DOMTokenList"><code>DOMTokenList</code></a></li><li><a href="/ru/docs/Web/API/DOMUserData"><code>DOMUserData</code></a></li><li><a href="/ru/docs/Web/API/Document"><code>Document</code></a></li><li><a href="/ru/docs/Web/API/DocumentFragment"><code>DocumentFragment</code></a></li><li><a href="/ru/docs/Web/API/DocumentType"><code>DocumentType</code></a></li><li><a href="/ru/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/ru/docs/Web/API/ElementTraversal"><code>ElementTraversal</code></a></li><li><a href="/ru/docs/Web/API/Entity"><code>Entity</code></a></li><li><a href="/ru/docs/Web/API/EntityReference"><code>EntityReference</code></a></li><li><a href="/ru/docs/Web/API/Event"><code>Event</code></a></li><li><a href="/ru/docs/Web/API/EventTarget"><code>EventTarget</code></a></li><li><a href="/ru/docs/Web/API/HTMLCollection"><code>HTMLCollection</code></a></li><li><a href="/ru/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/ru/docs/Web/API/NodeFilter"><code>NodeFilter</code></a></li><li><a href="/ru/docs/Web/API/NodeIterator"><code>NodeIterator</code></a></li><li><a href="/ru/docs/Web/API/NodeList"><code>NodeList</code></a></li><li><a href="/ru/docs/Web/API/NonDocumentTypeChildNode"><code>NonDocumentTypeChildNode</code></a></li><li><a href="/ru/docs/Web/API/ProcessingInstruction"><code>ProcessingInstruction</code></a></li><li><a href="/ru/docs/Web/API/PromiseResolver"><code>PromiseResolver</code></a></li><li><a href="/ru/docs/Web/API/Range"><code>Range</code></a></li><li><a href="/ru/docs/Web/API/StaticRange"><code>StaticRange</code></a></li><li><a href="/ru/docs/Web/API/Text"><code>Text</code></a></li><li><a href="/ru/docs/Web/API/TextDecoder"><code>TextDecoder</code></a></li><li><a href="/ru/docs/Web/API/TextEncoder"><code>TextEncoder</code></a></li><li><a href="/ru/docs/Web/API/TimeRanges"><code>TimeRanges</code></a></li><li><a href="/ru/docs/Web/API/TreeWalker"><code>TreeWalker</code></a></li><li><a href="/ru/docs/Web/API/TypeInfo"><code>TypeInfo</code></a></li><li><a href="/ru/docs/Web/API/USVString"><code>USVString</code></a></li><li><a href="/ru/docs/Web/API/UserDataHandler"><code>UserDataHandler</code></a></li><li><a href="/ru/docs/Web/API/XMLDocument"><code>XMLDocument</code></a></li></ol></details></li></ol></section>

<p><code>MutationObserver</code> предоставляет возможность получать уведомления об изменении определённых <a href="/en-US/docs/DOM">DOM</a>-элементов. <code>MutationObserver</code> является заменой <a href="/en-US/docs/DOM/Mutation_events">Mutation Events</a>, определённой в спецификации DOM3 Events.</p>

<h2 id="Конструктор">Конструктор</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MutationObserver/MutationObserver"><code>MutationObserver()</code></a></dt>
 <dd>Создает и возвращает новый <code>MutationObserver</code>, который вызовет определенную функцию обратного вызова при изменении в DOM.</dd>
</dl>

<h2 id="Параметры">Параметры</h2>

<dl>
 <dt><code>callback</code></dt>
 <dd>Вызывается при каждом изменении DOM-элемента. Обзёрвер вызывает данную функцию с двумя аргументами. Первым аргументом является массив объектов <a href="/en-US/docs/Web/API/MutationRecord">MutationRecord</a>, вторым аргументом является экземпляр <code>MutationObserver.</code></dd>
</dl>

<h2 id="Методы_экземпляра">Методы экземпляра</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MutationObserver/disconnect"><code>disconnect()</code></a></dt>
 <dd>Прекращает получение уведомлений об изменении DOM-элемента экземпляром <code>MutationObserver</code>, до того момента пока не будет вызван метод <a href="#observe()">observe()</a>.</dd>
 <dt><a href="/ru/docs/Web/API/MutationObserver/observe"><code>observe()</code></a></dt>
 <dd>Подписывает экземпляр <code>MutationObserver</code> на получение уведомлений о манипуляциях с DOM-элементом.</dd>
 <dt><a href="/ru/docs/Web/API/MutationObserver/takeRecords"><code>takeRecords()</code></a></dt>
 <dd>Возвращает текущий <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> очереди экземпляра <code>MutationObserver</code>, затем очищает её.</dd>
</dl>

<h2 id="MutationObserverInit"><code>MutationObserverInit</code></h2>

<p><code>MutationObserverInit</code> — объект, который может содержать следующие свойства:</p>

<div class="note notecard"><strong>Примечание:</strong> Так или иначе необходимо установить <code>true</code> для одного из следующих cвойств: <code>childList</code>, <code>attributes</code>, <code>characterData</code>. В противном случае будет вызвана ошибка &quot;An invalid or illegal string was specified&quot;</div>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Property</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>childList</code></td>
   <td>
    <p>true, если необходимо наблюдать за добавлением или удалением дочерних элементов (Включая текстовые узлы (text nodes))</p>
   </td>
  </tr>
  <tr>
   <td><code>attributes</code></td>
   <td>
    <p>true, если необходимо наблюдать за изменениями атрибутов целевого элемента.</p>
   </td>
  </tr>
  <tr>
   <td><code>characterData</code></td>
   <td>
    <p>true, если необходимо наблюдать за изменениями значения текстового содержимого целевого узла (текстовых узлов дочернего элемента).</p>
   </td>
  </tr>
  <tr>
   <td><code>subtree</code></td>
   <td>
    <p>true, если необходимо наблюдать за потомками целевого элемента. </p>
   </td>
  </tr>
  <tr>
   <td><code>attributeOldValue</code></td>
   <td>
    <p>true, если необходимо возвращать предыдущее значение атрибута. </p>
   </td>
  </tr>
  <tr>
   <td><code>characterDataOldValue</code></td>
   <td>
    <p>true, если необходимо возвращать предыдущее значение Data атрибута. </p>
   </td>
  </tr>
  <tr>
   <td><code>attributeFilter</code></td>
   <td>
    <p>Устанавливает массив названий атрибутов (без указания пространства имен), если требуется наблюдать за изменениями конкретных атрибутов. </p>
   </td>
  </tr>
 </tbody>
</table>

<h2 id="Mutation_Observer_customize_resize_event_listener_demo">Mutation Observer &amp; customize resize event listener &amp; demo</h2>

<p><a href="https://codepen.io/webgeeker/full/YjrZgg/">https://codepen.io/webgeeker/full/YjrZgg/</a></p>

<h2 id="Пример_использования">Пример использования</h2>

<p>Приведённый ниже пример взят из <a href="http://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/">этого блога</a>.</p>

<pre class="brush: js notranslate">// Выбираем целевой элемент
var target = document.getElementById(&apos;some-id&apos;);

// Конфигурация observer (за какими изменениями наблюдать)
const config = {
    attributes: true,
    childList: true,
    subtree: true
};

// Функция обратного вызова при срабатывании мутации
const callback = function(mutationsList, observer) {
    for (let mutation of mutationsList) {
        if (mutation.type === &apos;childList&apos;) {
            console.log(&apos;A child node has been added or removed.&apos;);
        } else if (mutation.type === &apos;attributes&apos;) {
            console.log(&apos;The &apos; + mutation.attributeName + &apos; attribute was modified.&apos;);
        }
    }
};

// Создаем<code> </code>экземпляр наблюдателя с указанной функцией обратного вызова
const observer = new MutationObserver(callback);

// Начинаем наблюдение за настроенными изменениями целевого элемента<code>
observer.observe(target, config);

</code>// Позже можно остановить наблюдение<code>
observer.disconnect();</code>
</pre>

<h2 id="Specifications" name="Specifications">Спецификации</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарий</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://dom.spec.whatwg.org/#mutationobserver" hreflang="en" lang="en">DOM<br><small lang="ru">Определение &apos;MutationObserver&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td></td>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/dom/#mutationobserver" hreflang="en" lang="en">DOM4<br><small lang="ru">Определение &apos;MutationObserver&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Obsolete">Устаревшая</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="Поддержка_браузерами">Поддержка браузерами</h2>

<div class="bc-data" id="bcd:api.MutationObserver"></div>

<h2 id="Смотрите_также">Смотрите также</h2>

<ul>
 <li><a href="/ru/docs/Web/API/PerformanceObserver"><code>PerformanceObserver</code></a></li>
 <li><a href="/ru/docs/Web/API/ResizeObserver"><code>ResizeObserver</code></a></li>
 <li><a href="/ru/docs/Web/API/IntersectionObserver"><code>IntersectionObserver</code></a></li>
 <li><a href="http://updates.html5rocks.com/2012/02/Detect-DOM-changes-with-Mutation-Observers" rel="freelink">Краткий обзор</a></li>
 <li><a href="http://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/" rel="freelink">Более детальное обсуждение</a></li>
 <li><a href="http://www.youtube.com/watch?v=eRZ4pO0gVWw" rel="freelink">Скринкаст от разработчика Chromium Rafael Weinstein</a></li>
</ul>
