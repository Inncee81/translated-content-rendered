---
title: NodeList
slug: Web/API/NodeList
tags:
  - API
  - DOM
  - Interface
  - NodeList
translation_of: Web/API/NodeList
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/Document_Object_Model">Document Object Model</a></strong></li><li><strong><a href="/ru/docs/Web/API/NodeList"><code>NodeList</code></a></strong></li><li class="toggle"><details open><summary>Свойства</summary><ol><li><a href="/ru/docs/Web/API/NodeList/length"><code>length</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/length$translate">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/NodeList/entries"><code>entries()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/entries$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/API/NodeList/forEach"><code>forEach()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/forEach$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/API/NodeList/item"><code>item()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/item$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/API/NodeList/keys"><code>keys()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/keys$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/API/NodeList/values"><code>values()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/NodeList/values$translate">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Похожие страницы для DOM</summary><ol><li><a href="/ru/docs/Web/API/AbortController"><code>AbortController</code></a></li><li><a href="/ru/docs/Web/API/AbortSignal"><code>AbortSignal</code></a></li><li><a href="/ru/docs/Web/API/Attr"><code>Attr</code></a></li><li><a href="/ru/docs/Web/API/ByteString"><code>ByteString</code></a></li><li><a href="/ru/docs/Web/API/CDATASection"><code>CDATASection</code></a></li><li><a href="/ru/docs/Web/API/CSSPrimitiveValue"><code>CSSPrimitiveValue</code></a></li><li><a href="/ru/docs/Web/API/CSSValue"><code>CSSValue</code></a></li><li><a href="/ru/docs/Web/API/CSSValueList"><code>CSSValueList</code></a></li><li><a href="/ru/docs/Web/API/CharacterData"><code>CharacterData</code></a></li><li><a href="/ru/docs/Web/API/ChildNode"><code>ChildNode</code></a></li><li><a href="/ru/docs/Web/API/Comment"><code>Comment</code></a></li><li><a href="/ru/docs/Web/API/CustomEvent"><code>CustomEvent</code></a></li><li><a href="/ru/docs/Web/API/DOMConfiguration"><code>DOMConfiguration</code></a></li><li><a href="/ru/docs/Web/API/DOMError"><code>DOMError</code></a></li><li><a href="/ru/docs/Web/API/DOMErrorHandler"><code>DOMErrorHandler</code></a></li><li><a href="/ru/docs/Web/API/DOMException"><code>DOMException</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementation"><code>DOMImplementation</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationList"><code>DOMImplementationList</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationRegistry"><code>DOMImplementationRegistry</code></a></li><li><a href="/ru/docs/Web/API/DOMImplementationSource"><code>DOMImplementationSource</code></a></li><li><a href="/ru/docs/Web/API/DOMLocator"><code>DOMLocator</code></a></li><li><a href="/ru/docs/Web/API/DOMObject"><code>DOMObject</code></a></li><li><a href="/ru/docs/Web/API/DOMParser"><code>DOMParser</code></a></li><li><a href="/ru/docs/Web/API/DOMPoint"><code>DOMPoint</code></a></li><li><a href="/ru/docs/Web/API/DOMPointInit"><code>DOMPointInit</code></a></li><li><a href="/ru/docs/Web/API/DOMPointReadOnly"><code>DOMPointReadOnly</code></a></li><li><a href="/ru/docs/Web/API/DOMRect"><code>DOMRect</code></a></li><li><a href="/ru/docs/Web/API/DOMString"><code>DOMString</code></a></li><li><a href="/ru/docs/Web/API/DOMTimeStamp"><code>DOMTimeStamp</code></a></li><li><a href="/ru/docs/Web/API/DOMTokenList"><code>DOMTokenList</code></a></li><li><a href="/ru/docs/Web/API/DOMUserData"><code>DOMUserData</code></a></li><li><a href="/ru/docs/Web/API/Document"><code>Document</code></a></li><li><a href="/ru/docs/Web/API/DocumentFragment"><code>DocumentFragment</code></a></li><li><a href="/ru/docs/Web/API/DocumentType"><code>DocumentType</code></a></li><li><a href="/ru/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/ru/docs/Web/API/ElementTraversal"><code>ElementTraversal</code></a></li><li><a href="/ru/docs/Web/API/Entity"><code>Entity</code></a></li><li><a href="/ru/docs/Web/API/EntityReference"><code>EntityReference</code></a></li><li><a href="/ru/docs/Web/API/Event"><code>Event</code></a></li><li><a href="/ru/docs/Web/API/EventTarget"><code>EventTarget</code></a></li><li><a href="/ru/docs/Web/API/HTMLCollection"><code>HTMLCollection</code></a></li><li><a href="/ru/docs/Web/API/MutationObserver"><code>MutationObserver</code></a></li><li><a href="/ru/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/ru/docs/Web/API/NodeFilter"><code>NodeFilter</code></a></li><li><a href="/ru/docs/Web/API/NodeIterator"><code>NodeIterator</code></a></li><li><a href="/ru/docs/Web/API/NonDocumentTypeChildNode"><code>NonDocumentTypeChildNode</code></a></li><li><a href="/ru/docs/Web/API/ProcessingInstruction"><code>ProcessingInstruction</code></a></li><li><a href="/ru/docs/Web/API/PromiseResolver"><code>PromiseResolver</code></a></li><li><a href="/ru/docs/Web/API/Range"><code>Range</code></a></li><li><a href="/ru/docs/Web/API/Text"><code>Text</code></a></li><li><a href="/ru/docs/Web/API/TextDecoder"><code>TextDecoder</code></a></li><li><a href="/ru/docs/Web/API/TextEncoder"><code>TextEncoder</code></a></li><li><a href="/ru/docs/Web/API/TimeRanges"><code>TimeRanges</code></a></li><li><a href="/ru/docs/Web/API/TreeWalker"><code>TreeWalker</code></a></li><li><a href="/ru/docs/Web/API/TypeInfo"><code>TypeInfo</code></a></li><li><a href="/ru/docs/Web/API/USVString"><code>USVString</code></a></li><li><a href="/ru/docs/Web/API/UserDataHandler"><code>UserDataHandler</code></a></li><li><a href="/ru/docs/Web/API/XMLDocument"><code>XMLDocument</code></a></li></ol></details></li></ol></section></div>

<p>Объект <strong>NodeList </strong>— это коллекция узлов, возвращаемая такими методами, как <a href="/ru/docs/Web/API/Node/childNodes" title="ndList -- упорядоченная коллекция объектов элементов, которые являются детьми данного элемента. Если у элемента нет детей, ndList пуст."><code>Node.childNodes</code></a> и <a href="/ru/docs/Web/API/Document/querySelectorAll" title="Возвращает список элементов в пределах документа (поиск осуществляется в пределах указанного элемента), которые соответствуют указанной группе селекторов. Возвращает объект типа NodeList, содержащий все найденные элементы в том порядке, в котором они находятся в документе."><code>document.querySelectorAll</code></a>.</p>

<div class="note">
<p>Несмотря на то, что <code>NodeList</code> не является массивом ( <code>Array</code> ), его вполне возможно перебрать при помощи метода forEach(). NodeList также можно конвертировать в <code>Array</code> при помощи <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/from" title="Метод Array.from() создаёт новый экземпляр Array из массивоподобного или итерируемого объекта."><code>Array.from()</code></a></p>

<p>Однако некоторые старые браузеры на данный момент все еще не поддерживают <code>NodeList.forEach()</code> или <code>Array.from()</code>. Данные ограничения можно обойти, используя <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" title="Метод forEach() выполняет указанную функцию один раз для каждого элемента в массиве."><code>Array.prototype.forEach()</code></a> ( больше информации на этой странице ).</p>
</div>

<h2 id="Свойства">Свойства</h2>

<dl>
 <dt><code>length</code></dt>
 <dd>Количество элементов в NodeList.</dd>
</dl>

<h2 id="Методы">Методы</h2>

<dl>
 <dt><code><a href="/en-US/docs/DOM/NodeList.item" title="DOM/NodeList.item">item</a> ( idx )</code></dt>
 <dd>Возвращает элемент из списка по его индексу или <code>null</code>, если индекс выходит за границы допустимого диапазона. Может быть использован как альтернатива <code>nodeList[idx]</code>, возвращающему <code>undefined</code> при недопустимом <code>idx.</code></dd>
 <dt><code>entries()</code></dt>
 <dd>Возвращает <a href="/ru/docs/Web/JavaScript/Reference/Iteration_protocols" title="Одно из нововведений стандарта ECMAScript 2015 - протоколы перебора, которые могут реализованы любым объектом, соблюдая при этом определенные правила."><code>iterator</code></a>, позволяя перебрать все пары ключ/значение, содержащиеся в обьекте.</dd>
 <dt><code>forEach()</code></dt>
 <dd>Выполняет указанную функцию один раз для каждого элемента <code>NodeList</code></dd>
 <dt><font face="consolas, Liberation Mono, courier, monospace"><span style="background-color: rgba(220, 220, 220, 0.5);">keys()</span></font></dt>
 <dd>Возвращает <a href="/ru/docs/Web/JavaScript/Reference/Iteration_protocols" title="Одно из нововведений стандарта ECMAScript 2015 - протоколы перебора, которые могут реализованы любым объектом, соблюдая при этом определенные правила."><code>iterator</code></a>, позволяя перебрать все ключи каждой пары ключ/значение, содержащейся в обьекте.</dd>
 <dt><code>values()</code></dt>
 <dd>Возвращает <a href="/ru/docs/Web/JavaScript/Reference/Iteration_protocols" title="Одно из нововведений стандарта ECMAScript 2015 - протоколы перебора, которые могут реализованы любым объектом, соблюдая при этом определенные правила."><code>iterator</code></a>, позволяя перебрать все значения каждой пары ключ/значение, содержащейся в обьекте.</dd>
 <dt> </dt>
</dl>

<h2 id="Описание">Описание</h2>

<h3 id="Динамическая_коллекция">Динамическая коллекция</h3>

<p>В определённых случаях <code>NodeList</code> может являться <em>динамической коллекцией</em>. Это означает, что любые изменения в DOM тут же отражаются на коллекции. Примером подобной коллекции является <a href="/ru/docs/Web/API/Node/childNodes" title="ndList -- упорядоченная коллекция объектов элементов, которые являются детьми данного элемента. Если у элемента нет детей, ndList пуст."><code>Node.childNodes</code></a>:</p>

<pre class="brush: js">var parent = document.getElementById(&apos;parent&apos;);
var child_nodes = parent.childNodes;
console.log(child_nodes.length); // пусть равно &quot;2&quot;
parent.appendChild(document.createElement(&apos;div&apos;));
console.log(child_nodes.length); // выведет &quot;3&quot;
</pre>

<p>В других случаях <code>NodeList</code> является <em>статической коллекцией</em>. Это означает, что любые изменения в DOM не отражаются на его содержании. К примеру, <a href="/ru/docs/Web/API/Document/querySelectorAll" title="Возвращает список элементов в пределах документа (поиск осуществляется в пределах указанного элемента), которые соответствуют указанной группе селекторов. Возвращает объект типа NodeList, содержащий все найденные элементы в том порядке, в котором они находятся в документе."><code>document.querySelectorAll</code></a> возвращает статический <code>NodeList</code>.</p>

<p>Данное деление необходимо иметь в виду при выборе способа обхода элементов <code>NodeList</code>, а также сохранении длины списка в переменную.</p>

<h3 id="Отличия_NodeList_от_Array">Отличия <code>NodeList</code> от <code>Array</code></h3>

<p><code>NodeList</code> используется подобно массивам, и потому может возникнуть закономерное желание использовать в нём методы, предоставляемые <code>Array.prototype</code>. Однако <code>NodeList</code> не реализует методы, подобные таковым у <code>Array</code>.</p>

<p>В JavaScript существует механизм наследования, основанный на прототипах, применяемый как к встроенным («native») (таким как <code>Array</code>), так и «host»-объектам, предоставляемым средой исполнения (таким как <code>NodeList</code>) . Экземпляры класса <code>Array</code> получают свои методы (к примеру, <code>forEach </code>и <code>map</code>) из следующей цепочки наследования:</p>

<p><code>myArray --&gt; Array.prototype --&gt; Object.prototype --&gt; null</code> (Цепочка прототипов объекта может быть получена рекурсивным вызовом <span style="font-family: consolas,monaco,andale mono,monospace;">Object.getPrototypeOf</span>)</p>

<p><code>forEach</code>, <code>map</code>, ровно как и все остальные свойства принадлежат <code>Array.prototype</code>.</p>

<p>Цепочка же прототипов <code>NodeList</code> выглядит следующим образом:</p>

<p><code>myNodeList --&gt; NodeList.prototype --&gt; Object.prototype --&gt; null</code></p>

<p><code>NodeList.prototype</code> содержит метод <code>item</code>, но никак не остальные методы <code>Array.prototype</code>, поэтому они и не могут быть использованы с <code>NodeLists</code>.</p>

<h4 id="Обходные_пути">Обходные пути</h4>

<p>Один из способов решения данной проблемы — это копирование методов из <code>Array.prototype<font face="Open Sans, sans-serif"> в </font></code><code>NodeList.prototype</code>. Однако необходимо отдавать себе отчёт в том, что <a href="http://perfectionkills.com/whats-wrong-with-extending-the-dom/">расширение объектов DOM опасно, особенно в старых версиях Internet Explorer (6, 7, 8)</a>.</p>

<pre class="brush: js">var arrayMethods = Object.getOwnPropertyNames( Array.prototype );

arrayMethods.forEach( attachArrayMethodsToNodeList );

function attachArrayMethodsToNodeList(methodName)
{
  if(methodName !== &quot;length&quot;) {
    NodeList.prototype[methodName] = Array.prototype[methodName];
  }
};

var divs = document.getElementsByTagName( &apos;div&apos; );
var firstDiv = divs[ 0 ];

firstDiv.childNodes.forEach(function( divChild ){
  divChild.parentNode.style.color = &apos;#0F0&apos;;
});</pre>

<p>Другой подход — расширение непосредственно объектов DOM:</p>

<pre class="brush: js">var forEach = Array.prototype.forEach;

var divs = document.getElementsByTagName( &apos;div&apos; );
var firstDiv = divs[ 0 ];

forEach.call(firstDiv.childNodes, function( divChild ){
  divChild.parentNode.style.color = &apos;#0F0&apos;;
});
</pre>

<div class="note">
<p>Стоит отметить, что передача объектов среды (такого как <code>NodeList</code>) через <code>this</code> native-методу (такому как <code>forEach</code>) гарантированно работает не во всех браузерах и точно не работает в некоторых.</p>
</div>

<h2 id="Пример">Пример</h2>

<p>Элементы в <code>NodeList</code>, можно обработать следующим образом:</p>

<pre class="brush: js">for (var i = 0; i &lt; myNodeList.length; ++i) {
  var item = myNodeList[i];  // Вызов myNodeList.item(i) необязателен в JavaScript
}
</pre>

<p>Не следует использовать конструкции <code><a href="/en-US/docs/JavaScript/Reference/Statements/for...in" title="JavaScript/ Reference/Statements/for...in">for...in</a></code> или <code><a href="/en-US/docs/JavaScript/Reference/Statements/for_each...in" title="JavaScript/ Reference/Statements/for each...in">for each...in</a></code> для перечисления элементов списка. Эти способы также перечислят и свойства <code>length</code> и <code>item</code>, что приведёт к логическим ошибкам в случае, если скрипт ожидает  только объекты <a href="/ru/docs/Web/API/Node" title="Node это интерфейс, от которого наследуют несколько типов DOM, он так же позволяет различным типам быть обработанными(или протестированными)."><code>node</code></a>. Также <code>for..in</code> может перечислять свойства в любом порядке.</p>

<p>Циклы <code><a href="/en-US/docs/JavaScript/Reference/Statements/for...of" title="/en-US/docs/JavaScript/Reference/Statements/for...of">for...of</a></code> корректно перечисляют все объекты внутри <code>NodeList</code> в браузерах, в которых поддерживается <code>for...of </code>(например, Firefox 13 или выше):</p>

<pre class="brush: js">var list = document.querySelectorAll( &apos;input[type=checkbox]&apos; );
for (var item of list) {
  item.checked = true;
}</pre>

<h2 id="Конвертирование_NodeList_в_Array">Конвертирование <code>NodeList</code> в <code>Array</code></h2>

<p>Иногда удобнее работать с содержимым <code>NodeList</code>, используя методы <code>Array</code>. Ниже приведена техника преобразования <code>NodeList</code> к <code>Array</code>:</p>

<pre class="brush: js">var div_list = document.querySelectorAll(&apos;div&apos;); // returns NodeList
var div_array = Array.prototype.slice.call(div_list); // преобразует NodeList в Array</pre>

<h2 id="Спецификация">Спецификация</h2>

<ul>
 <li><a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-536297177">DOM Level 3</a></li>
</ul>
