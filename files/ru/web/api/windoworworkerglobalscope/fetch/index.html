---
title: WindowOrWorkerGlobalScope.fetch()
slug: Web/API/WindowOrWorkerGlobalScope/fetch
tags:
  - Справка
  - запрос
  - метод
translation_of: Web/API/WindowOrWorkerGlobalScope/fetch
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/Fetch_API">Fetch API</a></strong></li><li><strong><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope"><code>WindowOrWorkerGlobalScope</code></a></strong></li><li class="toggle"><details open><summary>Свойства</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/caches"><code>caches</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/crossOriginIsolated"><code>crossOriginIsolated</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/crossOriginIsolated$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/indexedDB"><code>indexedDB</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/indexedDB$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/isSecureContext"><code>isSecureContext</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/isSecureContext$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/origin"><code>origin</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/origin$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/atob"><code>atob()</code></a></li><li><a href="/ru/docs/Web/API/WindowBase64/btoa"><code>btoa()</code></a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval"><code>clearInterval()</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout"><code>clearTimeout()</code></a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap"><code>createImageBitmap()</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap$translate" style="opacity: 0.5;">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это экспериментальное API, которое не должно использоваться в рабочем коде."><i class="icon-beaker"> </i></span></span><em><code>fetch()</code></em></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask"><code>queueMicrotask()</code></a> <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/setInterval"><code>setInterval()</code></a></li><li><a href="/ru/docs/Web/API/WindowTimers/setTimeout"><code>setTimeout()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Выполняется:</summary><ol><li><a href="/ru/docs/Web/API/Window"><code>Window</code></a></li><li><a href="/ru/docs/Web/API/WorkerGlobalScope"><code>WorkerGlobalScope</code></a></li></ol></details></li><li class="toggle"><details open><summary>Похожие страницы для Fetch API</summary><ol><li><a href="/ru/docs/Web/API/Body"><code>Body</code></a></li><li><a href="/ru/docs/Web/API/Headers"><code>Headers</code></a></li><li><a href="/ru/docs/Web/API/Request"><code>Request</code></a></li><li><a href="/ru/docs/Web/API/Response"><code>Response</code></a></li><li><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>WindowOrWorkerGlobalScope.fetch()</code></a></li></ol></details></li></ol></section></div>

<p>Метод <code><strong>fetch()</strong></code> , относящийся к миксину <a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope"><code>WindowOrWorkerGlobalScope</code></a>, запускает процесс извлечения ресурса из сети. Возвращает promise, содержащий <a href="/ru/docs/Web/API/Response"><code>Response</code></a> объект (ответ на запрос).</p>

<p><code>WorkerOrGlobalScope</code> относится к <a href="/ru/docs/Web/API/Window"><code>Window</code></a> и <a href="/ru/docs/Web/API/WorkerGlobalScope"><code>WorkerGlobalScope</code></a> сразу. Это означает, что метод <code>fetch()</code> доступен практически в любом контексте, в котором бы вы не захотели получить ресурсы.</p>

<p><a href="/ru/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>Fetch()</code></a> promise (обещание) завершается <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>, если возникает сетевая ошибка, хотя обычно это означает проблему с доступами или аналогичную ей. Для успешного завершения <code>fetch()</code> достаточно удостовериться в том, что обещание выполнено и что свойство <a href="/ru/docs/Web/API/Response/ok"><code>Response.ok</code></a> имеет значение <code>true</code>. HTTP статус 404 не является сетевой ошибкой.</p>

<p>Метод <code>fetch()</code> контролируется директивой <code>connect-src</code> directive of <a href="/en-US/docs/Security/CSP/CSP_policy_directives">Content Security Policy</a> (политика безопасности контента), а не директивой ресурсов, которые извлекает.</p>

<div class="note notecard">
<p><strong>На Заметку</strong>: Аргументы метода <code>fetch()</code> идентичны аргументам <a href="/ru/docs/Web/API/Request/Request"><code>Request()</code></a> конструктора.</p>
</div>

<h2 id="Синтаксис">Синтаксис</h2>

<pre class="syntaxbox notranslate">Promise&lt;Response&gt; fetch(input[, init]);</pre>

<h3 id="Аргументы">Аргументы</h3>

<dl>
 <dt><em>input</em></dt>
 <dd>Определяет желаемый для получения ресурс. Это может быть:
 <ul>
  <li><a href="/ru/docs/Web/API/USVString"><code>USVString</code></a> (строка), содержащая прямую URL ссылку на ресурс. Некоторые браузеры принимают <code>blob:</code> и <code>data:</code> , как схемы.</li>
  <li><a href="/ru/docs/Web/API/Request"><code>Request</code></a> объект (объект ответа).</li>
 </ul>
 </dd>
 <dt><em>init</em> <span class="optional optionalInline notecard inline">Необязательный</span></dt>
 <dd>Объект с опциями, содержащий пользовательские настройки, которые вы желаете применить к запросу. Возможные варианты:
 <ul>
  <li><code>method</code>: Метод запроса, например, <code>GET</code>, <code>POST</code>.</li>
  <li><code>headers</code>: Заголовки, содержащиеся в объекте <a href="/ru/docs/Web/API/Headers"><code>Headers</code></a> или в объекте литерале с побитовыми значениями (<a href="/ru/docs/Web/API/ByteString"><code>ByteString</code></a>).</li>
  <li><code>body</code>: Тело запроса, которое может быть: <a href="/ru/docs/Web/API/Blob"><code>Blob</code></a>, <a href="/ru/docs/Web/API/BufferSource"><code>BufferSource</code></a>, <a href="/ru/docs/Web/API/FormData"><code>FormData</code></a>, <a href="/ru/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>, или <a href="/ru/docs/Web/API/USVString"><code>USVString</code></a> объектами. Обратите внимание, что <code>GET</code> или <code>HEAD</code> запрос не может иметь тела.</li>
  <li><code>mode</code>: Режим, например, <code>cors</code>, <code>no-cors</code> или <code>same-origin</code>.</li>
  <li><code>credentials</code>: Полномочия: <code>omit</code>, <code>same-origin</code> или <code>include</code>. Для автоматической отправки куки для текущего домена, эта опция должна быть указана. Начиная с Chrome 50, это свойство также принимает экземпляр класса <a href="/ru/docs/Web/API/FederatedCredential"><code>FederatedCredential</code></a> или  <a href="/ru/docs/Web/API/PasswordCredential"><code>PasswordCredential</code></a>.</li>
  <li><code>cache</code>: Режим кэширования запроса <code>default</code>, <code>no-store</code>, <code>reload</code>, <code>no-cache</code>, <code>force-cache</code> или <code>only-if-cached</code>.</li>
  <li><code>redirect</code>: Режим редиректа: <code>follow</code> (автоматически переадресовывать), <code>error</code> (прерывать перенаправление ошибкой) или <code>manual</code> (управлять перенаправлениями вручную). В Chrome по дефолту стоит <code>follow</code> (ранее, в Chrome 47, стояло <code>manual</code>).</li>
  <li><code>referrer</code>: <a href="/ru/docs/Web/API/USVString"><code>USVString</code></a>, определяющая <code>no-referrer</code>, <code>client</code> или a URL. Дефолтное значение - <code>client</code>.</li>
  <li><code>referrerPolicy</code>: Определяет значение HTTP заголовка реферера. Может быть: <code>no-referrer</code>, <code>no-referrer-when-downgrade</code>, <code>origin</code>, <code>origin-when-cross-origin</code>, <code>unsafe-url</code>.</li>
  <li><code>integrity</code>: Содержит значение целостности субресурсов (<a href="/en-US/docs/Web/Security/Subresource_Integrity">subresource integrity</a>) запроса (например, <code>sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=</code>).</li>
  <li><code>keepalive</code>: Эта опция может быть использована, чтобы разрешить запросу &quot;пережить&quot; страницу. Получение ресурсов с флагом <code>keepalive</code> - это альтернатива <a href="/ru/docs/Web/API/Navigator/sendBeacon"><code>Navigator.sendBeacon()</code></a> API. </li>
  <li><code>signal</code>: Экзмепляр объекта <a href="/ru/docs/Web/API/AbortSignal"><code>AbortSignal</code></a>; позволяет коммуницировать с fetch запросом и, если нужно, отменять его с помощью <a href="/ru/docs/Web/API/AbortController"><code>AbortController</code></a>.</li>
 </ul>
 </dd>
</dl>

<h3 id="Возвращаемое_значение">Возвращаемое значение</h3>

<p><a href="/ru/docs/Web/API/Promise"><code>Promise</code></a>, содержащий <a href="/ru/docs/Web/API/Response"><code>Response</code></a> объект (ответ на запрос).</p>

<h3 id="Исключения">Исключения</h3>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col"><strong>Тип</strong></th>
   <th scope="col"><strong>Описание</strong></th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>AbortError</code></td>
   <td>Запрос был отменен (используя <a href="/ru/docs/Web/API/AbortController/abort"><code>AbortController.abort()</code></a>).</td>
  </tr>
  <tr>
   <td><code>TypeError</code></td>
   <td>Начиная с версии <a href="/en-US/docs/Mozilla/Firefox/Releases/43">Firefox 43</a>, <code>fetch()</code> завершится ошибкой <code>TypeError</code>, если URL имеет такие полномочия, как <code>http://user:password@example.com</code>.</td>
  </tr>
 </tbody>
</table>

<h2 id="Пример">Пример</h2>

<p>В нашем <a href="https://github.com/mdn/fetch-examples/tree/master/fetch-request">Fetch Request примере</a> (см. <a href="https://mdn.github.io/fetch-examples/fetch-request/">Fetch Request live</a>) мы создаем новый объект <a href="/ru/docs/Web/API/Request"><code>Request</code></a> (запроса), используя релевантный конструктор, а затем получаем его вызовом <code>fetch()</code>. Так как запрашиваемый ресурс - изображение, для того, чтобы присвоить ему подходящий MIME тип и обработать должным образом, мы применяем к ответу метод <a href="/ru/docs/Web/API/Body/blob"><code>Body.blob()</code></a>, после чего создаем для него Object URL и передаем ее в элемент <a href="/ru/docs/Web/HTML/Element/img" title="HTML-элемент &lt;img&gt; встраивает изображение в документ. Это замещаемый элемент."><code>&lt;img&gt;</code></a>.</p>

<pre class="brush: js notranslate">var myImage = document.querySelector(&apos;img&apos;);

var myRequest = new Request(&apos;flowers.jpg&apos;);

fetch(myRequest).then(function(response) {
  return response.blob();
}).then(function(response) {
  var objectURL = URL.createObjectURL(response);
  myImage.src = objectURL;
});</pre>

<p>В нашем <a href="https://github.com/mdn/fetch-examples/blob/master/fetch-with-init-then-request/index.html">Fetch with init then Request примере</a> (см. <a href="https://mdn.github.io/fetch-examples/fetch-with-init-then-request/">Fetch Request init live</a>) мы делаем тоже самое, за исключением того, что передаем в качестве аргумента для <code>fetch()</code> объект init:</p>

<pre class="brush: js notranslate">var myImage = document.querySelector(&apos;img&apos;);

var myHeaders = new Headers();
myHeaders.append(&apos;Content-Type&apos;, &apos;image/jpeg&apos;);

var myInit = { method: &apos;GET&apos;,
               headers: myHeaders,
               mode: &apos;cors&apos;,
               cache: &apos;default&apos; };

var myRequest = new Request(&apos;flowers.jpg&apos;);

fetch(myRequest,myInit).then(function(response) {
  ...
});</pre>

<p>Обратите внимание, что объект init в качестве аргумента можно передать и в конструктор <code>Request</code> для получения аналогичного результата, например:</p>

<pre class="brush: js notranslate">var myRequest = new Request(&apos;flowers.jpg&apos;, myInit);</pre>

<p>Допустимо использования объекта литерала в качестве <code>headers</code> в <code>init</code>.</p>

<pre class="brush: js notranslate">var myInit = { method: &apos;GET&apos;,
               headers: {
                   &apos;Content-Type&apos;: &apos;image/jpeg&apos;
               },
               mode: &apos;cors&apos;,
               cache: &apos;default&apos; };

var myRequest = new Request(&apos;flowers.jpg&apos;, myInit);
</pre>

<h2 id="Спецификации">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарий</th>
  </tr>
  <tr>
   <td><a class="external" href="https://fetch.spec.whatwg.org/#fetch-method" hreflang="en" lang="en">Fetch<br><small lang="ru">Определение &apos;fetch()&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>Частично определена в новейшей спецификации <code>WindowOrWorkerGlobalScope</code>.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://fetch.spec.whatwg.org/#dom-global-fetch" hreflang="en" lang="en">Fetch<br><small lang="ru">Определение &apos;fetch()&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>Первоначальное определение</td>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/webappsec-credential-management/" hreflang="en" lang="en">Credential Management Level 1</a></td>
   <td><span class="spec-WD">Рабочий черновик</span></td>
   <td>Добавлена возможность установить экземпляр класса <a href="/ru/docs/Web/API/FederatedCredential"><code>FederatedCredential</code></a> или <a href="/ru/docs/Web/API/PasswordCredential"><code>PasswordCredential</code></a> как возможное значение для <code>init.credentials</code>.</td>
  </tr>
 </tbody>
</table>

<h2 id="Совместимость_с_браузерами">Совместимость с браузерами</h2>

<div class="hidden">Таблица совместимости на этой странице была создана из структурированных данных. Если вы желаете поспособствовать, пожалуйста проверьте <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> и отправьте нам pull request.</div>

<div class="bc-data" id="bcd:api.WindowOrWorkerGlobalScope.fetch"></div>

<h2 id="Смотрите_также">Смотрите также</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Fetch_API">Fetch API</a></li>
 <li><a href="/en-US/docs/Web/API/ServiceWorker_API">ServiceWorker API</a></li>
 <li><a href="/en-US/docs/Web/HTTP/Access_control_CORS">HTTP access control (CORS)</a></li>
 <li><a href="/en-US/docs/Web/HTTP">HTTP</a></li>
</ul>
