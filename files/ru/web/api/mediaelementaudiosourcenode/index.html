---
title: MediaElementAudioSourceNode
slug: Web/API/MediaElementAudioSourceNode
translation_of: Web/API/MediaElementAudioSourceNode
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/Web_Audio_API">Web Audio API</a></strong></li><li><strong><a href="/ru/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a></strong></li><li class="toggle"><details open><summary>Конструктор</summary><ol><li><a href="/ru/docs/Web/API/MediaElementAudioSourceNode/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/API/MediaElementAudioSourceNode/MediaElementAudioSourceNode$translate">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Наследование:</summary><ol><li><a href="/ru/docs/Web/API/AudioNode"><code>AudioNode</code></a></li><li><a href="/ru/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>События</summary><ol><li><a href="/ru/docs/Web/Events/statechange"><code>statechange</code></a></li><li><a href="/ru/docs/Web/Events/complete"><code>complete</code></a></li><li><a href="/ru/docs/Web/Events/ended"><code>ended</code></a></li><li><a href="/ru/docs/Web/Events/message"><code>message</code></a></li><li><a href="/ru/docs/Web/Events/loaded"><code>loaded</code></a></li><li><a href="/ru/docs/Web/Events/audioprocess"><code>audioprocess</code></a></li><li><a href="/ru/docs/Web/Events/nodecreate"><code>nodecreate</code></a></li></ol></details></li><li class="toggle"><details open><summary>Похожие страницы для Web Audio API</summary><ol><li><a href="/ru/docs/Web/API/AnalyserNode"><code>AnalyserNode</code></a></li><li><a href="/ru/docs/Web/API/AudioBuffer"><code>AudioBuffer</code></a></li><li><a href="/ru/docs/Web/API/AudioBufferSourceNode"><code>AudioBufferSourceNode</code></a></li><li><a href="/ru/docs/Web/API/AudioContext"><code>AudioContext</code></a></li><li><a href="/ru/docs/Web/API/AudioContextOptions"><code>AudioContextOptions</code></a></li><li><a href="/ru/docs/Web/API/AudioDestinationNode"><code>AudioDestinationNode</code></a></li><li><a href="/ru/docs/Web/API/AudioListener"><code>AudioListener</code></a></li><li><a href="/ru/docs/Web/API/AudioNode"><code>AudioNode</code></a></li><li><a href="/ru/docs/Web/API/AudioNodeOptions"><code>AudioNodeOptions</code></a></li><li><a href="/ru/docs/Web/API/AudioParam"><code>AudioParam</code></a></li><li><a href="/ru/docs/Web/API/AudioProcessingEvent"><code>AudioProcessingEvent</code></a></li><li><a href="/ru/docs/Web/API/AudioScheduledSourceNode"><code>AudioScheduledSourceNode</code></a></li><li><a href="/ru/docs/Web/API/BaseAudioContext"><code>BaseAudioContext</code></a></li><li><a href="/ru/docs/Web/API/BiquadFilterNode"><code>BiquadFilterNode</code></a></li><li><a href="/ru/docs/Web/API/ChannelMergerNode"><code>ChannelMergerNode</code></a></li><li><a href="/ru/docs/Web/API/ChannelSplitterNode"><code>ChannelSplitterNode</code></a></li><li><a href="/ru/docs/Web/API/ConstantSourceNode"><code>ConstantSourceNode</code></a></li><li><a href="/ru/docs/Web/API/ConvolverNode"><code>ConvolverNode</code></a></li><li><a href="/ru/docs/Web/API/DelayNode"><code>DelayNode</code></a></li><li><a href="/ru/docs/Web/API/DynamicsCompressorNode"><code>DynamicsCompressorNode</code></a></li><li><a href="/ru/docs/Web/API/GainNode"><code>GainNode</code></a></li><li><a href="/ru/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code></a></li><li><a href="/ru/docs/Web/API/MediaStreamAudioDestinationNode"><code>MediaStreamAudioDestinationNode</code></a></li><li><a href="/ru/docs/Web/API/MediaStreamAudioSourceNode"><code>MediaStreamAudioSourceNode</code></a></li><li><a href="/ru/docs/Web/API/OfflineAudioCompletionEvent"><code>OfflineAudioCompletionEvent</code></a></li><li><a href="/ru/docs/Web/API/OfflineAudioContext"><code>OfflineAudioContext</code></a></li><li><a href="/ru/docs/Web/API/OscillatorNode"><code>OscillatorNode</code></a></li><li><a href="/ru/docs/Web/API/PannerNode"><code>PannerNode</code></a></li><li><a href="/ru/docs/Web/API/PeriodicWave"><code>PeriodicWave</code></a></li><li><a href="/ru/docs/Web/API/StereoPannerNode"><code>StereoPannerNode</code></a></li><li><a href="/ru/docs/Web/API/WaveShaperNode"><code>WaveShaperNode</code></a></li></ol></details></li></ol></section><p></p>

<div>
<p>Интерфейс <code>MediaElementAudioSourceNode</code> представляет собой аудио узел <a href="/ru/docs/Web/API/AudioNode" title><code>AudioNode</code></a>, созданный из HTML5 <a href="/ru/docs/Web/HTML/Element/audio" title="HTML &lt;audio&gt; элемент используется для встраивания аудиоконтента в документы. Он может содержать один или несколько аудио-источников, представленных при помощи аттрибута src или при помощи &lt;source&gt; элемента; браузер будет выбирать наиболее подходящий источник."><code>&lt;audio&gt;</code></a> или <a href="/ru/docs/Web/HTML/Element/video" title="Для встраивания видео контента в документ используйте элемент HTML &lt;video&gt;. Видео элемент может содержать один или несколько источников видео. Чтобы указать источник видео, необходимо использовать атрибут src или элемент &lt;source&gt;; браузер сам определит наиболее подходящий источник."><code>&lt;video&gt;</code></a> элемента. Он является источником звука.</p>
</div>

<p><code>MediaElementSourceNode</code> не имеет входов, а только один выход, и может быть создан методом <a href="/ru/docs/Web/API/AudioContext/createMediaElementSource" title="Узнать больше о созданном таким образом аудио узле можно на справочной странице MediaElementAudioSourceNode."><code>AudioContext.createMediaElementSource</code></a>. Количество каналов в выходном сигнале равно числу каналов аудио, на которое ссылается <a href="/ru/docs/Web/API/HTMLMediaElement" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>HTMLMediaElement</code></a> используемый для создания узла, или 1, если <a href="/ru/docs/Web/API/HTMLMediaElement" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>HTMLMediaElement</code></a> не имеет аудио.</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">Количество входов</th>
   <td><code>0</code></td>
  </tr>
  <tr>
   <th scope="row">Количество выходов</th>
   <td><code>1</code></td>
  </tr>
  <tr>
   <th scope="row">Количество каналов</th>
   <td>зависит от содержимого медиа элемента <a href="/ru/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a>, переданному методу <a href="/ru/docs/Web/API/AudioContext/createMediaElementSource"><code>AudioContext.createMediaElementSource</code></a> при создании узла.</td>
  </tr>
 </tbody>
</table>

<h2 id="Свойства">Свойства</h2>

<p><em>Наследует свойства родителя, </em><em><a href="/ru/docs/Web/API/AudioNode" title><code>AudioNode</code></a></em>.</p>

<h2 id="Методы">Методы</h2>

<p><em>Наследует методы родителя, </em><em><a href="/ru/docs/Web/API/AudioNode" title><code>AudioNode</code></a></em>.</p>

<h2 id="Пример">Пример</h2>

<p></p><p>This simple example creates a source from an <a href="/en-US/docs/Web/HTML/Element/audio" title="The HTML &lt;audio&gt; element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the &lt;source&gt; element: the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream."><code>&lt;audio&gt;</code></a> element using <code>createMediaElementSource()</code>, then passes the audio through a <a href="/en-US/docs/Web/API/GainNode" title="The GainNode interface represents a change in volume. It is an AudioNode audio-processing module that causes a given gain to be applied to the input data before its propagation to the output. A GainNode always has exactly one input and one output, both with the same number of channels."><code>GainNode</code></a> before feeding it into the <a href="/en-US/docs/Web/API/AudioDestinationNode" title="AudioDestinationNode has no output (as it is the output, no more AudioNode can be linked after it in the audio graph) and one input. The number of channels in the input must be between 0 and the maxChannelCount value or an exception is raised."><code>AudioDestinationNode</code></a> for playback. When the mouse pointer is moved, the <code>updatePage()</code> function is invoked, which calculates the current gain as a ratio of mouse Y position divided by overall window height. You can therefore increase and decrease the volume of the playing music by moving the mouse pointer up and down.</p>

<div class="note">
<p><strong>Note</strong>: You can also <a href="http://mdn.github.io/webaudio-examples/media-source-buffer/">view this example running live</a>, or <a href="https://github.com/mdn/webaudio-examples/tree/master/media-source-buffer">view the source</a>.</p>
</div>

<pre class="brush: js">var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
var myAudio = document.querySelector(&apos;audio&apos;);
var pre = document.querySelector(&apos;pre&apos;);
var myScript = document.querySelector(&apos;script&apos;);

pre.innerHTML = myScript.innerHTML;

// Create a MediaElementAudioSourceNode
// Feed the HTMLMediaElement into it
var source = audioCtx.createMediaElementSource(myAudio);

// Create a gain node
var gainNode = audioCtx.createGain();

// Create variables to store mouse pointer Y coordinate
// and HEIGHT of screen
var CurY;
var HEIGHT = window.innerHeight;

// Get new mouse pointer coordinates when mouse is moved
// then set new gain value

document.onmousemove = updatePage;

function updatePage(e) {
    CurY = (window.Event) ? e.pageY : event.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);

    gainNode.gain.value = CurY/HEIGHT;
}


// connect the AudioBufferSourceNode to the gainNode
// and the gainNode to the destination, so we can play the
// music and adjust the volume using the mouse cursor
source.connect(gainNode);
gainNode.connect(audioCtx.destination);</pre>

<div class="note">
<p><strong>Note</strong>: As a consequence of calling <code>createMediaElementSource()</code>, audio playback from the <a href="/en-US/docs/Web/API/HTMLMediaElement" title="The HTMLMediaElement interface adds to HTMLElement the properties and methods needed to support basic media-related capabilities that are common to audio and video."><code>HTMLMediaElement</code></a> will be re-routed into the processing graph of the AudioContext. So playing/pausing the media can still be done through the media element API and the player controls.</p>
</div><p></p>

<h2 id="Спецификация">Спецификация</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарий</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://webaudio.github.io/web-audio-api/#the-mediaelementaudiosourcenode-interface" class="external" hreflang="en">Web Audio API<br><small lang="ru">Определение &apos;MediaElementAudioSourceNode&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-WD">Рабочий черновик</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Поддержка_в_браузерах">Поддержка в браузерах</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/ru/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Настольные</a></li>
        <li><a>Мобильные</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Возможность</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Базовая поддержка</td>
   <td>14 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ru/docs/Web/Guide/Prefixes">webkit</a></span></td>
   <td><a href="/en-US/Firefox/Releases/25">25</a> (25)</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td>15 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ru/docs/Web/Guide/Prefixes">webkit</a></span><br>
    22 (unprefixed)</td>
   <td>6 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ru/docs/Web/Guide/Prefixes">webkit</a></span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Возможность</th>
   <th>Android</th>
   <th>Chrome</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Базовая поддержка</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td>28 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ru/docs/Web/Guide/Prefixes">webkit</a></span></td>
   <td>25.0 (25)</td>
   <td>1.2</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
   <td>6 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ru/docs/Web/Guide/Prefixes">webkit</a></span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="Смотрите_также">Смотрите также</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li>
</ul>
