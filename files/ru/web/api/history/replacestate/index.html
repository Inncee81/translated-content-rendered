---
title: History.replaceState()
slug: Web/API/History/replaceState
translation_of: Web/API/History/replaceState
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/History_API">History API</a></strong></li><li><strong><a href="/ru/docs/Web/API/History"><code>History</code></a></strong></li><li class="toggle"><details open><summary>Свойства</summary><ol><li><a href="/ru/docs/Web/API/History/length"><code>length</code></a></li><li><a href="/ru/docs/Web/API/History/scrollRestoration"><code>scrollRestoration</code></a> <a href="/ru/docs/Web/API/History/scrollRestoration$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/History/state"><code>state</code></a> <a href="/ru/docs/Web/API/History/state$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/History/back"><code>back()</code></a> <a href="/ru/docs/Web/API/History/back$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/History/forward"><code>forward()</code></a> <a href="/ru/docs/Web/API/History/forward$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/History/go"><code>go()</code></a></li><li><a href="/ru/docs/Web/API/History/pushState"><code>pushState()</code></a></li><li><em><code>replaceState()</code></em></li></ol></details></li></ol></section></div>

<p>Метод <strong><code>History.replaceState()</code> </strong>изменяет текущую запись в истории, заменяя её на значения <code>stateObj</code>, <code>title</code> и <code>URL</code>, передаваемые в параметрах метода. Данный метод особенно полезен, когда вы хотите обновить объект состояния или URL текущей записи в истории в ответ на какое-то действие пользователя.</p>

<h2 id="Синтаксис">Синтаксис</h2>

<pre class="syntaxbox notranslate">history.replaceState(<em>stateObj</em>, <em>title</em>, [<em>url</em>])</pre>

<h3 id="Параметры">Параметры</h3>

<dl>
 <dt><code>stateObj</code></dt>
 <dd>Объект состояния – это JavaScript-объект, связанный с записью в истории, переданной в метод <code>replaceState()</code>. Объект состояния может быть <code>null</code>.</dd>
 <dt><code>title</code></dt>
 <dd>Заголовок - <a href="https://github.com/whatwg/html/issues/2174" rel="noopener">все браузеры, кроме Safari, на данный момент игнорируют этот параметр</a>, но могут начать использовать в будущем. Ввиду будущих изменений метода, безопасным решением является передача пустой строки. В качестве альтернативы вы можете передать короткий заголовок для состояни, в которое переходите.</dd>
 <dt><code>url</code> <span class="optional optionalInline notecard inline">Необязательный</span></dt>
 <dd>URL-адрес записи в истории. Новый URL должен вести на тот же домен, протокол и порт, иначе pushState() выдаст исключение.</dd>
</dl>

<h2 id="Примеры">Примеры</h2>

<p>Предположим, на странице <code>http://mozilla.org/foo.html</code> выполняется следующий JavaScript-код:</p>

<pre class="notranslate">let stateObj = { foo: &quot;bar&quot; }
history.pushState(stateObj, &quot;page 2&quot;, &quot;bar.html&quot;)
</pre>

<p>Объяснение этих двух строк можно найти в приведённом выше разделе <em><a href="#Example_of_pushState_method">пример метода pushState()</a></em>.</p>

<p>Далее, предположим, на странице <code>http://mozilla.org/bar.html</code> выполняется JavaScript-код:</p>

<pre class="notranslate">history.replaceState(stateObj, &quot;page 3&quot;, &quot;bar2.html&quot;)
</pre>

<p>Это приведёт к тому, что в URL-строке отобразится адрес <code>http://mozilla.org/bar2.html</code>, но браузер не станет сразу загружать <code>bar2.html</code> и даже не станет проверять наличие этой страницы <code>bar2.html</code>.</p>

<p>Теперь предположим, что пользователь переходит по адресу <code>http://www.microsoft.com</code>, а затем нажимает на кнопку <strong>&quot;Назад&quot;</strong>. В этом случае в URL-строке отобразится <code>http://mozilla.org/bar2.html</code>. Если же пользователь снова нажмёт на кнопку <strong>&quot;Назад&quot;</strong>, в URL-строке отобразится <code>http://mozilla.org/foo.html</code> и полностью обойдёт <code>bar.html</code>.</p>

<h2 id="Спецификации">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/history.html#dom-history-replacestate" hreflang="en" lang="en">HTML Living Standard<br><small lang="ru">Определение &apos;History.replaceState()&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>No change from <a class="external" href="https://www.w3.org/TR/html52/" hreflang="en" lang="en" title="Спецификация &apos;HTML5&apos;">HTML5</a>.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/html52/history.html#dom-history-replacestate" hreflang="en" lang="en">HTML5<br><small lang="ru">Определение &apos;History.replaceState()&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-REC">Рекомендация</span></td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="Совместимость_с_браузерами">Совместимость с браузерами</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.History.replaceState"></div>
