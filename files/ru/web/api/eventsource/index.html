---
title: EventSource
slug: Web/API/EventSource
translation_of: Web/API/EventSource
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/Websockets_API">Websockets API</a></strong></li><li><strong><a href="/ru/docs/Web/API/EventSource"><code>EventSource</code></a></strong></li><li class="toggle"><details open><summary>Конструктор</summary><ol><li><a href="/ru/docs/Web/API/EventSource/EventSource"><code>EventSource()</code></a> <a href="/ru/docs/Web/API/EventSource/EventSource$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Свойства</summary><ol><li><a href="/ru/docs/Web/API/EventSource/onerror"><code>onerror</code></a> <a href="/ru/docs/Web/API/EventSource/onerror$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/onmessage"><code>onmessage</code></a> <a href="/ru/docs/Web/API/EventSource/onmessage$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/onopen"><code>onopen</code></a> <a href="/ru/docs/Web/API/EventSource/onopen$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/readyState"><code>readyState</code></a> <a href="/ru/docs/Web/API/EventSource/readyState$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/url"><code>url</code></a> <a href="/ru/docs/Web/API/EventSource/url$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/withCredentials"><code>withCredentials</code></a> <a href="/ru/docs/Web/API/EventSource/withCredentials$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/EventSource/close"><code>close()</code></a> <a href="/ru/docs/Web/API/EventSource/close$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>События</summary><ol><li><a href="/ru/docs/Web/API/EventSource/error_event"><code>error</code></a> <a href="/ru/docs/Web/API/EventSource/error_event$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/message_event"><code>message</code></a> <a href="/ru/docs/Web/API/EventSource/message_event$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/EventSource/open_event"><code>open</code></a> <a href="/ru/docs/Web/API/EventSource/open_event$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Наследование:</summary><ol><li><a href="/ru/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Похожие страницы для Websockets API</summary><ol><li><a href="/ru/docs/Web/API/CloseEvent"><code>CloseEvent</code></a></li><li><a href="/ru/docs/Web/API/MessageEvent"><code>MessageEvent</code></a></li><li><a href="/ru/docs/Web/API/WebSocket"><code>WebSocket</code></a></li></ol></details></li></ol></section>

<p><code><font face="Open Sans, Arial, sans-serif">Интерфейс </font>EventSource</code> используется для получения серверных событий (Server-sent events). Он устанавливает соединение с сервером по HTTP и получает события в формате text/event-stream без закрытия соединения.</p>

<p><span style="line-height: 1.5;">Вы можете присвоить атрибуту <code>onmessage</code> JavaScript-функцию для получения нетипизированных сообщений (то есть сообщений без поля </span><code style="font-size: 14px;">event</code><span style="line-height: 1.5;">). Вы так же можете вызвать функцию </span><code style="font-size: 14px;">addEventListener()</code><span style="line-height: 1.5;"> для прослушивания событий так же, как для любого другого источника событий.</span></p>

<p>См. <a href="/en/Server-sent_events/Using_server-sent_events" title="en/Server-sent events/Using server-sent events">Using server-sent events</a> для более детальной информации </p>

<h2 id="Method_overview" name="Method_overview">Методы</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#close()">close</a>();</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Свойства</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>onerror</code></td>
   <td><code><code><a href="/ru/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventListener">nsIDOMEventListener</a></code></code></td>
   <td>JavaScript-функция, вызываемая при появлении ошибки</td>
  </tr>
  <tr>
   <td><code>onmessage</code></td>
   <td><code><code><a href="/ru/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventListener">nsIDOMEventListener</a></code></code></td>
   <td>JavaScript-функция, вызываемая при приходе сообщения без поля <code>event</code></td>
  </tr>
  <tr>
   <td><code>onopen</code></td>
   <td><code><code><a href="/ru/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventListener">nsIDOMEventListener</a></code></code></td>
   <td>JavaScript-функция, вызываемая после открытия соединения</td>
  </tr>
  <tr>
   <td><code>readyState</code></td>
   <td><code><a href="/en/long">long</a></code></td>
   <td>Состояние соединения, должно иметь одно из значений <code>CONNECTING</code>, <code>OPEN</code>, или <code>CLOSED</code>. <strong>Только для чтения</strong></td>
  </tr>
  <tr>
   <td><code>url</code></td>
   <td><a href="/ru/docs/Web/API/DOMString"><code>DOMString</code></a></td>
   <td><strong>Только для чтения</strong></td>
  </tr>
 </tbody>
</table>

<p>В дополение к открытым атрибутам два внутренних атрибута, которые не открыты напрямую:</p>

<dl>
 <dt>reconnection time</dt>
 <dd>Это время в миллисекундах, используемое для определения продолжительности ожидания после неудачной попытки соединения до повторного соединения</dd>
 <dt>last event ID string</dt>
 <dd>По-умолчания пустая строка. Сервер может отправлять сообщение с полем <code>id </code>для установки этого значения.</dd>
</dl>

<h2 id="Constants" name="Constants">Константы</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>CONNECTING</code></td>
   <td><code>0</code></td>
   <td>Соединение устанавливается</td>
  </tr>
  <tr>
   <td><code>OPEN</code></td>
   <td><code>1</code></td>
   <td>Соединение открыто, получение событий</td>
  </tr>
  <tr>
   <td><code>CLOSED</code></td>
   <td><code>2</code></td>
   <td>Соединение не устанавливается, закрыто, или произошла фатальная ошибка</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Методы</h2>

<h3 id="close" name="close()">close()</h3>

<p>Закрывает соединение, если оно существует и устанавливает атрибут <code>readyState </code>в значение<font face="Consolas, Liberation Mono, Courier, monospace"> <code>CLOSED</code>.</font> Если соединение уже закрыто, этот метод ничего не делает.<font face="Consolas, Liberation Mono, Courier, monospace"> </font></p>

<pre class="eval notranslate">void close();
</pre>

<h6 id="Parameters" name="Parameters">Параметры</h6>

<p>Нет</p>

<h2 id="See_also" name="See_also">См. также</h2>

<ul>
 <li><a href="https://html.spec.whatwg.org/multipage/comms.html#the-eventsource-interface">Server-Sent Events: The EventSource Interface</a><span style="color: #fff; background: #cfd510; display: inline-block; font-size: x-small; margin-left: 6px; white-space: nowrap; padding: 2px 5px;" title="Кандидат в рекомендации">CR</span></li>
 <li><a href="/en/Server-sent_events/Using_server-sent_events">Using server-sent events</a></li>
</ul>

<h2 id="Совместимость_браузеров">Совместимость браузеров</h2>

<div class="bc-data" id="bcd:api.EventSource"></div>

<div id="compat-mobile"></div>
