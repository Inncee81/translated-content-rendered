---
title: MediaRecorder
slug: Web/API/MediaRecorder
translation_of: Web/API/MediaRecorder
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/API/MediaRecorder"><code>MediaRecorder</code></a></strong></li><li class="toggle"><details open><summary>Конструктор</summary><ol><li><a href="/ru/docs/Web/API/MediaRecorder/MediaRecorder"><code>MediaRecorder()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Свойства</summary><ol><li><a href="/ru/docs/Web/API/MediaRecorder/audioBitsPerSecond"><code>audioBitsPerSecond</code></a> <a href="/ru/docs/Web/API/MediaRecorder/audioBitsPerSecond$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/ignoreMutedMedia"><code>ignoreMutedMedia</code></a> <a href="/ru/docs/Web/API/MediaRecorder/ignoreMutedMedia$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/mimeType"><code>mimeType</code></a> <a href="/ru/docs/Web/API/MediaRecorder/mimeType$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/ondataavailable"><code>ondataavailable</code></a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onerror"><code>onerror</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onerror$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onpause"><code>onpause</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onpause$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onresume"><code>onresume</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onresume$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onstart"><code>onstart</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onstart$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onstop"><code>onstop</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onstop$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/onwarning"><code>onwarning</code></a> <a href="/ru/docs/Web/API/MediaRecorder/onwarning$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/state"><code>state</code></a></li><li><a href="/ru/docs/Web/API/MediaRecorder/stream"><code>stream</code></a> <a href="/ru/docs/Web/API/MediaRecorder/stream$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Методы</summary><ol><li><a href="/ru/docs/Web/API/MediaRecorder/isTypeSupported"><code>isTypeSupported</code></a> <a href="/ru/docs/Web/API/MediaRecorder/isTypeSupported$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/pause"><code>pause()</code></a> <a href="/ru/docs/Web/API/MediaRecorder/pause$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/requestData"><code>requestData()</code></a></li><li><a href="/ru/docs/Web/API/MediaRecorder/resume"><code>resume()</code></a> <a href="/ru/docs/Web/API/MediaRecorder/resume$translate" style="opacity: 0.5;">[Перевести]</a></li><li><a href="/ru/docs/Web/API/MediaRecorder/start"><code>start()</code></a></li><li><a href="/ru/docs/Web/API/MediaRecorder/stop"><code>stop()</code></a> <a href="/ru/docs/Web/API/MediaRecorder/stop$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>События</summary><ol><li><a href="/ru/docs/Web/API/MediaRecorder/error_event"><code>error</code></a> <a href="/ru/docs/Web/API/MediaRecorder/error_event$translate" style="opacity: 0.5;">[Перевести]</a></li></ol></details></li><li class="toggle"><details open><summary>Наследование:</summary><ol><li><a href="/ru/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li></ol></section>

<p>The <strong><code>MediaRecorder</code></strong> это интерфейс <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API">MediaStream Recording API</a> представляющий функциональность для простой записи медиа. Создается с использованием <a href="/ru/docs/Web/API/MediaRecorder/MediaRecorder"><code>MediaRecorder()</code></a> конструктора.</p>

<h2 id="Конструктор">Конструктор</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/MediaRecorder"><code>MediaRecorder()</code></a></dt>
 <dd>Создает новый объект <code>MediaRecorder</code>, получающий <a href="/ru/docs/Web/API/MediaStream"><code>MediaStream</code></a> для записи. Доступны такие параметры, как установка типа MIME контейнера (<code>&quot;video/webm&quot;,&quot;video/mp4&quot;</code> и другие) и скорости передачи аудио-и видеодорожек или одной общей скорости.</dd>
</dl>

<h2 id="Свойства">Свойства</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/mimeType"><code>MediaRecorder.mimeType</code></a> <span class="readOnly readOnlyInline notecard inline" title="Это значение изменять нельзя.">Только для чтения </span></dt>
 <dd>Возвращает тип MIME, который был выбран в качестве контейнера записи для объекта MediaRecorder при его создании. </dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/state"><code>MediaRecorder.state</code></a> <span class="readOnly readOnlyInline notecard inline" title="Это значение изменять нельзя.">Только для чтения </span></dt>
 <dd>Возвращает текущее состояние объекта <code>MediaRecorder </code>(<code>inactive</code>, <code>recording</code>, или <code>paused</code>.)</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/stream"><code>MediaRecorder.stream</code></a> <span class="readOnly readOnlyInline notecard inline" title="Это значение изменять нельзя.">Только для чтения </span></dt>
 <dd>Возвращает поток который был передан конструктору при создании объекта <code>MediaRecorder</code></dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/ignoreMutedMedia"><code>MediaRecorder.ignoreMutedMedia</code></a></dt>
 <dd>Показывает записывает ли <code>MediaRecorder </code>дорожку <a href="/ru/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a> если она отключена. Если аттрибут равен<code> false, </code><code>MediaRecorder</code> будет записывать тишину для аудио и черные кадры для видео. По умолчанию равно <code>false</code></dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/videoBitsPerSecond"><code>MediaRecorder.videoBitsPerSecond</code></a> <span class="readOnly readOnlyInline notecard inline" title="Это значение изменять нельзя.">Только для чтения </span></dt>
 <dd>Возвращает скорость кодирования видео. Она может отличаться от скорости, определенной в конструкторе (если была предоставлена).</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/audioBitsPerSecond;"><code>MediaRecorder.audioBitsPerSecond;</code></a> <span class="readOnly readOnlyInline notecard inline" title="Это значение изменять нельзя.">Только для чтения </span></dt>
 <dd>Возвращает скорость кодирования аудио. Она может отличаться от скорости, определенной в конструкторе (если была предоставлена).</dd>
</dl>

<h2 id="Методы">Методы</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/canRecordMimeType"><code>MediaRecorder.isTypeSupported()</code></a></dt>
 <dd>Возвращает <a href="/ru/docs/Web/API/Boolean"><code>Boolean</code></a> значение показывающее поддерживается ли MIME тип текущим user agent.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/pause"><code>MediaRecorder.pause()</code></a></dt>
 <dd>Приостанавливает запись медиа.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/requestData"><code>MediaRecorder.requestData()</code></a></dt>
 <dd>Запрашивает <a href="/ru/docs/Web/API/Blob"><code>Blob</code></a> содержащий сохраненные данные полученные  с начала записи (или с последнего вызова <code>requestData()</code>). После вызова этого метода, запись продолжается, но в новый <code>Blob.</code></dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/resume"><code>MediaRecorder.resume()</code></a></dt>
 <dd>Возобновляет запись медиа после паузы.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/start"><code>MediaRecorder.start()</code></a></dt>
 <dd>Начинает запись медиа. В этот метод можно передать аргумент <code>timeslice </code>со значением в миллисекундах. Если он определен, то медиа будет записываться в отдельные блоки заданной продолжительности, вместо записи в один большой блок.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/stop"><code>MediaRecorder.stop()</code></a></dt>
 <dd>Останавливает запись, после чего запускается событие <code><a href="/ru/docs/Web/Reference/Events/dataavailable" title="/ru/docs/Web/Reference/Events/dataavailable">dataavailable</a></code>, содержащее последний <code>Blob</code> сохраненных данных.</dd>
</dl>

<h2 id="Обработчики_событий">Обработчики событий</h2>

<dl>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/ondataavailable"><code>MediaRecorder.ondataavailable</code></a></dt>
 <dd>Вызывает обработчик <code><a href="/ru/docs/Web/Reference/Events/dataavailable" title="/ru/docs/Web/Reference/Events/dataavailable">dataavailable</a></code> события, которое запускается раз в <code>timeslice</code> миллисекунд (или, если <code>timeslice</code> не был задан - по окончанию записи). Событие типа <a href="/ru/docs/Web/API/BlobEvent"><code>BlobEvent</code></a>, сдержит записанное медиа в <a href="/ru/docs/Web/API/BlobEvent/data"><code>data</code></a>.  Вы можете использовать обработчик для сбора и других действий в зависимости от полученных данных.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/onerror"><code>MediaRecorder.onerror</code></a></dt>
 <dd><a href="/ru/docs/Web/API/EventHandler"><code>EventHandler</code></a> вызывается для обработки события <code><a href="/ru/docs/Web/Reference/Events/recordingerror" title="/ru/docs/Web/Reference/Events/recordingerror">recordingerror</a></code>, включающего отчет об ошибках во время записи. Это фатальные ошибки, приводящие к остановке записи. Полученное событие основано на интерфейсе <a href="/ru/docs/Web/API/MediaRecorderErrorEvent"><code>MediaRecorderErrorEvent</code></a>, свойство которого <a href="/ru/docs/Web/API/MediaRecorderErrorEvent/error"><code>error</code></a> содержит <a href="/ru/docs/Web/API/DOMException"><code>DOMException</code></a> описывающие произошедшие ошибки.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/onpause"><code>MediaRecorder.onpause</code></a></dt>
 <dd><a href="/ru/docs/Web/API/EventHandler"><code>EventHandler</code></a> вызывается для обработки события <code><a href="/ru/docs/Web/Reference/Events/pause" title="/ru/docs/Web/Reference/Events/pause">pause</a></code>, случившегося во время приостановки медиа.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/onresume"><code>MediaRecorder.onresume</code></a></dt>
 <dd><a href="/ru/docs/Web/API/EventHandler"><code>EventHandler</code></a> вызывается для обработки события <code><a href="/ru/docs/Web/Reference/Events/resume" title="/ru/docs/Web/Reference/Events/resume">resume</a></code>, случившегося во время возбновления записи.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/onstart"><code>MediaRecorder.onstart</code></a></dt>
 <dd><a href="/ru/docs/Web/API/EventHandler"><code>EventHandler</code></a>вызывается для обработки события <code><a href="/ru/docs/Web/Reference/Events/start" title="/ru/docs/Web/Reference/Events/start">start</a></code>, случившегося во время начала записи.</dd>
 <dt><a href="/ru/docs/Web/API/MediaRecorder/onstop"><code>MediaRecorder.onstop</code></a></dt>
 <dd><a href="/ru/docs/Web/API/EventHandler"><code>EventHandler</code></a> вызывается для обработки события <code><a href="/ru/docs/Web/Reference/Events/stop" title="/ru/docs/Web/Reference/Events/stop">stop</a></code>, случившегося во время завершения записи, а так же при окончании <a href="/ru/docs/Web/API/MediaStream"><code>MediaStream</code></a> — или после вызова <a href="/ru/docs/Web/API/MediaRecorder/stop"><code>MediaRecorder.stop()</code></a></dd>
</dl>

<h2 id="Пример">Пример</h2>

<pre class="notranslate">navigator.getUserMedia = (navigator.getUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia ||
                          navigator.webkitGetUserMedia);


if (navigator.getUserMedia) {
  console.log(&apos;getUserMedia supported.&apos;);

  var constraints = { audio: true };
  var chunks = [];

  var onSuccess = function(stream) {
    var mediaRecorder = new MediaRecorder(stream);

    visualize(stream);

    record.onclick = function() {
      mediaRecorder.start();
      console.log(mediaRecorder.state);
      console.log(&quot;recorder started&quot;);
      record.style.background = &quot;red&quot;;
      record.style.color = &quot;black&quot;;
    }

    stop.onclick = function() {
      mediaRecorder.stop();
      console.log(mediaRecorder.state);
      console.log(&quot;recorder stopped&quot;);
      record.style.background = &quot;&quot;;
      record.style.color = &quot;&quot;;
      // mediaRecorder.requestData();
    }

    mediaRecorder.onstop = function(e) {
      console.log(&quot;data available after MediaRecorder.stop() called.&quot;);

      var clipName = prompt(&apos;Enter a name for your sound clip&apos;);

      var clipContainer = document.createElement(&apos;article&apos;);
      var clipLabel = document.createElement(&apos;p&apos;);
      var audio = document.createElement(&apos;audio&apos;);
      var deleteButton = document.createElement(&apos;button&apos;);

      clipContainer.classList.add(&apos;clip&apos;);
      audio.setAttribute(&apos;controls&apos;, &apos;&apos;);
      deleteButton.innerHTML = &quot;Delete&quot;;
      clipLabel.innerHTML = clipName;

      clipContainer.appendChild(audio);
      clipContainer.appendChild(clipLabel);
      clipContainer.appendChild(deleteButton);
      soundClips.appendChild(clipContainer);

      audio.controls = true;
      var blob = new Blob(chunks, { &apos;type&apos; : &apos;audio/ogg; codecs=opus&apos; });
      chunks = [];
      var audioURL = window.URL.createObjectURL(blob);
      audio.src = audioURL;
      console.log(&quot;recorder stopped&quot;);

      deleteButton.onclick = function(e) {
        evtTgt = e.target;
        evtTgt.parentNode.parentNode.removeChild(evtTgt.parentNode);
      }
    }

    mediaRecorder.ondataavailable = function(e) {
      chunks.push(e.data);
    }
  }

  var onError = function(err) {
    console.log(&apos;The following error occured: &apos; + err);
  }

  navigator.getUserMedia(constraints, onSuccess, onError);
} else {
   console.log(&apos;getUserMedia not supported on your browser!&apos;);
}</pre>

<div class="note notecard">
<p>Код выше был взят из демо Web Dictaphone. Некоторые строчки были пропущены для краткости. Полный код смотрите <a href="https://github.com/mdn/web-dictaphone/">здесь</a></p>
</div>

<h2 id="Спецификации">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/mediacapture-record/#MediaRecorderAPI" hreflang="en" lang="en">MediaStream Recording</a></td>
   <td><span class="spec-WD">Рабочий черновик</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="Совместимоть_с_браузерами">Совместимоть с браузерами</h2>

<div class="hidden">The compatibility table in this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.MediaRecorder"></div>

<h2 id="Еще_по_теме">Еще по теме</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/MediaRecorder_API/Using_the_MediaRecorder_API">Использование MediaRecorder API</a></li>
 <li><a href="https://mdn.github.io/web-dictaphone/">Web Dictaphone</a>: MediaRecorder + getUserMedia + Web Audio API visualization demo, by <a href="https://twitter.com/chrisdavidmills">Chris Mills</a> (<a href="https://github.com/mdn/web-dictaphone/">source on Github</a>.)</li>
 <li><a href="https://simpl.info/mediarecorder/">simpl.info MediaStream Recording demo</a>, by <a href="https://twitter.com/sw12">Sam Dutton</a>.</li>
 <li><a href="/ru/docs/Web/API/Navigator/getUserMedia"><code>Navigator.getUserMedia</code></a></li>
</ul>
