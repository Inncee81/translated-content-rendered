---
title: WeakSet
slug: Web/JavaScript/Reference/Global_Objects/WeakSet
tags:
  - ECMAScript6
  - JavaScript
  - WeakSet
translation_of: Web/JavaScript/Reference/Global_Objects/WeakSet
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects">Стандартные встроенные объекты</a></strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet"><code>WeakSet</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Методы</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/add"><code>WeakSet.prototype.add()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/clear"><code>WeakSet.prototype.clear()</code></a> <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/clear$translate" style="opacity: 0.5;">[Перевести]</a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/delete"><code>WeakSet.prototype.delete()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/has"><code>WeakSet.prototype.has()</code></a></li></ol></li><li><strong>Наследование:</strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Свойства</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a></li></ol></li><li><a href="#"><strong>Методы</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a></li></ol></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Свойства</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li><a href="#"><strong>Методы</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li></ol></li></ol></section></div>

<p>Объект <strong><code>WeakSet</code></strong> - коллекция, элементами которой могут быть только <em>объекты. </em>Ссылки на эти объекты в WeakSet являются слабыми. Каждый объект может быть добавлен в WeakSet только один раз.</p>

<h2 id="Syntax" name="Syntax">Синтаксис</h2>

<pre class="syntaxbox notranslate"> new WeakSet([iterable]);</pre>

<h3 id="Parameters" name="Parameters">Параметры</h3>

<dl>
 <dt>iterable</dt>
 <dd>При передаче <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/for...of">итерируемого объекта</a>, все его элементы будут добавлены в новый WeakSet. <code>Null</code> обрабатывается как <code>undefined</code>.</dd>
</dl>

<h2 id="Description" name="Description">Описание</h2>

<p>Объекты <code>WeakSet </code>представляют собой коллекции объектов. Каждый объект в WeakSet встречается только один раз, что обеспечивает его уникальность в рамках коллекции WeakSet.</p>

<p>Главным отличия от объекта <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>:</p>

<ul>
 <li>WeakSet <strong>содержит только объекты</strong>, тогда как Set - значения любого типа.</li>
 <li>Ссылки на объекты в WeakSet являются слабыми: если на объект, хранимый в WeakSet нет ни одной внешней ссылки, то сборщик мусора удалит этот объект. Также это означает, что WeakSet <strong>не итерируем, </strong>так как нет возможности получить список текущих хранимых в WeakSet объектов.  </li>
</ul>

<h2 id="Properties" name="Properties">Свойства</h2>

<dl>
 <dt><code>WeakSet.length</code></dt>
 <dd>Значение свойства <code>length</code> всегда равно 0.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/prototype"><code>WeakSet.prototype</code></a></dt>
 <dd>Представляет прототип конструктора Weak<code>Set</code>. Позволяет добавлять свойства  всем объектам типа <code>WeakSet</code>.</dd>
</dl>

<h2 id="Экземпляры_WeakSet"><code>Экземпляры WeakSet</code> </h2>

<p>Все экземпляры класса <code>WeakSet</code> унаследованы от <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/prototype"><code>WeakSet.prototype</code></a>.</p>

<h3 id="Properties_2" name="Properties_2">Свойства</h3>

<dl>
 <dt><code>WeakSet.prototype.constructor</code></dt>
 <dd>Возвращает функцию, создающую экземпляр прототипа. По умолчанию, это функция <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet" title="Объект WeakSet - коллекция, элементами которой могут быть только объекты. Ссылки на эти объекты в WeakSet являются слабыми. Каждый объект может быть добавлен в WeakSet только один раз."><code>WeakSet</code></a>.</dd>
</dl>

<h3 id="Methods" name="Methods">Методы</h3>

<dl>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/add" title="Метод add() добавляет новый объект в конец объекта WeakSet."><code>WeakSet.prototype.add(value)</code></a></dt>
 <dd>Добавляет объект value в WeakSet. </dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/delete" title="Метод delete() удаляет указанный элемент из объекта WeakSet."><code>WeakSet.prototype.delete(value)</code></a></dt>
 <dd>Удаляет из WeakSet элемент value. После удаления вызов <code>WeakSet.prototype.has(value) возвращает false.</code> </dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/has" title="Метод has() определяет, содержит ли WeakSet определённый элемент, возвращая в зависимости от этого true или false."><code>WeakSet.prototype.has(value)</code></a></dt>
 <dd>Определяет, содержит WeakSet объект value или нет, возвращая, соответственно, true или false. </dd>
 <dt><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakSet/clear" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>WeakSet.prototype.clear()</code></a> <span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></s></dt>
 <dd><s class="obsoleteElement">Удаляет все элементы из объекта WeakSet.</s></dd>
</dl>

<h2 id="Examples" name="Examples">Примеры</h2>

<h3 id="ExampleUsing_the_WeakSet_object" name="Example:Using_the_WeakSet_object">Использование объекта <code>WeakSet</code> </h3>

<pre class="brush: js notranslate">var ws = new WeakSet();
var obj = {};
var foo = {};

ws.add(window);
ws.add(obj);

ws.has(window); // true
ws.has(foo);    // false, foo не добавлен в WeakSet

ws.delete(window); // удаляет window из WeakSet
ws.has(window);    // false, window был удалён
</pre>

<h2 id="Specifications" name="Specifications">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-weakset-objects" hreflang="en" lang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="ru">Определение &apos;WeakSet&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Standard">Стандарт</span></td>
   <td>Изначальное определение.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-weakset-objects" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="ru">Определение &apos;WeakSet&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Совместимость с браузерами</h2>

<div class="bc-data" id="bcd:javascript.builtins.WeakSet"></div>

<div id="compat-mobile"> </div>

<h2 id="See_also" name="See_also">Смотрите также</h2>

<ul>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/WeakMap"><code>WeakMap</code></a></li>
</ul>
