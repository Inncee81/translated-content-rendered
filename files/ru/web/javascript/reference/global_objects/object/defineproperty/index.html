---
title: Object.defineProperty()
slug: Web/JavaScript/Reference/Global_Objects/Object/defineProperty
tags:
  - ECMAScript5
  - JavaScript
  - JavaScript 1.8.5
  - Method
  - Object
  - Reference
  - Référence(2)
translation_of: Web/JavaScript/Reference/Global_Objects/Object/defineProperty
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects">Стандартные встроенные объекты</a></strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Свойства</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype"><code>Object.prototype</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/count"><code>Object.prototype.__count__</code></a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/noSuchMethod"><code>Object.prototype.__noSuchMethod__</code></a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/parent"><code>Object.prototype.__parent__</code></a></s></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li data-default-state="open"><a href="#"><strong>Методы</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"><code>Object.assign()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/create"><code>Object.create()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties"><code>Object.defineProperties()</code></a></li><li><em><code>Object.defineProperty()</code></em></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/entries"><code>Object.entries()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze"><code>Object.freeze()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries"><code>Object.fromEntries()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries$translate">[Перевести]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getNotifier"><code>Object.getNotifier()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getNotifier$translate">[Перевести]</a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors"><code>Object.getOwnPropertyDescriptors()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames"><code>Object.getOwnPropertyNames()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols"><code>Object.getOwnPropertySymbols()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf"><code>Object.getPrototypeOf()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible"><code>Object.isExtensible()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen"><code>Object.isFrozen()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed"><code>Object.isSealed()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys"><code>Object.keys()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/observe"><code>Object.observe()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions"><code>Object.preventExtensions()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/eval"><code>Object.prototype.eval()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/unwatch"><code>Object.prototype.unwatch()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/watch"><code>Object.prototype.watch()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/seal"><code>Object.seal()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/unobserve"><code>Object.unobserve()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/unobserve$translate">[Перевести]</a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/values"><code>Object.values()</code></a></li></ol></li><li><strong>Наследование:</strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Свойства</strong></a><ol><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/arity"><code>Function.arity</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/prototype"><code>Function.prototype</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a></li></ol></li><li><a href="#"><strong>Методы</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/isGenerator"><code>Function.prototype.isGenerator()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a></li></ol></li></ol></section></div>

<h2 id="Summary" name="Summary">Сводка</h2>

<p>Метод <code><strong>Object.defineProperty()</strong></code> определяет новое или изменяет существующее свойство непосредственно на объекте, возвращая этот объект.</p>

<h2 id="Syntax" name="Syntax">Синтаксис</h2>

<pre class="syntaxbox"><code>Object.defineProperty(<var>obj</var>, <var>prop</var>, <var>descriptor</var>)</code></pre>

<h3 id="Parameters" name="Parameters">Параметры</h3>

<dl>
 <dt><code>obj</code></dt>
 <dd>Объект, на котором определяется свойство.</dd>
 <dt><code>prop</code></dt>
 <dd>Имя определяемого или изменяемого свойства.</dd>
 <dt><code>descriptor</code></dt>
 <dd>Дескриптор определяемого или изменяемого свойства.</dd>
</dl>

<h2 id="Description" name="Description">Описание</h2>

<p>Этот метод позволяет точно добавлять или изменять свойства объекта. Обычное добавление свойств через присваивание создаёт свойства, которые можно увидеть через перечисление свойств (с помощью цикла <a href="/ru/docs/Web/JavaScript/Reference/Statements/for...in" title="Цикл for...in проходит через перечисляемые свойства объекта. Он пройдёт по каждому отдельному элементу."><code>for...in</code></a> или метода <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" title="Метод Object.keys() возвращает массив из собственных перечисляемых свойств переданного объекта, в том же порядке, в котором они бы обходились циклом for...in (разница между циклом и методом в том, что цикл перечисляет свойства и из цепочки прототипов)."><code>Object.keys</code></a>), чьи значения могут быть изменены и которые могут быть <a href="/ru/docs/Web/JavaScript/Reference/Operators/delete" title="Оператор delete удаляет свойство из объекта.">удалены</a>. Этот же метод позволяет настроить эти дополнительные детали свойства.</p>

<p>Дескрипторы свойств, присутствующие в объектах, бывают двух основных типов: дескрипторы данных и дескрипторы доступа. <em><dfn>Дескриптор данных</dfn></em> — это свойство, имеющее значение, которое может быть (а может и не быть) записываемым. <em><dfn>Дескриптор доступа</dfn></em> — это свойство, описываемое парой функций — геттером и сеттером. Дескриптор может быть только чем-то одним из этих двух типов; он не может быть одновременно обоими.</p>

<p>И дескриптор данных, и дескриптор доступа являются объектами. Они обладают следующими обязательными ключами:</p>

<dl>
 <dt><code>configurable</code></dt>
 <dd>Равен <code>true</code> только в том случае, если тип этого дескриптора свойства может быть изменён и если свойство может быть удалено из содержащего его объекта.<br>
 <strong>Значение по умолчанию установлено в <code>false</code>.</strong></dd>
 <dt><code>enumerable</code></dt>
 <dd>Равен <code>true</code> только в том случае, если это свойство можно увидеть через перечисление свойств содержащего его объекта.<br>
 <strong>Значение по умолчанию установлено в <code>false</code>.</strong></dd>
</dl>

<p>Дескриптор данных также может содержать следующие дополнительные ключи:</p>

<dl>
 <dt><code>value</code></dt>
 <dd>Значение, ассоциированное со свойством. Может быть любым допустимым значением JavaScript (числом, объектом, функцией и т.д.).<br>
 <strong>Значение по умолчанию установлено в <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>.</strong></dd>
 <dt><code>writable</code></dt>
 <dd>Равен <code>true</code> только в том случае, если значение, ассоциированное со свойством, может быть изменено с помощью <a href="/ru/docs/Web/JavaScript/Reference/Operators/Assignment_Operators" title="Оператор присваивания присваивает левому операнду значение, основанное на значении правого операнда.">оператора присваивания</a>.<br>
 <strong>Значение по умолчанию установлено в <code>false</code>.</strong></dd>
</dl>

<p>Дескриптор доступа также может содержать следующие дополнительные ключи:</p>

<dl>
 <dt><code>get</code></dt>
 <dd>Функция, используемая как геттер свойства, либо <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>, если свойство не имеет геттера. Возвращаемое значение функции будет использоваться как значение свойства.<br>
 <strong>Значение по умолчанию установлено в <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>.</strong></dd>
 <dt><code>set</code></dt>
 <dd>Функция, используемая как сеттер свойства, либо <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>, если свойство не имеет сеттера. Функция принимает единственным аргументом новое значение, присваиваемое свойству.<br>
 <strong>Значение по умолчанию установлено в <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>.</strong></dd>
</dl>

<p>Имейте в виду, что эти ключи не обязательно должны принадлежать самому дескриптору свойства, если они унаследованы, они так же будут приниматься во внимание. Для сохранения этих ключей по умолчанию неизменными, вы можете заранее заморозить <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype" title="Свойство Object.prototype представляет объект прототипа Object."><code>Object.prototype</code></a>, явно определив все ключи, либо установить свойство <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__proto__" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>__proto__</code></a> в <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/null" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>null</code></a>.</p>

<pre class="brush:js">// Использование __proto__
Object.defineProperty(obj, &apos;key&apos;, {
  __proto__: null, // нет унаследованных свойств
  value: &apos;static&apos;  // по умолчанию
                   // не перечисляется,
                   // не настраивается и
                   // не перезаписывается
});

// Явное определение свойства
Object.defineProperty(obj, &apos;key&apos;, {
  enumerable: false,
  configurable: false,
  writable: false,
  value: &apos;static&apos;
});

// Переиспользование одного и того же объекта
function withValue(value) {
  var d = withValue.d || (
    withValue.d = {
      enumerable: false,
      writable: false,
      configurable: false,
      value: null
    }
  );
  d.value = value;
  return d;
}
// ... и ...
Object.defineProperty(obj, &apos;key&apos;, withValue(&apos;static&apos;));

// Если доступен метод freeze, предотвращаем добавление свойств
// value, get, set, enumerable, writable и configurable
// к прототипу Object
(Object.freeze || Object)(Object.prototype);
</pre>

<h2 id="Examples" name="Examples">Примеры</h2>

<p>Если вы хотите посмотреть, как использовать метод <code>Object.defineProperty()</code> с синтаксисом <em>похожим-на-бинарные-флаги</em>, смотрите <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty/Additional_examples">дополнительные примеры</a>.</p>

<h3 id="Example:_Creating_a_property" name="Example:_Creating_a_property">Пример: создание свойства</h3>

<p>Если указанное свойство не существует в объекте, метод <code>Object.defineProperty()</code> создаст новое свойство по переданному описанию. Поля в дескрипторе могут быть опущены, в этом случае их значения будут значениями по умолчанию. Все логические поля будут по-умолчанию установлены в <code>false</code>. Поля <code>value</code>, <code>get</code> и <code>set</code> по умолчанию будут установлены в <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/undefined" title="Значение глобального свойства undefined представляет значение undefined. Это одно из примитивных значений JavaScript."><code>undefined</code></a>. Свойство, определённое без атрибутов <code>get</code>/<code>set</code>/<code>value</code>/<code>writable</code> называется «общим», а дескриптор данных — «типовым».</p>

<pre class="brush: js">var o = {}; // Создаём новый объект

// Пример добавления свойства к объекту через defineProperty()
// с дескриптором данных
Object.defineProperty(o, &apos;a&apos;, {
  value: 37,
  writable: true,
  enumerable: true,
  configurable: true
});
// Свойство &apos;a&apos; существует в объекте o и имеет значение, равное 37

// Пример добавления свойства к объекту через defineProperty()
// с дескриптором доступа
var bValue = 38;
Object.defineProperty(o, &apos;b&apos;, {
  get: function() { return bValue; },
  set: function(newValue) { bValue = newValue; },
  enumerable: true,
  configurable: true
});
o.b; // 38
// Свойство &apos;b&apos; существует в объекте o и имеет значение, равное 38
// Значение свойства o.b теперь идентично значению bValue до тех пор,
// пока свойство o.b не будет переопределено

// Вы не можете смешать два этих подхода:
Object.defineProperty(o, &apos;conflict&apos;, {
  value: 0x9f91102,
  get: function() { return 0xdeadbeef; }
});
// Выкинет исключение TypeError: свойство value применимо только в
// дескрипторах данных, свойство get применимо только в дескрипторах
// доступа
</pre>

<h3 id="Example:_Modifying_a_property" name="Example:_Modifying_a_property">Пример: изменение свойства</h3>

<p>Если свойство уже существует, метод <code>Object.defineProperty()</code> попытается изменить свойство в соответствии со значениями в дескрипторе и текущим состоянием объекта. Если у старого дескриптора атрибут <code>configurable</code> был установлен в <code>false</code> (говорит, что свойство является «ненастраиваемым»), то никакие атрибуты, кроме атрибута <code>writable</code>, не смогут быть изменены. В этом случае так же невозможно переключаться между типами дескрипторов.</p>

<p>Если свойство является ненастраиваемым, его атрибут <code>writable</code> может быть изменён только на значение <code>false</code>.</p>

<p>При попытке изменить ненастраиваемые атрибуты свойства будет выброшено исключение <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/TypeError" title="Объект TypeError представляет ошибку, возникающую, когда значение имеет не ожидаемый тип."><code>TypeError</code></a> (кроме случая изменения атрибута <code>writable</code>), даже в том случае, если текущее и новое значения идентичны.</p>

<h4 id="Writable_attribute" name="Writable_attribute">Атрибут <code>writable</code></h4>

<p>Если атрибут <code>writable</code> свойства установлен в <code>false</code>, свойство становится «незаписываемым». Ему невозможно будет присвоить новое значение.</p>

<pre class="brush: js">var o = {}; // Создаём новый объект

Object.defineProperty(o, &apos;a&apos;, {
  value : 37,
  writable : false
});

console.log(o.a); // Выведет 37
o.a = 25; // Исключение не будет выброшено (будет выброшено только в
          // строгом режиме, даже если значение будет тем же самым)
console.log(o.a); // Выведет 37. Присваивание не сработало.
</pre>

<p>Как видно в этом примере, попытка записи в незаписываемое свойство его не изменило, но и исключение так же не было выброшено.</p>

<h4 id="Enumerable_attribute" name="Enumerable_attribute">Атрибут <code>enumerable</code></h4>

<p>Атрибут <code>enumerable</code> свойства определяет, просматривается ли свойство в цикле <a href="/ru/docs/Web/JavaScript/Reference/Statements/for...in" title="Цикл for...in проходит через перечисляемые свойства объекта. Он пройдёт по каждому отдельному элементу."><code>for...in</code></a> и методом <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" title="Метод Object.keys() возвращает массив из собственных перечисляемых свойств переданного объекта, в том же порядке, в котором они бы обходились циклом for...in (разница между циклом и методом в том, что цикл перечисляет свойства и из цепочки прототипов)."><code>Object.keys()</code></a> или нет.</p>

<pre class="brush: js">var o = {};
Object.defineProperty(o, &apos;a&apos;, { value: 1, enumerable: true });
Object.defineProperty(o, &apos;b&apos;, { value: 2, enumerable: false });
// Атрибут enumerable по умолчанию установлен в false
Object.defineProperty(o, &apos;c&apos;, { value: 3 });

o.d = 4; // При создании свойства путём присваивания, атрибут enumerable
         // по умолчанию установливается в true

for (var i in o) {
  console.log(i);
}
// Выведет &apos;a&apos; и &apos;d&apos; (порядок вывода не определён)

Object.keys(o); // [&apos;a&apos;, &apos;d&apos;]

o.propertyIsEnumerable(&apos;a&apos;); // true
o.propertyIsEnumerable(&apos;b&apos;); // false
o.propertyIsEnumerable(&apos;c&apos;); // false
</pre>

<h4 id="Configurable_attribute" name="Configurable_attribute">Атрибут <code>configurable</code></h4>

<p>Атрибут <code>configurable</code> одновременно контролирует, может ли свойство быть удалено из объекта и могут ли быть изменены его атрибуты (кроме контроля изменения атрибута <code>writable</code>).</p>

<pre class="brush: js">var o = {};
Object.defineProperty(o, &apos;a&apos;, {
  get: function() { return 1; },
  configurable: false
});

Object.defineProperty(o, &apos;a&apos;, { configurable: true }); // Выкинет TypeError
Object.defineProperty(o, &apos;a&apos;, { enumerable: true }); // Выкинет TypeError
Object.defineProperty(o, &apos;a&apos;, { set: function() {} }); // Выкинет TypeError (ранее свойство set дескриптора не было определено)
Object.defineProperty(o, &apos;a&apos;, { get: function() { return 1; } }); // Выкинет TypeError (даже несмотря на то, что get делает то же, что и раньше)
Object.defineProperty(o, &apos;a&apos;, { value: 12 }); // Выкинет TypeError

console.log(o.a); // Выведет 1
delete o.a; // Ничего не произойдёт
console.log(o.a); // Выведет 1
</pre>

<p>Если бы атрибут <code>configurable</code> объекта <code>o.a</code> был установлен в <code>true</code>, никакие ошибки не были бы выброшены и в конце свойство было бы удалено.</p>

<h3 id="Example:_Adding_properties_and_default_values" name="Example:_Adding_properties_and_default_values">Пример: добавление свойств и значений по умолчанию</h3>

<p>Важно понимать, как устанавливаются значения по умолчанию атрибутам свойств. Часто существует разница между простым назначением значения посредством точечной нотации и использованием метода <code>Object.defineProperty()</code>, что и показывает пример ниже.</p>

<pre class="brush: js">var o = {};

o.a = 1;
// Эквивалентно записи:
Object.defineProperty(o, &apos;a&apos;, {
  value: 1,
  writable: true,
  configurable: true,
  enumerable: true
});


// С другой стороны,
Object.defineProperty(o, &apos;a&apos;, { value: 1 });
// эквивалентно записи:
Object.defineProperty(o, &apos;a&apos;, {
  value: 1,
  writable: false,
  configurable: false,
  enumerable: false
});
</pre>

<h3 id="Example:_Custom_setters_and_getters" name="Example:_Custom_setters_and_getters">Пример: пользовательские сеттеры и геттеры</h3>

<p>Пример ниже показывает, как реализовать самоархивирующийся объект. При установке свойства <code>temperature</code> в массив <code>archive</code> попадает запись журнала.</p>

<pre class="brush: js">function Archiver() {
  var temperature = null;
  var archive = [];

  Object.defineProperty(this, &apos;temperature&apos;, {
    get: function() {
      console.log(&apos;get!&apos;);
      return temperature;
    },
    set: function(value) {
      temperature = value;
      archive.push({ val: temperature });
    }
  });

  this.getArchive = function() { return archive; };
}

var arc = new Archiver();
arc.temperature; // &apos;get!&apos;
arc.temperature = 11;
arc.temperature = 13;
arc.getArchive(); // [{ val: 11 }, { val: 13 }]
</pre>

<h2 id="Specifications" name="Specifications">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарии</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.2.3.6" class="external" hreflang="en">ECMAScript 5.1 (ECMA-262)<br><small lang="ru">Определение &apos;Object.defineProperty&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Standard">Стандарт</span></td>
   <td>Изначальное определение. Реализована в JavaScript 1.8.5.</td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.ecma-international.org/ecma-262/6.0/#sec-object.defineproperty" class="external" hreflang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="ru">Определение &apos;Object.defineProperty&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Standard">Стандарт</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Совместимость с браузерами</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/ru/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Настольные</a></li>
        <li><a>Мобильные</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Возможность</th>
   <th>Firefox (Gecko)</th>
   <th>Chrome</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Базовая поддержка</td>
   <td><a href="/en-US/Firefox/Releases/4" title="Выпущен 2011-03-22.">4.0</a> (2)</td>
   <td>5 (предыдущие версии не проверялись)</td>
   <td>9 (8, но только на объектах DOM с нестандартным поведением. <a href="#Internet_Explorer_8_specific_notes">Подробности смотрите ниже</a>.)</td>
   <td>11.60</td>
   <td>5.1 (5, кроме объектов DOM)</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Возможность</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Android</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Базовая поддержка</td>
   <td>4.0 (2)</td>
   <td><span style="color: #888;" title="Пожалуйста, замените этот шаблон на указание самой ранней поддерживаемой версии.">(Да)</span></td>
   <td>9 и выше</td>
   <td>11.50</td>
   <td><span style="color: #888;" title="Пожалуйста, замените этот шаблон на указание самой ранней поддерживаемой версии.">(Да)</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>На основе <a href="http://kangax.github.com/es5-compat-table/" class="external">таблицы совместимости Kangax</a>.</p>

<h3 id="Redefining_the_length_property_of_an_Array_object" name="Redefining_the_length_property_of_an_Array_object">Переопределение свойства <code>length</code> на объекте <code>Array</code></h3>

<p>На массивах возможно переопределить свойство <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a>, при условии соблюдения обычных ограничений на переопределение. (Изначально свойство <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> является ненастраиваемым, неперечисляемым и записываемым. Таким образом, на неизменнённом массиве возможно изменить значение свойства <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> либо сделать его незаписываемым. Его перечисляемость или настраиваемость изменить нельзя, так же как и его записываемость, если оно сделано не записываемым.) Однако не все браузеры поддерживают такое переопределение.</p>

<p>Firefox с версии 4 по версию 22 бросает исключение <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/TypeError" title="Объект TypeError представляет ошибку, возникающую, когда значение имеет не ожидаемый тип."><code>TypeError</code></a> на любую попытку (вне зависимости от того, разрешена ли она или нет) переопределить свойство <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> массива.</p>

<p>Версии Chrome, реализующие метод <code>Object.defineProperty()</code>, в некоторых случаях игнорируют значение <code>length</code> отличное от текущего значения свойства <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> массива. В некоторых случаях изменение записываемости свойства просто не работает без каких-либо сообщений об ошибках (и выбрасываемых исключений). Также, в связи с вышесказанным, некоторые методы изменения массива, вроде метода <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/push" title="Метод push() добавляет один или более элементов в конец массива и возвращает новую длину массива."><code>Array.prototype.push</code></a>, не обращают внимания на незаписываемое свойство <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a>.</p>

<p>Версии Safari, реализующие метод <code>Object.defineProperty()</code>, игнорируют значение <code>length</code>, отличное от текущего значения свойства <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> массива, и попытка изменить записываемость свойства выполнится без ошибок, но на самом деле записываемость свойства не изменится.</p>

<p>Только Internet Explorer 9 и выше, а так же Firefox 23 и выше, по-видимому, полностью и правильно реализуют переопределение свойства <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> массивов. В настоящее время не стоит полагаться на работу переопределения свойства <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/length" title="Length свойство объекта, который является экземпляром вида Array , устанавливает или возвращает число элементов в этом массиве. Значение безнаковое 32 битное целое число, которое всегда численно больше чем самый наибольший индекс в массиве."><code>length</code></a> массива, или что оно работает определённым образом. И даже если вы <em>можете</em> положиться на это, <a href="http://whereswalden.com/2013/08/05/new-in-firefox-23-the-length-property-of-an-array-can-be-made-non-writable-but-you-shouldnt-do-it/">есть действительно веская причина не делать этого</a>.</p>

<h3 id="Internet_Explorer_8_specific_notes" name="Internet_Explorer_8_specific_notes">Примечания по Internet Explorer 8</h3>

<p>Реализация метода <code>Object.defineProperty()</code> в Internet Explorer 8 предусматривает, что он может быть <a href="http://msdn.microsoft.com/en-us/library/dd229916%28VS.85%29.aspx" class="external">использован только для объектов DOM</a>. Нужно также отметить несколько моментов:</p>

<ul>
 <li>Попытка использовать <code>Object.defineProperty()</code> на родных объектах приведёт к ошибке.</li>
 <li>Атрибуты свойств должны быть равны определённым значениям. Атрибуты <code>configurable</code>, <code>enumerable</code> и <code>writable</code> дескриптора данных должны содержать значения <code>true</code>, <code>true</code> и <code>true</code>, а атрибуты <code>configurable</code> и <code>enumerable</code> дескриптора доступа должны содержать значения <code>true</code> и <code>false</code> соответственно.(?) Любая попытка присвоить атрибутам другие значения приведёт к ошибке.</li>
 <li>Для того, чтобы изменить конфигурацию свойства, сначала его нужно удалить. Если свойство не будет удалено, оно останется в том же виде, что и до попытки изменения его конфигурации.</li>
</ul>

<h2 id="See_also" name="See_also">Смотрите также</h2>

<ul>
 <li><a href="/ru/docs/Enumerability_and_ownership_of_properties">Перечисляемость и собственность свойств</a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties"><code>Object.defineProperties()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.propertyIsEnumerable()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/watch"><code>Object.prototype.watch()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/unwatch"><code>Object.prototype.unwatch()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Operators/get"><code>get</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Operators/set"><code>set</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/create"><code>Object.create()</code></a></li>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty/Additional_examples">Дополнительные примеры по <code>Object.defineProperty()</code></a></li>
</ul>
