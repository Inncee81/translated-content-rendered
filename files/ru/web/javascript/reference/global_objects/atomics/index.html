---
title: Atomics
slug: Web/JavaScript/Reference/Global_Objects/Atomics
translation_of: Web/JavaScript/Reference/Global_Objects/Atomics
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects">Стандартные встроенные объекты</a></strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics"><code>Atomics</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Методы</strong></a><ol><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/add"><code>Atomics.add()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/and"><code>Atomics.and()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/and$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/compareExchange"><code>Atomics.compareExchange()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/compareExchange$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/exchange"><code>Atomics.exchange()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/exchange$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/isLockFree"><code>Atomics.isLockFree()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/isLockFree$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/load"><code>Atomics.load()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/load$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/notify"><code>Atomics.notify()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/notify$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/or"><code>Atomics.or()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/or$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/store"><code>Atomics.store()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/store$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/sub"><code>Atomics.sub()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait"><code>Atomics.wait()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait$translate">[Перевести]</a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/xor"><code>Atomics.xor()</code></a> <a style="opacity: 0.5;" href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/xor$translate">[Перевести]</a></li></ol></li><li><strong>Наследование:</strong></li><li><strong><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Свойства</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/count"><code>Object.prototype.__count__</code></a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/noSuchMethod"><code>Object.prototype.__noSuchMethod__</code></a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/parent"><code>Object.prototype.__parent__</code></a></s></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li><a href="#"><strong>Методы</strong></a><ol><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Это API не было стандартизировано."><i class="icon-warning-sign"> </i></span></span><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/unwatch"><code>Object.prototype.unwatch()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><span class="sidebar-icon"><span title="Это устаревшее API больше не должно использоваться, но оно по-прежнему может работать."><i class="icon-thumbs-down-alt"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Этот API вышел из употребления и его работа больше не гарантируется."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/watch"><code>Object.prototype.watch()</code></a></s></li><li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li></ol></li></ol></section></div>

<div>Объект <strong><code>Atomics</code></strong> предоставляет атомарные операции как статические методы. Используется вместе с объектом <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer" title="Объект SharedArrayBuffer используется для создания разделенного буфера фиксированной длины для хранения примитивных бинарных данных, подобно объекту ArrayBuffer, но могут быть использованы для создания обзора на разделенную память. В отличие от ArrayBuffer, SharedArrayBuffer не может быть отсоединен."><code>SharedArrayBuffer</code></a>. </div>

<div> </div>

<p>Атомарные операции установлены в модуле <code>Atomics</code>. В отличие от других глобальных объектов, <code>Atomics</code> не является конструктором. Его нельзя использовать вместе с оператором <a href="/en-US/docs/Web/JavaScript/Reference/Operators/new"><code>new</code></a> или вызывать объект <code>Atomics</code> как функцию. Все свойства и методы <code>Atomics</code> статические (как у объекта <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Math" title="Объект Math является встроенным объектом, хранящим в своих свойствах и методах различные математические константы и функции. Объект Math не является функциональным объектом."><code>Math</code></a>, к примеру).</p>

<h2 id="Свойства">Свойства</h2>

<dl>
 <dt><code>Atomics[Symbol.toStringTag]</code></dt>
 <dd>Значение этого свойства - &quot;Atomics&quot;.</dd>
</dl>

<h2 id="Методы">Методы</h2>

<h3 id="Атомарные_операции">Атомарные операции</h3>

<p>Когда память разделена, несколько потоков могут читать и записывать одни и те же данные в память. Атомарные операции гарантируют, что ожидаемые значения будут записаны и прочитаны, а операции завершены, прежде чем следующая операция начнет свою работу, и они не будут прерваны.</p>

<dl>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/add" title="Статический метод Atomics.add() добавляет значение к текущему по указанной позиции в массиве и возвращает предыдущее значение в этой позиции. Эта атомарная опреация гарантирует, что никакой другой записи не произойдет, пока измененное значение не будет записано обратно."><code>Atomics.add()</code></a></dt>
 <dd>Добавляет представленное значение к текущему по указанной позиции в массиве. Возвращает предыдущее значение в этой позиции.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/and" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.and()</code></a></dt>
 <dd>Вычисляет побитовое AND в указанной позиции массива. Возвращает предыдущее значение в этой позиции.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/compareExchange" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.compareExchange()</code></a></dt>
 <dd>Сохраняет представленное значение в указанную позицию массива, если оно эквивалентно представленному значению. Возвращает предыдущее значение.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/exchange" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.exchange()</code></a></dt>
 <dd>Сохраняет представленное значение в указанную позицию массива. Возвращает предыдущее значение.</dd>
</dl>

<dl>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/load" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.load()</code></a></dt>
 <dd>Возвращает значение из указаной позиции массива.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/or" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.or()</code></a></dt>
 <dd>Вычисляет побитовое OR в указанной позиции массивая. Возвращает предыдущее значение в этой позиции.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/store" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.store()</code></a></dt>
 <dd>Сохраняет представленное значение в указанную позицию массива. Возвращает значение.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/sub" title="Статический метод Atomics.sub() вычитает представленное значение из текущего по указанной позиции в массиве и возвращает предыдущее значение в этой позиции. Эта атомарная опреация гарантирует, что никакой другой записи не произойдет, пока измененное значение не будет записано обратно."><code>Atomics.sub()</code></a></dt>
 <dd>Вычитает представленное значение из текущего по указанной позиции в массиве. Возвращает предыдущее значение в этой позиции.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/xor" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.xor()</code></a></dt>
 <dd>Вычисляет побитовое XOR в указанной позиции массива. Возвращает предыдущее значение в этой позиции.</dd>
</dl>

<h3 id="Wait_и_notify">Wait и notify</h3>

<p><code>wait()</code> и <code>wake()</code> методы моделируются на основе futexes (&quot;fast user-space mutex&quot; - быстрый мьютекс пользовательского пространства) Linux и предоставляют собой способы ожидания момента, когда определенное состояние не станет true, и обычно используется как блокирующие конструкции.</p>

<dl>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.wait()</code></a></dt>
 <dd>
 <p>Проверяет, содержится в указанной позиции массива все еще представленное значение и спит в ожидании или тайм-аут. Возвращает <code>&quot;ok&quot;</code>, <code>&quot;not-equal&quot; </code>или <code>&quot;timed-out&quot;</code>. Если ожидание не разрешено в вызывающем агенете, тогда выбросит ошибку исключения (большинство браузеров не разрешают <code>wait()</code> в главном потоке барузера).</p>
 </dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wake" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.wake()</code></a></dt>
 <dd>Пробуждает некоторых агентов, которые спят в очереди ожидания в указанной позиции массива. Возвращает количество агентов, которые были разбужены.</dd>
 <dt><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/isLockFree" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>Atomics.isLockFree(size)</code></a></dt>
 <dd>
 <p>Оптимизационный примитив, который может быть использован для определения использовать ли блокирующие операции или атомарные. Возвращает <code>true</code>, если атомарные операции над массивaми с указанным размерами элеменатов будут выполнены с использованием аппаратных атомарных опреаций (как противоположность блокирующим). Только для специалистов.</p>
 </dd>
</dl>

<h2 id="Спецификации">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://tc39.github.io/ecma262/#sec-atomics-object" class="external" hreflang="en">ECMAScript Latest Draft (ECMA-262)<br><small lang="ru">Определение &apos;Atomics&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Draft">Черновик</span></td>
   <td>Initial definition in ES2017.</td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.ecma-international.org/ecma-262/8.0/#sec-atomics-object" class="external" hreflang="en">ECMAScript 2017 (ECMA-262)<br><small lang="ru">Определение &apos;Atomics&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Standard">Стандарт</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Поддержка_браузерами">Поддержка браузерами</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/ru/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Настольные</a></li>
        <li><a>Мобильные</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">Нет</span> [2]</td>
   <td><a href="/en-US/Firefox/Releases/55">55</a> (55) [1]</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
   <td>55.0 (55) [1]</td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
   <td><span style="color: #f00;">Нет</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] In Firefox version 46 until version 54, this feature is disabled by a preference setting. In about:config, set <code>javascript.options.shared_memory</code> to <code>true</code>. </p>

<p>[2] The implementation is under development and needs these runtime flags: <code>--js-flags=--harmony-sharedarraybuffer --enable-blink-feature=SharedArrayBuffer</code></p>

<h2 id="Похожие_заметки">Похожие заметки</h2>

<p>До SpiderMonkey 48 (Firefox 48 / Thunderbird 48 / SeaMonkey 2.45), финальные имена API и сематика не были еще реализованы. Изменения между Firefox v. 46 и v. 48:</p>

<ul>
 <li>Методы <code>Atomics.futexWakeOrRequeue()</code> и <code>Atomics.fence()</code> полностью удалены (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1259544">баг 1259544</a> и <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1225028">баг 1225028</a>).</li>
 <li>Методы <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait"><code>Atomics.wait()</code></a> и <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wake"><code>Atomics.wake()</code></a> были назвны <code>Atomics.futexWait()</code> и <code>Atomics.futexWake()</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1260910">баг 1260910</a>). Заметка: старые имена были удалены в версии 49 и младше (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1262062">баг 1262062</a>).</li>
 <li>Свойства <code>Atomics.OK</code>, <code>Atomics.TIMEDOUT</code>, <code>Atomics.NOTEQUAL</code> были удалены. <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait"><code>Atomics.wait()</code></a> метод теперь возвращает строки &quot;ok&quot;, &quot;timed-out&quot; и &quot;not-equal&quot; (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1260835">баг 1260835</a>).</li>
 <li>
  <p>Параметр <code>count</code> метода <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wake"><code>Atomics.wake()</code></a> изменился: теперь он по умолчанию равен <code>+Infinity</code>, а не <code>0</code> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1253350">баг 1253350</a>).</p>
 </li>
</ul>

<h2 id="Смотри_также">Смотри также</h2>

<ul>
 <li><a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a></li>
 <li><a href="/en-US/docs/Web/JavaScript/Typed_arrays">JavaScript typed arrays</a></li>
 <li><a href="/en-US/docs/Web/API/Web_Workers_API">Web Workers</a></li>
 <li><a href="https://github.com/lars-t-hansen/parlib-simple">parlib-simple </a>– a simple library providing synchronization and work distribution abstractions.</li>
 <li><a href="https://github.com/tc39/ecmascript_sharedmem/blob/master/TUTORIAL.md">Shared Memory – a brief tutorial</a></li>
 <li><a href="https://hacks.mozilla.org/2016/05/a-taste-of-javascripts-new-parallel-primitives/">A Taste of JavaScript’s New Parallel Primitives – Mozilla Hacks</a></li>
</ul>
