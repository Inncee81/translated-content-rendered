---
title: Веб-компоненты
slug: Web/Web_Components
translation_of: Web/Web_Components
---
<p>Веб-компоненты - это набор различных технологий, позволяющих создавать повторно используемые настраиваемые элементы с их функциональностью, инкапсулированной отдельно от остальной части вашего кода - и использовать их в ваших веб-приложениях.</p>

<h2 id="Понятия_и_использование">Понятия и использование</h2>

<p>Как разработчики, все мы знаем, что как можно больше повторного использования кода - хорошая идея. Традиционно это было не так просто для пользовательских структур разметки - подумайте о сложном HTML (и связанном с ним стиле и сценарии), которые вам иногда приходилось писать для визуализации пользовательских элементов управления UI, и о том, как их многократное использование может превратить вашу страницу в беспорядок если вы не будете осторожны.</p>

<p>Веб-компоненты направлены на решение таких проблем - они состоят из трех основных технологий, которые можно использовать вместе для создания универсальных настраиваемых элементов с инкапсулированной функциональностью, которые можно повторно использовать где угодно, не опасаясь коллизий кода.</p>

<ul>
 <li><strong>Пользовательские элементы</strong>: набор API-интерфейсов JavaScript, позволяющих определять пользовательские элементы и их поведение, которые затем можно использовать по желанию в пользовательском интерфейсе.</li>
 <li><strong>Shadow DOM</strong>: набор API-интерфейсов JavaScript для прикрепления инкапсулированного «теневого» дерева DOM к элементу, который отображается отдельно от DOM основного документа, и управления соответствующими функциями. Таким образом, вы можете сохранить функции элемента в секрете, поэтому для них можно создавать сценарии и стили, не опасаясь коллизий с другими частями документа.</li>
 <li><strong>HTML templates</strong>: элементы <a href="/ru/docs/Web/HTML/Element/template"><code>&lt;template&gt;</code></a> и <a href="/ru/docs/Web/HTML/Element/slot"><code>&lt;slot&gt;</code></a> позволяют создавать шаблоны разметки, которыx не видно на отображаемой странице. Затем их можно многократно использовать в качестве основы структуры настраиваемого элемента.</li>
</ul>

<p>Базовый подход к реализации веб-компонента обычно выглядит примерно так:</p>

<ol>
 <li>Создайте класс, в котором вы указываете функциональность своего веб-компонента, используя синтаксис классов ECMAScript 2015 (дополнительную информацию см. в разделе <a href="https://wiki.developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Classes">Классы</a>).</li>
 <li>Зарегистрируйте свой новый настраиваемый элемент с помощью метода <a href="/ru/docs/Web/API/CustomElementRegistry/define"><code>CustomElementRegistry.define()</code></a>, передав ему имя элемента, который будет определен, класс или функцию, в которых указана его функцианальность, и, необязательно, от какого элемента он наследуется.</li>
 <li>При необходимости прикрепите теневую DOM к настраиваемому элементу с помощью метода <a href="/ru/docs/Web/API/Element/attachShadow"><code>Element.attachShadow()</code></a>. Добавьте дочерние элементы, прослушиватели событий и т.д. в теневой DOM, используя обычные методы DOM.</li>
 <li>При необходимости определите HTML template, используя <a href="/ru/docs/Web/HTML/Element/template" title="HTML элемент контент шаблона  &lt;template&gt; - это механизм для отложенного создания клиентского контента, который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript."><code>&lt;template&gt;</code></a> и <a href="/ru/docs/Web/HTML/Element/slot" title="HTML элемент &lt;slot&gt; является частью набора технологии Web Components, является заполнителем внутри веб компонента, который можно заполнить собственной разметкой, которая позволяет создавать отдельные деревья DOM и представлять их вместе."><code>&lt;slot&gt;</code></a>. Снова используйте обычные методы DOM, чтобы клонировать шаблон и прикрепить его к вашей теневой DOM.</li>
 <li>Используйте свой настраиваемый элемент везде, где хотите, на своей странице, как и любой обычный элемент HTML.</li>
</ol>

<h2 id="Учебники">Учебники</h2>

<dl>
 <dt><a href="/ru/docs/Web/Web_Components/Using_custom_elements">Использование пользовательских элементов </a></dt>
 <dd>Руководство, показывающее, как использовать функции настраиваемых элементов для создания простых веб-компонентов, а также рассказывает про обратные вызовы жизненного цикла и некоторые другие более сложные функции.</dd>
 <dt><a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">Использование shadow DOM</a></dt>
 <dd>Руководство, которое рассматривает основы теневой DOM, показывает, как прикрепить теневую DOM к элементу, добавлять к теневому дереву DOM, стилизовать его и многое другое.</dd>
 <dt><a href="/ru/docs/Web/Web_Components/Using_templates_and_slots">Использование шаблонов и слотов</a></dt>
 <dd>Руководство, показывающее, как определить повторно используемую структуру HTML с помощью элементов <a href="/ru/docs/Web/HTML/Element/template" title="HTML элемент контент шаблона  &lt;template&gt; - это механизм для отложенного создания клиентского контента, который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript."><code>&lt;template&gt;</code></a> и <a href="/ru/docs/Web/HTML/Element/slot" title="HTML элемент &lt;slot&gt; является частью набора технологии Web Components, является заполнителем внутри веб компонента, который можно заполнить собственной разметкой, которая позволяет создавать отдельные деревья DOM и представлять их вместе."><code>&lt;slot&gt;</code></a>, а затем использовать эту структуру внутри ваших веб-компонентов.</dd>
</dl>

<h2 id="Справка">Справка</h2>

<h3 id="Пользовательские_элементы">Пользовательские элементы</h3>

<dl>
 <dt><a href="/ru/docs/Web/API/CustomElementRegistry"><code>CustomElementRegistry</code></a></dt>
 <dd>Содержит функции, связанные с настраиваемыми элементами, в первую очередь с методом <a href="/ru/docs/Web/API/CustomElementRegistry/define"><code>CustomElementRegistry.define()</code></a>, используемым для регистрации новых настраиваемых элементов, чтобы их можно было затем использовать в вашем документе.</dd>
 <dt><a href="/ru/docs/Web/API/Window/customElements"><code>Window.customElements</code></a></dt>
 <dd>Возвращает ссылку на объект <code>CustomElementRegistry</code>.</dd>
 <dt><a href="/ru/docs/Web/Web_Components/Using_custom_elements#Использование_lifecycle_callbacks">Обратные вызовы жизненного цикла</a></dt>
 <dd>Специальные функции обратного вызова, определенные внутри определения класса настраиваемого элемента, которые влияют на его поведение:
 <ul>
  <li><code>connectedCallback</code>: вызывается, когда настраиваемый элемент впервые подключается к DOM документа.</li>
  <li><code>disconnectedCallback</code>: вызывается, когда пользовательский элемент отключается от DOM документа.</li>
  <li><code>adoptedCallback</code>: вызывается, когда настраиваемый элемент перемещается в новый документ.</li>
  <li><code>attributeChangedCallback</code>: вызывается при добавлении, удалении или изменении одного из атрибутов настраиваемого элемента.</li>
 </ul>
 </dd>
 <dt>Расширения для создания пользовательских встроенных элементов</dt>
 <dd>
 <ul>
  <li>Глобальный атрибут HTML <code><a href="/ru/docs/Web/HTML/Global_attributes#attr-is">is</a></code>: позволяет указать, что стандартный элемент HTML должен вести себя как зарегистрированный встроенный пользовательский элемент.</li>
  <li>Параметр «is» метода <a href="/ru/docs/Web/API/Document/createElement"><code>Document.createElement()</code></a>: позволяет создать экземпляр стандартного HTML-элемента, который ведет себя как заданный зарегистрированный настраиваемый встроенный элемент.</li>
 </ul>
 </dd>
 <dt>Псевдоклассы CSS</dt>
 <dd>Псевдоклассы, относящиеся конкретно к настраиваемым элементам:
 <ul>
  <li><a href="/ru/docs/Web/CSS/:defined"><code>:defined</code></a>: Соответствует любому заданному элементу, включая встроенные элементы и настраиваемые элементы, определенные с помощью <code>CustomElementRegistry.define()</code>.</li>
  <li><a href="/ru/docs/Web/CSS/:host"><code>:host</code></a>: Выбирает теневой хост <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">теневого DOM</a>, содержащего CSS, внутри которого он используется.</li>
  <li><a href="/ru/docs/Web/CSS/:host()"><code>:host()</code></a>: Выбирает теневой хост <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">теневой DOM</a>, содержащий CSS, внутри которого он используется (так что вы можете выбрать пользовательский элемент изнутри его теневой DOM) - но только если селектор, указанный в качестве параметра функции, совпадает с теневым хостом.</li>
  <li><a href="/ru/docs/Web/CSS/:host-context()"><code>:host-context()</code></a>: Выбирает теневой хост <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">теневой DOM</a>, содержащий CSS, внутри которого он используется (так что вы можете выбрать пользовательский элемент изнутри его теневой DOM) - но только если селектор, указанный в качестве параметра функции, совпадает с предком(-ами) теневого хоста в том месте, где он находится внутри иерархии DOM.</li>
 </ul>
 </dd>
 <dt>Псевдоэлементы CSS</dt>
 <dd>Псевдоэлементы, относящиеся конкретно к настраиваемым элементам:
 <ul>
  <li><a href="/ru/docs/Web/CSS/::part"><code>::part</code></a>: Представляет любой элемент в <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">теневом дереве</a>, имеющий соответствующий атрибут <code><a href="/ru/docs/Web/HTML/Global_attributes#attr-part">part</a></code>.</li>
 </ul>
 </dd>
</dl>

<h3 id="Shadow_DOM">Shadow DOM</h3>

<dl>
 <dt><a href="/ru/docs/Web/API/ShadowRoot"><code>ShadowRoot</code></a></dt>
 <dd>Представляет корневой узел поддерева теневой модели DOM.</dd>
 <dt><a href="/ru/docs/Web/API/DocumentOrShadowRoot"><code>DocumentOrShadowRoot</code></a></dt>
 <dd>Миксин, определяющий функции, доступные для всех документов и теневых корневых узлов.</dd>
 <dt>Расширения <a href="/ru/docs/Web/API/Element"><code>Element</code></a></dt>
 <dd>Расширения интерфейса <code>Element</code>, связанные с теневой DOM:
 <ul>
  <li>Метод <a href="/ru/docs/Web/API/Element/attachShadow"><code>Element.attachShadow()</code></a> прикрепляет теневое дерево DOM к указанному элементу.</li>
  <li>Свойство <a href="/ru/docs/Web/API/Element/shadowRoot"><code>Element.shadowRoot</code></a> возвращает теневой корневой узел, прикрепленный к указанному элементу, или значение <code>null</code>, если корневой узел не прикреплен.</li>
 </ul>
 </dd>
 <dt>Соответствующие дополнения <a href="/ru/docs/Web/API/Node"><code>Node</code></a></dt>
 <dd>Дополнения к интерфейсу <code>Node</code>, относящиеся к теневой DOM:
 <ul>
  <li>Метод <a href="/ru/docs/Web/API/Node/getRootNode"><code>Node.getRootNode()</code></a> возвращает корень объекта контекста, который необязательно включает теневой корневой узел, если он доступен.</li>
  <li>Свойство <a href="/ru/docs/Web/API/Node/isConnected"><code>Node.isConnected</code></a> возвращает логическое значение, указывающее, подключен ли узел (прямо или косвенно) к объекту контекста, например объект <a href="/ru/docs/Web/API/Document"><code>Document</code></a> в случае обычного DOM или <a href="/ru/docs/Web/API/ShadowRoot"><code>ShadowRoot</code></a> в случае теневого DOM.</li>
 </ul>
 </dd>
 <dt>Расширения <a href="/ru/docs/Web/API/Event"><code>Event</code></a></dt>
 <dd>Расширения интерфейса <code>Event</code>, относящиеся к теневой модели DOM:
 <ul>
  <li><a href="/ru/docs/Web/API/Event/composed"><code>Event.composed</code></a>: возвращает <a href="/ru/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a>, который указывает, будет ли событие распространяться через границу теневой DOM в стандартную DOM (<code>true</code>) или нет (<code>false</code>).</li>
  <li><a href="/ru/docs/Web/API/Event/composedPath"><code>Event.composedPath</code></a>: возвращает путь к событию (объекты, для которых будут вызваны слушатели). Это не включает узлы в теневых деревьях, если теневой кореневой узел был создан с закрытым <a href="/ru/docs/Web/API/ShadowRoot/mode"><code>ShadowRoot.mode</code></a>.</li>
 </ul>
 </dd>
</dl>

<h3 id="HTML_templates">HTML templates</h3>

<dl>
 <dt><a href="/ru/docs/Web/HTML/Element/template" title="HTML элемент контент шаблона  &lt;template&gt; - это механизм для отложенного создания клиентского контента, который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript."><code>&lt;template&gt;</code></a></dt>
 <dd>Содержит фрагмент HTML, который не отображается при первоначальной загрузке содержащего документа, но может отображаться во время выполнения с помощью JavaScript, который в основном используется в качестве основы для структур настраиваемых элементов. Связанный интерфейс DOM - <a href="/ru/docs/Web/API/HTMLTemplateElement"><code>HTMLTemplateElement</code></a>.</dd>
 <dt><a href="/ru/docs/Web/HTML/Element/slot" title="HTML элемент &lt;slot&gt; является частью набора технологии Web Components, является заполнителем внутри веб компонента, который можно заполнить собственной разметкой, которая позволяет создавать отдельные деревья DOM и представлять их вместе."><code>&lt;slot&gt;</code></a></dt>
 <dd>Заполнитель внутри веб-компонента, который можно заполнить собственной разметкой, что позволяет создавать отдельные деревья DOM и представлять их вместе. Связанный интерфейс DOM - <a href="/ru/docs/Web/API/HTMLSlotElement"><code>HTMLSlotElement</code></a>.</dd>
 <dt>Глобальный HTML атрибут <code><a href="/ru/docs/Web/HTML/Global_attributes/slot">slot</a></code></dt>
 <dd>Назначает слот элементу в теневом дереве теневого DOM.</dd>
 <dt><a href="/ru/docs/Web/API/Slotable"><code>Slotable</code></a></dt>
 <dd>Миксин, реализованный как узлами <a href="/ru/docs/Web/API/Element"><code>Element</code></a>, так и <a href="/ru/docs/Web/API/Text"><code>Text</code></a>, определяющий функции, которые позволяют им стать содержимым элемента <a href="/ru/docs/Web/HTML/Element/slot" title="HTML элемент &lt;slot&gt; является частью набора технологии Web Components, является заполнителем внутри веб компонента, который можно заполнить собственной разметкой, которая позволяет создавать отдельные деревья DOM и представлять их вместе."><code>&lt;slot&gt;</code></a>. Миксин определяет один атрибут, <a href="/ru/docs/Web/API/Slotable/assignedSlot"><code>Slotable.assignedSlot</code></a>, который возвращает ссылку на слот, в который вставлен узел.</dd>
 <dt><a href="/ru/docs/Web/API/Element"><code>Element</code></a> extensions</dt>
 <dd>Расширения интерфейса <code>Element</code>, относящиеся к слотам:
 <ul>
  <li><a href="/ru/docs/Web/API/Element/slot"><code>Element.slot</code></a>: Возвращает имя слота теневого DOM, прикрепленного к элементу.</li>
 </ul>
 </dd>
 <dt>Псевдоэлементы CSS</dt>
 <dd>Псевдоэлементы, относящиеся конкретно к слотам:
 <ul>
  <li><a href="/ru/docs/Web/CSS/::slotted"><code>::slotted</code></a>: Соответствует любому содержимому, вставленному в слот.</li>
 </ul>
 </dd>
 <dt>Событие <code><a href="/ru/docs/Web/Reference/Events/slotchange" title="/ru/docs/Web/Reference/Events/slotchange">slotchange</a></code></dt>
 <dd>Вызывается для экземпляра <a href="/ru/docs/Web/API/HTMLSlotElement"><code>HTMLSlotElement</code></a> (элемент <a href="/ru/docs/Web/HTML/Element/slot" title="HTML элемент &lt;slot&gt; является частью набора технологии Web Components, является заполнителем внутри веб компонента, который можно заполнить собственной разметкой, которая позволяет создавать отдельные деревья DOM и представлять их вместе."><code>&lt;slot&gt;</code></a>) при изменении узла(-ов), содержащихся в этом слоте.</dd>
</dl>

<h2 id="Примеры">Примеры</h2>

<p>Мы создаем ряд примеров в репозитории GitHub с <a href="https://github.com/mdn/web-components-examples">примерами веб-компонентов</a>. Со временем будет добавлено больше.</p>

<h2 id="Спецификации">Спецификации</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарии</th>
  </tr>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element" hreflang="en" lang="en">HTML Living Standard<br><small lang="ru">Определение &apos;&lt;template&gt; element&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>Определение <a href="/ru/docs/Web/HTML/Element/template"><code>&lt;template&gt;</code></a>.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/custom-elements.html#custom-elements" hreflang="en" lang="en">HTML Living Standard<br><small lang="ru">Определение &apos;custom elements&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>Определение <a href="/ru/docs/Web/Web_Components/Использование_пользовательских_элементов">пользовательских HTML элементов</a></td>
  </tr>
  <tr>
   <td><a class="external" href="https://dom.spec.whatwg.org/#shadow-trees" hreflang="en" lang="en">DOM<br><small lang="ru">Определение &apos;shadow trees&apos; в этой спецификации.</small></a></td>
   <td><span class="spec-Living">Живой стандарт</span></td>
   <td>Определение <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a></td>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/webcomponents/spec/imports/" hreflang="en" lang="en">HTML Imports</a></td>
   <td><span class="spec-WD">Рабочий черновик</span></td>
   <td>Начальное определение <a href="/ru/docs/Web/Web_Components/HTML_Imports">HTML импорта</a></td>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/webcomponents/spec/shadow/" hreflang="en" lang="en">Shadow DOM</a></td>
   <td><span class="spec-Obsolete">Устаревшая</span></td>
   <td>Начальное определение <a href="/ru/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a></td>
  </tr>
 </tbody>
</table>

<h2 id="Совместимость_с_браузерами">Совместимость с браузерами</h2>

<p>В основном:</p>

<ul>
 <li>Веб-компоненты по умолчанию поддерживаются в Firefox (версия 63), Chrome и Opera.</li>
 <li>Safari поддерживает ряд функций веб-компонентов, но меньше, чем указанные выше браузеры.</li>
 <li>Edge работает над реализацией.</li>
</ul>

<p>Для получения подробной информации о поддержке определенных функций браузером обратитесь к перечисленным выше справочным страницам.</p>

<h2 id="Смотрите_также">Смотрите также</h2>

<ul>
 <li><a href="https://www.webcomponents.org/">webcomponents.org</a> - сайт с примерами веб-компонентов, учебными пособиями и другой информацией.</li>
 <li><a href="https://fast.design/" rel="noopener">FAST</a> - это библиотека веб-компонентов, созданная Microsoft, которая предлагает несколько пакетов для использования в зависимости от потребностей вашего проекта. <a href="https://github.com/microsoft/fast/tree/master/packages/web-components/fast-element" rel="noopener">Fast Element</a> - это легкое средство для простого создания производительных, эффективных с точки зрения памяти и совместимых со стандартами веб-компонентов. <a href="https://github.com/microsoft/fast/tree/master/packages/web-components/fast-foundation" rel="noopener">Fast Foundation</a> - это библиотека классов, шаблонов и других утилит веб-компонентов, построенная на основе fast-element, предназначенная для создания зарегистрированных веб-компонентов.</li>
 <li><a href="https://github.com/hybridsjs/hybrids">Hybrids</a> - библиотека веб-компонентов с открытым исходным кодом, которая предпочитает простые объекты и чистые функции <code>class</code> и <code>this</code> синтаксису. Он предоставляет простой и функциональный API для создания пользовательских элементов.</li>
 <li><a href="https://www.polymer-project.org/">Polymer</a> - каркас веб-компонентов Google - набор полифилов, улучшений и примеров. На данный момент самый простой способ кроссбраузерно использовать веб-компоненты.</li>
 <li><a href="https://github.com/devpunks/snuggsi#readme">Snuggsi</a> - Простые веб-компоненты размером ~ 1 КБ, <em>включая полифил</em> - Все, что вам нужно, это браузер и базовое понимание классов HTML, CSS и JavaScript для продуктивной работы.</li>
 <li><a href="https://github.com/slimjs/slim.js">Slim.js</a> - библиотека веб-компонентов с открытым исходным кодом - высокопроизводительная библиотека для быстрой и простой разработки компонентов; расширяемая, подключаемая и кросс-платформенная.</li>
 <li><a href="https://stenciljs.com/">Stencil</a> - набор инструментов для создания многоразовых масштабируемых систем проектирования в веб-компонентах.</li>
</ul>
