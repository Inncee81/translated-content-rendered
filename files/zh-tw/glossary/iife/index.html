---
title: IIFE
slug: Glossary/IIFE
translation_of: Glossary/IIFE
---
<p><strong>IIFE </strong>(Immediately Invoked Function Expression) 是一個定義完馬上就執行的 <a href="/en-US/docs/Glossary/JavaScript" class="glossaryLink" title="JavaScript: JavaScript (JS) is a programming language mostly used to dynamically script webpages on the client side, but it is also often utilized on the server-side, using packages such as Node.js.">JavaScript</a> <a href="/en-US/docs/Glossary/function" class="glossaryLink" title="function: A function is a code snippet that can be called by other code or by itself, or a variable that refers to the function. When a function is called, arguments are passed to the function as input, and the function can optionally return an output. A function in JavaScript is also an object.">function</a>。</p>

<p>他又稱為 <a href="/en-US/docs/Glossary/Self-Executing_Anonymous_Function" class="glossaryLink" title="Self-Executing Anonymous Function: A JavaScript function that runs as soon as it is defined. Also known as an IIFE (Immediately Invoked Function Expression).">Self-Executing Anonymous Function</a>，也是一種常見的設計模式，包含兩個主要部分：第一個部分是使用<a href="/zh-TW/docs/Web/JavaScript/Reference/Operators/Grouping" title="The documentation about this has not yet been written; please consider contributing!"><code>Grouping Operator</code></a> <code> ()</code> 包起來的 anonymous function。這樣的寫法可以避免裡面的變數污染到 global scope。</p>

<p>第二個部分是馬上執行 function 的 expression <code>()</code>，JavaScript 引擎看到它就會立刻轉譯該 function。</p>

<h2 id="Examples">Examples</h2>

<p>Function 轉換為 expression 形式，並且馬上執行，function scope 內的變數在外面是無法存取的。</p>

<pre class="brush: js"><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    var aName = &quot;Barry&quot;;
<span class="p">})();
// Variable name is not accessible from the outside scope
aName </span>// throws &quot;Uncaught ReferenceError: aName is not defined&quot;
</pre>

<p>把 IIFE 只配給變數會儲存它的結果，而非 function 本身</p>

<pre class="brush: js"><span class="p">var result = (</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    var name = &quot;Barry&quot;;
    return name;
<span class="p">})();
// Immediately creates the output:
result; // &quot;Barry&quot;</span></pre>

<h3 id="其它形式">其它形式</h3>

<p>符合 JSLint 的版本，行為一樣，只有語意略有差異：</p>

<pre class="brush: js">(function () {
    var aName = &quot;Barry&quot;;
}());
</pre>

<p>Arrow function 版本，程式碼更為精簡，行為一致：</p>

<pre class="brush: js">(() =&gt; {
    var aName = &quot;Barry&quot;;
})();</pre>

<p>Async function 版本，目前主要為了 top level await 而使用：</p>

<pre class="brush: js">(async function () {
    var aName = &quot;Barry&quot;;
})();

(async () =&gt; {
    var aName = &quot;Barry&quot;;
})();</pre>

<h2 id="更多資訊">更多資訊</h2>

<h3 id="學習它">學習它</h3>

<ul>
 <li><a href="/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript#Functions">Quick example</a> (在 &quot;Functions&quot; 部分的最後面,  &quot;Custom objects&quot; 的正前面)</li>
</ul>

<h3 id="基本知識">基本知識</h3>

<ul>
 <li><a href="https://zh.wikipedia.org/wiki/Immediately-invoked function expression">IIFE</a> 維基百科</li>
</ul>
