---
title: Notifications API
slug: Web/API/Notifications_API
translation_of: Web/API/Notifications_API
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-TW/docs/Web/API/Notifications_API">Notifications API</a></strong></li><li class="toggle"><details open><summary>Guides</summary><ol><li><a href="/zh-TW/docs/Web/API/Notifications_API/Using_the_Notifications_API">使用 Web Notifications</a></li></ol></details></li><li class="toggle"><details open><summary>Interfaces</summary><ol><li><a href="/zh-TW/docs/Web/API/Notification"><code>Notification</code></a></li><li><a href="/zh-TW/docs/Web/API/NotificationEvent"><code>NotificationEvent</code></a></li></ol></details></li><li class="toggle"><details open><summary>Properties</summary><ol><li><a href="/zh-TW/docs/Web/API/ServiceWorkerGlobalScope/onnotificationclick"><code>ServiceWorkerGlobalScope.onnotificationclick</code></a></li></ol></details></li><li class="toggle"><details open><summary>Methods</summary><ol><li><a href="/zh-TW/docs/Web/API/ServiceWorkerRegistration/showNotification"><code>ServiceWorkerRegistration.showNotification()</code></a></li><li><a href="/zh-TW/docs/Web/API/ServiceWorkerRegistration/getNotifications"><code>ServiceWorkerRegistration.getNotifications()</code></a></li></ol></details></li></ol></section>

<p class="summary"><span class="tlid-translation translation" lang="zh-TW"><span title>Notifications API允許網頁控制向終端用戶顯示系統通知</span></span> — 它在網頁瀏覽器的視圖之外，因此使用者切換顯示卡或移至不同的應用程式也能顯示。此 API 設計為在相容於不同平台與現有的通知系統相容。</p>

<h2 id="概念與使用方法">概念與使用方法</h2>

<p><span class="tlid-translation translation" lang="zh-TW"><span title>在受到支持的平台上，顯示系統通知通常涉及兩件事。</span></span> <span class="tlid-translation translation" lang="zh-TW"><span title>首先，用戶需要授予當前的來源權限才能顯示系統通知，</span></span><span class="tlid-translation translation" lang="zh-TW"><span title>通常在應用程式或網站初始化完成後</span></span>使用<a href="/zh-TW/docs/Web/API/Notification/requestPermission"><code>Notification.requestPermission()</code></a> 方法。</p>

<pre class="brush: js">btn.addEventListener(&apos;click&apos;, function() {
  let promise = Notification.requestPermission();
  // wait for permission
})</pre>

<p>這不僅是最佳實踐 — <span class="tlid-translation translation" lang="zh-TW"><span title>您不應向用戶發送他們不同意的通知，並且在未來瀏覽器將明確禁止沒有響應用戶請求允許通知對話框的通知。Firefox 72 開始已遵循這項約定。使用此方法將產生一個請求對話框，如下所示：</span></span></p>

<p><img alt src="https://mdn.mozillademos.org/files/10819/notification-bubble.png" style="display: block; height: 205px; margin: 0 auto; width: 453px;"></p>

<p><span class="tlid-translation translation" lang="zh-TW"><span title>用戶可以從此處選擇允許、屏蔽來自此來源的通知，也可以不做選擇。</span> <span title>一旦選定，該設置通常將在當前會話中保持不變。</span></span></p>

<div class="note notecard">
<p><strong>注意</strong>: 從 Firefox 44 開始，Notifications 和 <a href="/en-US/docs/Web/API/Push_API">Push</a> 的權限已合併。如果授予通知權限則推送也將被啟用。</p>
</div>

<p>下一步，使用 <a href="/zh-TW/docs/Web/API/Notification/Notification"><code>Notification()</code></a> 構造函數創建一個新通知。 這必須要傳遞一個標題參數(title)，並且可以選擇性的傳遞選擇物件指定諸如文字方向、正文、圖標、撥放通知的聲音等等。</p>

<div class="note notecard"><strong>註：</strong> This feature is available in <a href="/zh-TW/docs/Web/API/Web_Workers_API">Web Workers</a>.</div>

<p><span class="tlid-translation translation" lang="zh-TW"><span title>另外，Notifications API規範指定了</span></span> <a href="/en-US/docs/Web/API/ServiceWorker_API">ServiceWorker API</a> <span class="tlid-translation translation" lang="zh-TW"><span title>的許多附加功能，以允許服務人員觸發通知。</span></span></p>

<div class="note notecard">
<p><strong>注意</strong>: <span class="tlid-translation translation" lang="zh-TW"><span title>要了解有關在自己的應用程序中使用通知的更多信息，請閱讀</span></span> <a href="/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">Using the Notifications API</a>。</p>
</div>

<h2 id="Notifications_介面">Notifications 介面</h2>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Notification"><code>Notification</code></a></dt>
 <dd>定義一個通知物件。</dd>
</dl>

<h3 id="Service_worker_附加功能">Service worker 附加功能</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/ServiceWorkerRegistration"><code>ServiceWorkerRegistration</code></a></dt>
 <dd>包含 <a href="/zh-TW/docs/Web/API/ServiceWorkerRegistration/showNotification"><code>ServiceWorkerRegistration.showNotification()</code></a> 和 <a href="/zh-TW/docs/Web/API/ServiceWorkerRegistration/getNotifications"><code>ServiceWorkerRegistration.getNotifications()</code></a> <span class="tlid-translation translation" lang="zh-TW"><span title>用於控制通知顯示的方法。</span></span></dd>
 <dt><a href="/zh-TW/docs/Web/API/ServiceWorkerGlobalScope"><code>ServiceWorkerGlobalScope</code></a></dt>
 <dd>包含 <a href="/zh-TW/docs/Web/API/ServiceWorkerGlobalScope/onnotificationclick"><code>ServiceWorkerGlobalScope.onnotificationclick</code></a> <span class="tlid-translation translation" lang="zh-TW"><span title>點擊通知時觸發自定義函數的處理程序。</span></span></dd>
 <dt><a href="/zh-TW/docs/Web/API/NotificationEvent"><code>NotificationEvent</code></a></dt>
 <dd>基於 <a href="/zh-TW/docs/Web/API/ExtendableEvent"><code>ExtendableEvent</code></a> <span class="tlid-translation translation" lang="zh-TW"><span title>的特定類型的事件對象，它表示已觸發的通知。</span></span></dd>
</dl>

<h2 id="規範">規範</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://notifications.spec.whatwg.org/" hreflang="en" lang="en">Notifications API</a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td>Living standard</td>
  </tr>
 </tbody>
</table>

<h2 id="瀏覽器相容性">瀏覽器相容性</h2>

<div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-TW/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>5<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-TW/docs/Web/Guide/Prefixes">webkit</a></span><sup>[1]</sup><br>
    22</td>
   <td><a href="/en-US/Firefox/Releases/4">4.0</a> (2.0)<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-TW/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    <a href="/en-US/Firefox/Releases/22">22.0</a> (22.0)</td>
   <td><span style="color: #f00;">No support</span></td>
   <td>25</td>
   <td>6<sup>[3]</sup></td>
  </tr>
  <tr>
   <td>Available in workers</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><a href="/en-US/Firefox/Releases/41">41.0</a> (41.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
  <tr>
   <td>Service worker additions</td>
   <td>
    <p>42.0</p>
   </td>
   <td><a href="/en-US/Firefox/Releases/42">42.0</a> (42.0)<sup>[4]</sup></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>
    <p><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></p>
   </td>
   <td>4.0 (2.0)<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-TW/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    22.0 (22.0)</td>
   <td>1.0.1<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/zh-TW/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br>
    1.2</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td>
    <p><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></p>
   </td>
  </tr>
  <tr>
   <td>Available in workers</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>41.0 (41.0)</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
  <tr>
   <td>Service worker additions</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td>42.0 (42.0)<sup>[4]</sup></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>42.0</td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Before Chrome 22, the support for notification followed an <a href="http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification">old prefixed version of the specification</a> and used the <a href="/zh-TW/docs/Web/API/Window/navigator/webkitNotifications"><code>navigator.webkitNotifications</code></a> object to instantiate a new notification. Before Chrome 32, <a href="/zh-TW/docs/Web/API/Notification/permission"><code>Notification.permission</code></a> was not supported.</p>

<p>[2] Prior to Firefox 22 (Firefox OS &lt;1.2), the instantiation of a new notification was done with the <a href="/zh-TW/docs/Web/API/Window/navigator/mozNotification"><code>navigator.mozNotification</code></a> object through its <code>createNotification()</code> method. In addition, the Notification was displayed when calling the <code>show()</code> method and supported only the <code>click</code> and <code>close</code> events (Nick Desaulniers wrote a <a href="https://github.com/nickdesaulniers/fxos-irc/blob/master/js/notification.js">Notification shim</a> to cover both newer and older implementations.)</p>

<p>[3] Safari started to support notification with Safari 6, but only on Mac OSX 10.8+ (Mountain Lion).</p>

<p>[4] Firefox 42 has shipped with web notifications from Service Workers disabled.</p>

<h2 id="Firefox_OS_permissions">Firefox OS permissions</h2>

<p>When using notifications  in a Firefox OS app, be sure to add the <code>desktop-notification</code> permission in your manifest file. Notifications can be used at any permission level, hosted or above:</p>

<pre class="brush: json">&quot;permissions&quot;: {
  &quot;desktop-notification&quot;: {}
}</pre>

<h2 id="參見">參見</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">Using the Notifications API</a></li>
</ul>
