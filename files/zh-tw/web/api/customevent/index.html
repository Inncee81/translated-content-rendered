---
title: CustomEvent
slug: Web/API/CustomEvent
tags:
  - 待翻譯
translation_of: Web/API/CustomEvent
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-TW/docs/Web/API/Document_Object_Model">Document Object Model</a></strong></li><li><strong><a href="/zh-TW/docs/Web/API/CustomEvent"><code>CustomEvent</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-TW/docs/Web/API/CustomEvent/CustomEvent"><code>CustomEvent()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Properties</summary><ol><li><a href="/zh-TW/docs/Web/API/CustomEvent/detail"><code>detail</code></a> <a href="/zh-TW/docs/Web/API/CustomEvent/detail$translate" style="opacity: 0.5;">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Methods</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/API/CustomEvent/initCustomEvent"><code>initCustomEvent()</code></a> <a href="/zh-TW/docs/Web/API/CustomEvent/initCustomEvent$translate" style="opacity: 0.5;">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Inheritance:</summary><ol><li><a href="/zh-TW/docs/Web/API/Event"><code>Event</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for DOM</summary><ol><li><a href="/zh-TW/docs/Web/API/AbortController"><code>AbortController</code></a></li><li><a href="/zh-TW/docs/Web/API/AbortSignal"><code>AbortSignal</code></a></li><li><a href="/zh-TW/docs/Web/API/AbstractRange"><code>AbstractRange</code></a></li><li><a href="/zh-TW/docs/Web/API/Attr"><code>Attr</code></a></li><li><a href="/zh-TW/docs/Web/API/ByteString"><code>ByteString</code></a></li><li><a href="/zh-TW/docs/Web/API/CDATASection"><code>CDATASection</code></a></li><li><a href="/zh-TW/docs/Web/API/CSSPrimitiveValue"><code>CSSPrimitiveValue</code></a></li><li><a href="/zh-TW/docs/Web/API/CSSValue"><code>CSSValue</code></a></li><li><a href="/zh-TW/docs/Web/API/CSSValueList"><code>CSSValueList</code></a></li><li><a href="/zh-TW/docs/Web/API/CharacterData"><code>CharacterData</code></a></li><li><a href="/zh-TW/docs/Web/API/ChildNode"><code>ChildNode</code></a></li><li><a href="/zh-TW/docs/Web/API/Comment"><code>Comment</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMConfiguration"><code>DOMConfiguration</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMError"><code>DOMError</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMErrorHandler"><code>DOMErrorHandler</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMException"><code>DOMException</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMImplementation"><code>DOMImplementation</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMImplementationList"><code>DOMImplementationList</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMImplementationRegistry"><code>DOMImplementationRegistry</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMImplementationSource"><code>DOMImplementationSource</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMLocator"><code>DOMLocator</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMObject"><code>DOMObject</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMParser"><code>DOMParser</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMPoint"><code>DOMPoint</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMPointInit"><code>DOMPointInit</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMPointReadOnly"><code>DOMPointReadOnly</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMRect"><code>DOMRect</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMString"><code>DOMString</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMTimeStamp"><code>DOMTimeStamp</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMTokenList"><code>DOMTokenList</code></a></li><li><a href="/zh-TW/docs/Web/API/DOMUserData"><code>DOMUserData</code></a></li><li><a href="/zh-TW/docs/Web/API/Document"><code>Document</code></a></li><li><a href="/zh-TW/docs/Web/API/DocumentFragment"><code>DocumentFragment</code></a></li><li><a href="/zh-TW/docs/Web/API/DocumentType"><code>DocumentType</code></a></li><li><a href="/zh-TW/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/zh-TW/docs/Web/API/ElementTraversal"><code>ElementTraversal</code></a></li><li><a href="/zh-TW/docs/Web/API/Entity"><code>Entity</code></a></li><li><a href="/zh-TW/docs/Web/API/EntityReference"><code>EntityReference</code></a></li><li><a href="/zh-TW/docs/Web/API/Event"><code>Event</code></a></li><li><a href="/zh-TW/docs/Web/API/EventTarget"><code>EventTarget</code></a></li><li><a href="/zh-TW/docs/Web/API/HTMLCollection"><code>HTMLCollection</code></a></li><li><a href="/zh-TW/docs/Web/API/MutationObserver"><code>MutationObserver</code></a></li><li><a href="/zh-TW/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/zh-TW/docs/Web/API/NodeFilter"><code>NodeFilter</code></a></li><li><a href="/zh-TW/docs/Web/API/NodeIterator"><code>NodeIterator</code></a></li><li><a href="/zh-TW/docs/Web/API/NodeList"><code>NodeList</code></a></li><li><a href="/zh-TW/docs/Web/API/NonDocumentTypeChildNode"><code>NonDocumentTypeChildNode</code></a></li><li><a href="/zh-TW/docs/Web/API/ProcessingInstruction"><code>ProcessingInstruction</code></a></li><li><a href="/zh-TW/docs/Web/API/PromiseResolver"><code>PromiseResolver</code></a></li><li><a href="/zh-TW/docs/Web/API/Range"><code>Range</code></a></li><li><a href="/zh-TW/docs/Web/API/StaticRange"><code>StaticRange</code></a></li><li><a href="/zh-TW/docs/Web/API/Text"><code>Text</code></a></li><li><a href="/zh-TW/docs/Web/API/TextDecoder"><code>TextDecoder</code></a></li><li><a href="/zh-TW/docs/Web/API/TextEncoder"><code>TextEncoder</code></a></li><li><a href="/zh-TW/docs/Web/API/TimeRanges"><code>TimeRanges</code></a></li><li><a href="/zh-TW/docs/Web/API/TreeWalker"><code>TreeWalker</code></a></li><li><a href="/zh-TW/docs/Web/API/TypeInfo"><code>TypeInfo</code></a></li><li><a href="/zh-TW/docs/Web/API/USVString"><code>USVString</code></a></li><li><a href="/zh-TW/docs/Web/API/UserDataHandler"><code>UserDataHandler</code></a></li><li><a href="/zh-TW/docs/Web/API/XMLDocument"><code>XMLDocument</code></a></li></ol></details></li></ol></section>

<p><strong><code>CustomEvent</code></strong> interface 是應用程式為了任意目的所初始化的事件。</p>

<h2 id="建構式">建構式</h2>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/CustomEvent/CustomEvent"><code>CustomEvent()</code></a></dt>
 <dd>建立一個 <code>CustomEvent。</code></dd>
</dl>

<h2 id="屬性">屬性</h2>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/CustomEvent/detail"><code>CustomEvent.detail</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>初始化事件時傳送的任意資料。</dd>
</dl>

<p><em>此介面繼承了其父介面 <a href="/zh-TW/docs/Web/API/Event"><code>Event</code></a> 的屬性：</em></p>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Event/bubbles"><code>Event.bubbles</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>布林值，表示事件是否會向上冒泡傳遞。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/cancelBubble"><code>Event.cancelBubble</code></a></dt>
 <dd>由於歷史性因素，此屬性的效果等同於 <a href="/zh-TW/docs/Web/API/Event/stopPropagation"><code>stopPropagation()</code></a> 方法。若在事件處理器回傳前設定此值為 <code>true</code>，可阻止事件繼續向上冒泡傳遞。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/cancelable"><code>Event.cancelable</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>布林值，表示事件是否能被取消。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/composed"><code>Event.composed</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>A Boolean value indicating whether or not the event can bubble across the boundary between the shadow DOM and the regular DOM.</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/currentTarget"><code>Event.currentTarget</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>指向目前處理事件之監聽器所屬的 DOM 物件。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/deepPath"><code>Event.deepPath</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></dt>
 <dd>An <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> of DOM <a href="/zh-TW/docs/Web/API/Node"><code>Node</code></a>s through which the event has bubbled.</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/defaultPrevented"><code>Event.defaultPrevented</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>布林值，表示事件的預設行為是否被 <a href="/zh-TW/docs/Web/API/Event/preventDefault"><code>preventDefault()</code></a> 方法所取消。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/eventPhase"><code>Event.eventPhase</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>表示事件目前的傳遞階段。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/explicitOriginalTarget"><code>Event.explicitOriginalTarget</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>事件的明確原定目標（Mozilla 專屬）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/originalTarget"><code>Event.originalTarget</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>事件重新導向前的原定目標（Mozilla 專屬）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/returnValue"><code>Event.returnValue</code></a></dt>
 <dd>非標準屬性。用以替代 <a href="/zh-TW/docs/Web/API/Event/preventDefault"><code>preventDefault()</code></a> 方法與 <a href="/zh-TW/docs/Web/API/Event/defaultPrevented"><code>defaultPrevented</code></a> 屬性（舊版 Internet Explorer 專屬）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/scoped"><code>Event.scoped</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span> <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></dt>
 <dd>A <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a> indicating whether the given event will bubble across through the shadow root into the standard DOM. This property has been renamed to <a href="/zh-TW/docs/Web/API/Event/composed"><code>composed</code></a>.</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/srcElement"><code>Event.srcElement</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></dt>
 <dd>非標準屬性。為 <a href="/zh-TW/docs/Web/API/Event/target"><code>target</code></a> 屬性的別名（舊版 Internet Explorer 專屬）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/target"><code>Event.target</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>指向最初觸發事件的 DOM 物件。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/timeStamp"><code>Event.timeStamp</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>事件發生（事件物件建立）至今的時間。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/type"><code>Event.type</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>事件類型（不區分大小寫）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/isTrusted"><code>Event.isTrusted</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>表示事件物件是否為瀏覽器建立（比如在用戶點擊之後），或由程式碼所建立（使用建立事件的方法，如 <a href="/zh-TW/docs/Web/API/Event/initEvent"><code>initEvent()</code></a>）。</dd>
</dl>

<h3 id="Obsolete_properties">Obsolete properties</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Event/scoped"><code>Event.scoped</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span> <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></dt>
 <dd>A <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a> indicating whether the given event will bubble across through the shadow root into the standard DOM. This property has been renamed to <a href="/zh-TW/docs/Web/API/Event/composed"><code>composed</code></a>.</dd>
</dl>

<h2 id="方法">方法</h2>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/CustomEvent/initCustomEvent"><code>CustomEvent.initCustomEvent()</code></a> <span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></dt>
 <dd>
 <p>初始化一 <code>CustomEvent</code> object。若該事件已經被觸發，則不會進行任何動作。</p>
 </dd>
</dl>

<p><em>此介面繼承了其父介面 <a href="/zh-TW/docs/Web/API/Event"><code>Event</code></a> 的方法：</em></p>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Event/createEvent"><code>Event.createEvent()</code></a> <span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></dt>
 <dd>
 <p>Creates a new event, which must then be initialized by calling its <code>initEvent()</code> method.</p>
 </dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/composedPath"><code>Event.composedPath()</code></a></dt>
 <dd>Returns the event’s path (objects on which listeners will be invoked). This does not include nodes in shadow trees if the shadow root was created with its <a href="/zh-TW/docs/Web/API/ShadowRoot/mode"><code>ShadowRoot.mode</code></a> closed.</dd>
</dl>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Event/initEvent"><code>Event.initEvent()</code></a> <span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></dt>
 <dd>初始化已經建立的事件。若該事件已經被處理過，這方法就不會執行任何東西。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/preventDefault"><code>Event.preventDefault()</code></a></dt>
 <dd>取消該事件（如果該事件的 <a href="/zh-TW/docs/Web/API/Event/cancelable"><code>cancelable</code></a> 屬性為 <code>true</code>）。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/stopImmediatePropagation"><code>Event.stopImmediatePropagation()</code></a></dt>
 <dd>一旦事件物件呼叫此方法，目前元素中尚未執行的已註冊之相同事件類型監聽器將不會被呼叫，而事件也不會繼續捕捉或冒泡傳遞。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/stopPropagation"><code>Event.stopPropagation()</code></a></dt>
 <dd>阻止事件物件繼續捕捉或冒泡傳遞。</dd>
</dl>

<h3 id="已廢棄方法">已廢棄方法</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/Event/getPreventDefault"><code>Event.getPreventDefault()</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></dt>
 <dd>非標準方法。回傳 <code>defaultPrevented</code> 屬性值。請直接改用 <a href="/zh-TW/docs/Web/API/Event/defaultPrevented"><code>defaultPrevented</code></a> 屬性。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/preventBubble"><code>Event.preventBubble()</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 24 / Thunderbird 24 / SeaMonkey 2.21)">已過時 Gecko 24</span></dt>
 <dd>已廢棄方法。阻止事件繼續冒泡傳遞。請改用 <a href="/zh-TW/docs/Web/API/Event/stopPropagation"><code>stopPropagation()</code></a> 方法。</dd>
 <dt><a href="/zh-TW/docs/Web/API/Event/preventCapture"><code>Event.preventCapture()</code></a> <span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 24 / Thunderbird 24 / SeaMonkey 2.21)">已過時 Gecko 24</span></dt>
 <dd>已廢棄方法。請改用 <a href="/zh-TW/docs/Web/API/Event/stopPropagation"><code>stopPropagation()</code></a> 方法。</dd>
</dl>

<h2 id="規格">規格</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://dom.spec.whatwg.org/#interface-customevent" hreflang="en" lang="en">DOM<br><small lang="zh-TW">The definition of &apos;CustomEvent&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td>原始定義</td>
  </tr>
 </tbody>
</table>

<h2 id="瀏覽器兼容性">瀏覽器兼容性</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.CustomEvent"></div>

<h2 id="Firing_from_privileged_code_to_non-privileged_code">Firing from privileged code to non-privileged code</h2>

<p>當要從 privileged code （像是插件）到非 privileged code （例如網頁）執行 CustomEvent ，你必須要考慮這之間的安全性。Firefox 和其他 Gecko 應用會對此有所限制。雖然這可以自動防止安全漏洞發生，但也可能導致您的程式碼沒辦法正常執行。</p>

<p>When creating a CustomEvent object, you must create the object from the same <a href="/en-US/docs/XUL/window">window</a> as you&apos;re going to fire against. The <code>detail</code> attribute of your CustomEvent will be subject to the same restrictions. String and Array values will be readable by the content without restrictions, but custom Objects will not. If using a custom Object, you will need to define the attributes of that object that are readable from the content script using <a href="/en-US/docs/">Components.utils.cloneInto()</a>.</p>

<pre class="brush: js notranslate">// doc is a reference to the content document
function dispatchCustomEvent(doc) {
  var eventDetail = Components.utils.cloneInto({foo: &apos;bar&apos;}, doc.defaultView);
  var myEvent = doc.defaultView.CustomEvent(&quot;mytype&quot;, eventDetail);
  doc.dispatchEvent(myEvent);
}</pre>

<p>Note that exposing a function will allow the content script to run it with chrome privileges, which can open a security vulnerability.</p>

<h2 id="參見">參見</h2>

<ul>
 <li><a href="/en-US/docs/Code_snippets/Interaction_between_privileged_and_non-privileged_pages" title="/en-US/docs/Code_snippets/Interaction_between_privileged_and_non-privileged_pages">Interaction between privileged and non-privileged pages</a></li>
 <li><a href="/en-US/docs/Web/API/window.postMessage" title="/en-US/docs/Web/API/window.postMessage">Window.postMessage</a></li>
</ul>
