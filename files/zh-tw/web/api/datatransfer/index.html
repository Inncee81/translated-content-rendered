---
title: DataTransfer
slug: Web/API/DataTransfer
translation_of: Web/API/DataTransfer
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-TW/docs/Web/API/HTML_Drag_and_Drop_API">HTML Drag and Drop API</a></strong></li><li><strong><a href="/zh-TW/docs/Web/API/DataTransfer"><code>DataTransfer</code></a></strong></li><li class="toggle"><details open><summary>Constructor</summary><ol><li><a href="/zh-TW/docs/Web/API/DataTransfer/DataTransfer"><code>DataTransfer()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/DataTransfer$translate">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Properties</summary><ol><li><a href="/zh-TW/docs/Web/API/DataTransfer/dropEffect"><code>dropEffect</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/dropEffect$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/effectAllowed"><code>effectAllowed</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/effectAllowed$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/files"><code>files</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/files$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/items"><code>items</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/items$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozCursor"><code>mozCursor</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozCursor$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozItemCount"><code>mozItemCount</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozItemCount$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozSourceNode"><code>mozSourceNode</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozSourceNode$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozUserCancelled"><code>mozUserCancelled</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozUserCancelled$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/types"><code>types</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/types$translate">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Methods</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/addElement"><code>addElement()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/addElement$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/clearData"><code>clearData()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/clearData$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/getData"><code>getData()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/getData$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozClearDataAt"><code>mozClearDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozClearDataAt$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozGetDataAt"><code>mozGetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozGetDataAt$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozSetDataAt"><code>mozSetDataAt()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozSetDataAt$translate">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/API/DataTransfer/mozTypesAt"><code>mozTypesAt()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/mozTypesAt$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/setData"><code>setData()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/setData$translate">[Translate]</a></li><li><a href="/zh-TW/docs/Web/API/DataTransfer/setDragImage"><code>setDragImage()</code></a> <a style="opacity: 0.5;" href="/zh-TW/docs/Web/API/DataTransfer/setDragImage$translate">[Translate]</a></li></ol></details></li><li class="toggle"><details open><summary>Events</summary><ol><li><a href="/zh-TW/docs/Web/Events/dragstart"><code>dragstart</code></a></li><li><a href="/zh-TW/docs/Web/Events/drag"><code>drag</code></a></li><li><a href="/zh-TW/docs/Web/Events/dragenter"><code>dragenter</code></a></li><li><a href="/zh-TW/docs/Web/Events/dragexit"><code>dragexit</code></a></li><li><a href="/zh-TW/docs/Web/Events/dragleave"><code>dragleave</code></a></li><li><a href="/zh-TW/docs/Web/Events/dragover"><code>dragover</code></a></li><li><a href="/zh-TW/docs/Web/Events/drop"><code>drop</code></a></li><li><a href="/zh-TW/docs/Web/Events/dragend"><code>dragend</code></a></li></ol></details></li><li class="toggle"><details open><summary>Related pages for HTML Drag and Drop API</summary><ol><li><a href="/zh-TW/docs/Web/API/DataTransferItem"><code>DataTransferItem</code></a></li><li><a href="/zh-TW/docs/Web/API/DataTransferItemList"><code>DataTransferItemList</code></a></li><li><a href="/zh-TW/docs/Web/API/DragEvent"><code>DragEvent</code></a></li></ol></details></li></ol></section></div>

<p><code><strong>DataTransfer</strong></code> 物件被用來保存使用者於拖放操作過程中的資料，其中可能包含了一至多項資料以及多種資料類型。要瞭解拖放操作的更多細節，請參考<a href="/zh-TW/docs/Web/API/HTML_Drag_and_Drop_API">拖放操作</a>一文。</p>

<p><code>DataTransfer</code> 只能是每一種 <a href="/zh-TW/docs/Web/API/DragEvent" title="DragEvent 介面是一種 DOM event，定義了拖放操作時產生的事件物件。The user initiates a drag by placing a pointer device (such as a mouse) on the touch surface and then dragging the pointer to a new location (such as another DOM element). Applications are free to interpret a drag and drop interaction in an application-specific way."><code>DragEvent</code></a> 型別物件的共同屬性－<a href="/zh-TW/docs/Web/API/DragEvent/dataTransfer" title="DataEvent.dataTransfer 屬性保留了拖曳操作中的資料（指向一個 DataTransfer 物件）。"><code>dataTransfer</code></a>，不能夠被單獨建立。</p>

<h2 id="屬性">屬性</h2>

<h3 id="Standard_properties">Standard properties</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/dropEffect" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.dropEffect</code></a></dt>
 <dd>Gets the type of drag-and-drop operation currently selected or sets the operation to a new type. The value must be <code>none</code> <code>copy</code> <code>link</code> or <code>move</code>.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/effectAllowed" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.effectAllowed</code></a></dt>
 <dd>Provides all of the types of operations that are possible. Must be one of <code>none</code>, <code>copy</code>, <code>copyLink</code>, <code>copyMove</code>, <code>link</code>, <code>linkMove</code>, <code>move</code>, <code>all</code> or <code>uninitialized</code>.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/files" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.files</code></a></dt>
 <dd>Contains a list of all the local files available on the data transfer. If the drag operation doesn&apos;t involve dragging files, this property is an empty list.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/items" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.items</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>Gives a <a href="/zh-TW/docs/Web/API/DataTransferItemList" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransferItemList</code></a> object which is a list of all of the drag data.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/types" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.types</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>An array of <a href="/zh-TW/docs/Web/API/DOMString" title="DOMString 是編碼為 UTF-16 的字串。當 JavaScript 使用這類字串時， DOMString 會映射成一個 String."><code>strings</code></a> giving the formats that were set in the <code><a href="/zh-TW/docs/Web/Reference/Events/dragstart" title="/zh-TW/docs/Web/Reference/Events/dragstart">dragstart</a></code> event.</dd>
</dl>

<h3 id="Gecko_properties">Gecko properties</h3>

<p></p><div class="experimental indicator-warning notecard">
    <p><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span> <strong>這是一個實驗中的功能</strong><br>此功能在某些瀏覽器尚在開發中，請參考<a href="#Browser_compatibility">兼容表格</a>以得到不同瀏覽器用的前輟。</p>
</div><p></p>

<div class="note"><strong>Note:</strong> All of the properties in this section are Gecko-specific.</div>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozCursor" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozCursor</code></a></dt>
 <dd>Gives the drag cursor&apos;s state. This is primarily used to control the cursor during tab drags.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozItemCount" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozItemCount</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>Gives the number of items in the drag operation.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozSourceNode" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozSourceNode</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>The <a href="/zh-TW/docs/Web/API/Node" title="Node 是一個被多種 DOM 類型繼承的介面，它讓各種類型的 DOM 都能以同樣的方式來操作。如繼承了相同的方法，或能以相同的方式測試。"><code>Node</code></a> over which the mouse cursor was located when the button was pressed to initiate the drag operation. This value is <code>null</code> for external drags or if the caller can&apos;t access the node.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozUserCancelled" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozUserCancelled</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">Read only </span></dt>
 <dd>This property applies only to the <code>dragend</code> event, and is <code>true</code> if the user canceled the drag operation by pressing escape. It will be <code>false</code> in all other cases, including if the drag failed for any other reason, for instance due to a drop over an invalid location.</dd>
</dl>

<h2 id="方法">方法</h2>

<h3 id="Standard_methods">Standard methods</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/clearData" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.clearData()</code></a></dt>
 <dd>Remove the data associated with a given type. The type argument is optional. If the type is empty or not specified, the data associated with all types is removed. If data for the specified type does not exist, or the data transfer contains no data, this method will have no effect.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/getData" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.getData()</code></a></dt>
 <dd>Retrieves the data for a given type, or an empty string if data for that type does not exist or the data transfer contains no data.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/setData" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.setData()</code></a></dt>
 <dd>Set the data for a given type. If data for the type does not exist, it is added at the end, such that the last item in the types list will be the new format. If data for the type already exists, the existing data is replaced in the same position.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/setDragImage" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.setDragImage()</code></a></dt>
 <dd>Set the image to be used for dragging if a custom one is desired.</dd>
</dl>

<h3 id="Gecko_methods">Gecko methods</h3>

<p></p><div class="experimental indicator-warning notecard">
    <p><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span> <strong>這是一個實驗中的功能</strong><br>此功能在某些瀏覽器尚在開發中，請參考<a href="#Browser_compatibility">兼容表格</a>以得到不同瀏覽器用的前輟。</p>
</div><p></p>

<div class="note"><strong>Note:</strong> All of the methods in this section are Gecko-specific.</div>

<dl>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/addElement" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.addElement()</code></a></dt>
 <dd>Sets the drag source to the given element.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozClearDataAt" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozClearDataAt()</code></a></dt>
 <dd>Removes the data associated with the given format for an item at the specified index. The index is in the range from zero to the number of items minus one.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozGetDataAt" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozGetDataAt()</code></a></dt>
 <dd>Retrieves the data associated with the given format for an item at the specified index, or null if it does not exist. The index should be in the range from zero to the number of items minus one.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozSetDataAt" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozSetDataAt()</code></a></dt>
 <dd>A data transfer may store multiple items, each at a given zero-based index. <code>mozSetDataAt()</code> may only be called with an index argument less than <code>mozItemCount</code> in which case an existing item is modified, or equal to <code>mozItemCount</code> in which case a new item is added, and the <code>mozItemCount</code> is incremented by one.</dd>
 <dt><a href="/zh-TW/docs/Web/API/DataTransfer/mozTypesAt" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.mozTypesAt()</code></a></dt>
 <dd>Holds a list of the format types of the data that is stored for an item at the specified index. If the index is not in the range from 0 to the number of items minus one, an empty string list is returned.</dd>
</dl>

<h2 id="範例">範例</h2>

<p>Every method and property listed in this document has its own reference page and each reference page either directly includes an example of the interface or has a link to an example.</p>

<h2 id="規範">規範</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://html.spec.whatwg.org/multipage/interaction.html#datatransfer" class="external" hreflang="en">HTML Living Standard<br><small lang="zh-TW">The definition of &apos;DataTransfer&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td><code>mozCursor</code>, <code>mozItemCount</code>, <code>mozSourceNode</code>, <code>mozUserCancelled</code>, <code>addElement()</code>, <code>mozClearDataAt()</code>, <code>mozGetDataAt()</code>, <code>mozSetDataAt()</code> and <code>mozTypesAt</code> are Gecko specific.</td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/html51/editing.html#the-datatransfer-interface" class="external" hreflang="en">HTML 5.1<br><small lang="zh-TW">The definition of &apos;DataTransfer&apos; in that specification.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>Not included in W3C HTML5 <span class="spec-REC">Recommendation</span></td>
  </tr>
  <tr>
  </tr>
 </tbody>
</table>

<h2 id="瀏覽器相容性">瀏覽器相容性</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/zh-TW/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Desktop</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>4</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td>3.5 <sup>[2]</sup><br>
    <a href="/en-US/Firefox/Releases/52">52</a> (52)<sup>[3]</sup></td>
   <td>10 <sup>[1]</sup> <sup>[2]</sup></td>
   <td>12</td>
   <td>3.1 <sup>[2]</sup></td>
  </tr>
  <tr>
   <td><a href="/zh-TW/docs/Web/API/DataTransfer/items"><code>items</code></a> property</td>
   <td>4</td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td>50</td>
   <td><span style="color: #f00;">No support</span></td>
   <td>12</td>
   <td><span style="color: #f00;">No support</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span><br>
    52.0 (52)<sup>[3]</sup></td>
   <td><span style="color: #f00;">No support</span></td>
   <td>10[1][2]</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
  </tr>
  <tr>
   <td><a href="/zh-TW/docs/Web/API/DataTransfer/items"><code>items</code></a> property</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #888;" title="Please update this with the earliest version of support.">(Yes)</span></td>
   <td>50.0 (50)</td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
   <td><span style="color: #f00;">No support</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] <a href="http://caniuse.com/#search=drag">Partial support refers to not supporting </a><a href="/zh-TW/docs/Web/API/DataTransfer/setDragImage" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.setDragImage()</code></a> [CanIUse.com].</p>

<p>[2] Does not support <a href="/zh-TW/docs/Web/API/DataTransfer/items" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.items</code></a> property.</p>

<p>[3] As of Firefox 52, the <a href="/zh-TW/docs/Web/API/DataTransfer/types" title="The documentation about this has not yet been written; please consider contributing!"><code>DataTransfer.types</code></a> property returns a frozen array of <a href="/zh-TW/docs/Web/API/DOMString" title="DOMString 是編碼為 UTF-16 的字串。當 JavaScript 使用這類字串時， DOMString 會映射成一個 String."><code>DOMString</code></a>s as per spec, rather than a <a href="/zh-TW/docs/Web/API/DOMStringList" title="The documentation about this has not yet been written; please consider contributing!"><code>DOMStringList</code></a>.</p>

<h2 id="參見">參見</h2>

<ul>
 <li><a href="/Web/Guide/HTML/Drag_and_drop">Drag and drop</a></li>
 <li><a href="/Web/Guide/HTML/Drag_operations">Drag Operations</a></li>
 <li><a href="/Web/Guide/HTML/Recommended_Drag_Types">Recommended Drag Types</a></li>
 <li><a href="/Web/Guide/HTML/Dragging_and_Dropping_Multiple_Items">Dragging and Dropping Multiple Items</a></li>
</ul>
