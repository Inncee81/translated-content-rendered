---
title: Promise
slug: Web/JavaScript/Reference/Global_Objects/Promise
translation_of: Web/JavaScript/Reference/Global_Objects/Promise
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects">Standard built-in objects</a></strong></li><li><strong><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Methods</strong></a><ol><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/all"><code>Promise.all()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled"><code>Promise.allSettled()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/any"><code>Promise.any()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/any$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>Promise.prototype.catch()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally"><code>Promise.prototype.finally()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>Promise.prototype.then()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/race"><code>Promise.race()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject"><code>Promise.reject()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve"><code>Promise.resolve()</code></a></li></ol></li><li><strong>Inheritance:</strong></li><li><strong><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>Properties</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/caller$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/name$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><a href="#"><strong>Methods</strong></a><ol><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource$translate" style="opacity: 0.5;">[Translate]</a></s></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/toString$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><strong><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Properties</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li><li><a href="#"><strong>Methods</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString$translate" style="opacity: 0.5;">[Translate]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource$translate" style="opacity: 0.5;">[Translate]</a></s></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/toString$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf$translate" style="opacity: 0.5;">[Translate]</a></li><li><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a> <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li></ol></section></div>

<p><strong><code>Promise</code></strong> 物件代表一個即將完成、或失敗的非同步操作，以及它所產生的值。</p>

<div class="note notecard">
<p>此條目為介紹 Promise 建構式。要瞭解 Promise 相關使用方式，請先參考<a href="/zh-TW/docs/Web/JavaScript/Guide/Using_promises">使用 Promise</a>。Promise 建構式主要用於包裹尚未支援 Promise 的函式。</p>
</div>

<div><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/promise-constructor.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></div>

<p class="hidden">The source for this interactive example is stored in a GitHub repository. If you&apos;d like to contribute to the interactive examples project, please clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> and send us a pull request.</p>

<p class="hidden">The source for this interactive demo is stored in a GitHub repository. If you&apos;d like to contribute to the interactive demo project, please clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> and send us a pull request.</p>

<h2 id="語法">語法</h2>

<pre class="brush: js notranslate">new Promise( /* executor */ function(resolve, reject) { ... } );</pre>

<h3 id="參數">參數</h3>

<dl>
 <dt>executor</dt>
 <dd>為一個依序接收兩個參數的函式：<code>resolve</code> 及 <code>reject</code>（實現及拒絕回呼函式）。在 Promise 實作中，<code>executor</code> 函式在傳入參數 <code>resolve</code> 與 <code>reject</code> 後會立刻執行（<code>executor</code> 函式會在 <code>Promise</code> 建構式回傳 Promise 物件前被執行）。<code>resolve</code> 與 <code>reject</code> 函式，會在被個別呼叫時，個別執行之。通常 executor 函式會發起一些非同步操作。接著，成功完成後執行 <code>resolve</code> 以完成 promise；或如果有錯誤，執行 <code>rejects</code>。<br>如果 executor 函式在執行中拋出錯誤，promise 會被拒絕（rejected），回傳值也將被忽略。</dd>
</dl>

<h2 id="描述">描述</h2>

<p><code><strong>Promise</strong></code> 會代理一個建立時，不用預先得知的值。它使你能夠繫結（associate）著發動非同步操作後，最終的成功值（success value）或失敗訊息（failure reason）的處理函式（handlers）。這讓非同步方法回傳值的方式很像同步方法，但不是回傳最終結果：非同步方法回傳一個 <em>promise</em> 物件作為未來某時間點的值。</p>

<p>一個 <code>Promise</code> 物件處於以下幾種狀態：</p>

<ul>
 <li><em>擱置（pending）</em>：初始狀態，不是 fulfilled 與 rejected。</li>
 <li><em>實現（fulfilled）</em>：表示操作成功地完成。</li>
 <li><em>拒絕（rejected）</em>：表示操作失敗了。</li>
</ul>

<p>一個處於擱置狀態的 promise 能以一個值被實現（fulfilled），或是以一個原因或錯誤而被拒絕（rejected）。當上述任一狀態轉換發生時，那些透過 <code>then</code> 方法所繫結（associated）的處理函式列隊就會依序被調用。（若一個 promise 已被實現或拒絕，繫結（attached）於它的處理函式將立即被呼叫，因此完成非同步操作與繫結處理函式之間不存在競爭條件（race condition）。）</p>

<p>由於 <code><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>Promise.prototype.then()</code></a></code> 以及 <code><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>Promise.prototype.catch()</code></a></code> 方法都回傳 promise，它們可以被串接。</p>

<p><img alt src="https://cdn.rawgit.com/Vectaio/a76330b025baf9bcdf07cb46e5a9ef9e/raw/26c4213a93dee1c39611dcd0ec12625811b20a26/js-promise.svg"></p>

<div class="note notecard">
<p><strong>容易混淆:</strong> 許多其他語言擁有機制用來惰性求值（lazy evaluation）及延遲（deferring）運算，它們也被稱作“promises” — e.g. Scheme. 然而在 JavaScript 中 Promises 代表那些（已經）發生中（happening）的程序，它們可以繫結回呼函式。若您要找的是惰性求值表示式，考慮不帶參數的 <a href="/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow function</a>：<code>f = () =&gt; <em>expression</em></code> 來建立惰性求值表示式，並透過 <code>f()</code> 進行求值.</p>
</div>

<div class="note notecard">
<p><strong>Note</strong>: 一個被實現或拒絕，但不處於 pending 的 promise 被稱作被解決（settled）。您也會見到使用解決（resolved）一詞來描述 promises — 這代表 promises 被實現（fulfilled）了。<a href="https://github.com/domenic/promises-unwrapping/blob/master/docs/states-and-fates.md">States and fates</a> 這篇文章包含了更多 promises 的專有名詞。</p>
</div>

<h2 id="屬性">屬性</h2>

<dl>
 <dt><code>Promise.length</code></dt>
 <dd>長度屬性，值固定為 <code>1</code>。(建構式參數數目).</dd>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/prototype"><code>Promise.prototype</code></a></dt>
 <dd><code>Promise</code> 建構式的原型（prototype）.</dd>
</dl>

<h2 id="方法">方法</h2>

<dl>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/all"><code>Promise.all(iterable)</code></a></dt>
 <dd>回傳一個 promise，當在引數 iterable 中所有 promises 都被實現時被實現，或在引數 iterable 中有一個 promise 被拒絕時立刻被拒絕。若回傳的 promise 被實現，它將以一個實現值的陣列被實現，其順序與 iterable 中的 promises 相同。若回傳的 promise 被拒絕，它將以失敗訊息被拒絕，此訊息來自第一個在 iterable 中被拒絕的 promise。這個方法在聚集許多 promises 的結果時很有效。</dd>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/race"><code>Promise.race(iterable)</code></a></dt>
 <dd>回傳一個被實現或拒絕的 promise，當 iterable 中有一個 promise 被實現或拒絕時。</dd>
</dl>

<dl>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject"><code>Promise.reject(reason)</code></a></dt>
 <dd>回傳一個以失敗訊息拒絕的 <code>promise</code>。</dd>
</dl>

<dl>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve"><code>Promise.resolve(value)</code></a></dt>
 <dd>回傳一個以 value 實現的 <code>promise</code>。若該值為 thenable (i.e. 具有 <code>then</code> 方法)，回傳的 promise 將跟隨（follow）之，採用她的最終狀態； 在其他情形回傳的 promise 將以 value 被實現。一般來說，當您不知道 value 是否為 promise，使用 <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve"><code>Promise.resolve(value)</code></a>，將回傳值以 promise 作處理。</dd>
</dl>

<h2 id="Promise_原型"><code>Promise</code> 原型</h2>

<h3 id="屬性_2">屬性</h3>

<dl>
 <dt><code>Promise.prototype.constructor</code></dt>
 <dd>回傳一個建立實例原型（instance&apos;s prototype）的函式。預設為 <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> 函數。</dd>
</dl>

<h3 id="方法_2">方法</h3>

<dl>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>Promise.prototype.catch(onRejected)</code></a></dt>
 <dd>繫結一個拒絕回呼函式（rejection handler callback）到 promise，當它被呼叫時回傳一個以回傳值作解析的新 promise，或者當 promise 被實現時以原值作解析。</dd>
 <dt><a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>Promise.prototype.then(onFulfilled, onRejected)</code></a></dt>
 <dd>繫結實現或拒絕回呼函式到 promise，回傳一個以 handler 之回傳值作解析的新 promise，或者當 promise 未處理（not handled）時以原值作解析。(i.e. 比如相關聯的 <code>onFulfilled</code> 或 <code>onRejected</code> 不是函式。)</dd>
</dl>

<h2 id="建立_Promise">建立 Promise</h2>

<p><code><font face="Open Sans, arial, x-locale-body, sans-serif">一個</font></code> <code>Promise</code> 物件透過 <code>new</code> 及其建構式建立。這個建構式接收一個叫作”執行器函式（executor function）“的引數。此函式接收兩個函式作為引數。第一個函式（<code>resolve）</code>在非同步作業成功完成時，以該作業之結果值被呼叫。第二個函式（<code>reject</code>）在作業失敗時，以失敗訊息，通常是一個 error object，被呼叫。</p>

<pre class="brush: js notranslate">const myFirstPromise = new Promise((resolve, reject) =&gt; {
  // 執行一些非同步作業，最終呼叫:
  //
  //   resolve(someValue); // 實現
  // 或
  //   reject(&quot;failure reason&quot;); // 拒絕
});
</pre>

<p>要提供一個函式 promise 功能，讓它回傳一個 promise 即可：</p>

<pre class="brush: js notranslate">function myAsyncFunction(url) {
  return new Promise((resolve, reject) =&gt; {
    const xhr = new XMLHttpRequest();
    xhr.open(&quot;GET&quot;, url);
    xhr.onload = () =&gt; resolve(xhr.responseText);
    xhr.onerror = () =&gt; reject(xhr.statusText);
    xhr.send();
  });
};</pre>

<h2 id="範例">範例</h2>

<h3 id="入門範例">入門範例</h3>

<pre class="brush: js notranslate">let myFirstPromise = new Promise((resolve, reject) =&gt; {
  // 當非同步作業成功時，呼叫 resolve(...),而失敗時則呼叫 reject(...)。
  // 在這個例子中，使用 setTimeout(...) 來模擬非同步程式碼。
  // 在實務中，您將可能使用像是 XHR 或者一個 HTML5 API.
  setTimeout(function(){
    resolve(&quot;Success!&quot;); // Yay！非常順利！
  }, 250);
});

myFirstPromise.then((successMessage) =&gt; {
  // successMessage 是任何您由上方 resolve(...) 傳入的東西。
  // 在此僅作為成功訊息，但是它不一定是字串。
  console.log(&quot;Yay! &quot; + successMessage);
});
</pre>

<h3 id="進階範例">進階範例</h3>

<pre class="brush: html hidden notranslate">&lt;button id=&quot;btn&quot;&gt;Make a promise!&lt;/button&gt;
&lt;div id=&quot;log&quot;&gt;&lt;/div&gt;
</pre>

<p><code>這個小範例演示了</code> <code>Promise</code> <code>的運作機制。每當 </code><a href="/zh-TW/docs/Web/HTML/Element/button" title="HTML &lt;button&gt; 元素代表一個可點擊的按鈕。"><code>&lt;button&gt;</code></a> 被點擊時，<code>testPromise()</code> 方法被呼叫。每次點擊將透過 <a href="/zh-TW/docs/Web/API/Window/setTimeout"><code>window.setTimeout()</code></a> 建立一個將在 1-3 秒內隨機地被實現的 promise，供 promise 計數（一個從 1 開始的數值）。建構式 <code>Promise()</code> 被用來建立 promise。</p>

<p>promise 的實現值單純地經由一個實現回呼函式 <a href="/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>p1.then()</code></a> 被印出。下以一些文字紀錄來展現方法中同步的與非同步處理 promise 的部分是如何分離彼此。</p>

<pre class="brush: js notranslate">&apos;use strict&apos;;
var promiseCount = 0;

function testPromise() {
    let thisPromiseCount = ++promiseCount;

    let log = document.getElementById(&apos;log&apos;);
    log.insertAdjacentHTML(&apos;beforeend&apos;, thisPromiseCount +
        &apos;) Started (&lt;small&gt;Sync code started&lt;/small&gt;)&lt;br/&gt;&apos;);

    // 建立一個新的 promise：此 promise 承諾一個數值計數, 由 1 開始（等待約 2 秒）
    let p1 = new Promise(
        // 這個解決器函數（resolver function）呼叫實現或
        // 拒絕 promise。
        (resolve, reject) =&gt; {
            log.insertAdjacentHTML(&apos;beforeend&apos;, thisPromiseCount +
                &apos;) Promise started (&lt;small&gt;Async code started&lt;/small&gt;)&lt;br/&gt;&apos;);
            // 在此例子單純用來產生非同步特性。
            window.setTimeout(
                function() {
                    // 實現這個 promise!
                    resolve(thisPromiseCount);
                }, Math.random() * 2000 + 1000);
        }
    );

    // 接著透過呼叫 then() 來決定 promise 進入 resolved 時，要透過 then() 做什麼，
    // 或是進入 rejected 時，要透過 catch() 方法要做什麼。
    p1.then(
        // 印出實現值（fulfillment value）
        function(val) {
            log.insertAdjacentHTML(&apos;beforeend&apos;, val +
                &apos;) Promise fulfilled (&lt;small&gt;Async code terminated&lt;/small&gt;)&lt;br/&gt;&apos;);
        })
    .catch(
        // 印出失敗訊息（rejection reason）
        (reason) =&gt; {
            console.log(&apos;Handle rejected promise (&apos;+reason+&apos;) here.&apos;);
        });

    log.insertAdjacentHTML(&apos;beforeend&apos;, thisPromiseCount +
        &apos;) Promise made (&lt;small&gt;Sync code terminated&lt;/small&gt;)&lt;br/&gt;&apos;);
}</pre>

<p><sub>*譯註：resolver function 即 executor function。</sub></p>

<pre class="brush:js hidden notranslate">if (&quot;Promise&quot; in window) {
  let btn = document.getElementById(&quot;btn&quot;);
  btn.addEventListener(&quot;click&quot;,testPromise);
} else {
  log = document.getElementById(&apos;log&apos;);
  log.innerHTML = &quot;Live example not available as your browser doesn&apos;t support the &lt;code&gt;Promise&lt;code&gt; interface.&quot;;
}
</pre>

<p>這個範例從點擊按鈕開始。您的瀏覽器需要支援 Promise。在短時間內點擊按鈕許多次，您甚至將看到不同的 promises 一個接一個地被實現。</p>

<p><iframe class="live-sample-frame sample-code-frame" frameborder="0" height="200" id="frame_Advanced_Example" src="https://mdn.mozillademos.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise$samples/Advanced_Example?revision=1492704" width="500"></iframe></p>

<h2 id="使用_XHR_載入圖片">使用 XHR 載入圖片</h2>

<p>另一個使用 <code>Promise</code> and <code><a href="/zh-TW/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a></code> 來載入圖片的簡單例子可以在 MDN GitHub <a href="https://github.com/mdn/js-examples/tree/master/promises-test">js-examples</a> 儲存庫找到。 你也可以<a href="https://mdn.github.io/js-examples/promises-test/">see it in action</a>。每個步驟都附以註解，讓你能逐步遵隨 Promise 與 XHR 架構。</p>

<h2 id="規範">規範</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects" hreflang="en" lang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="zh-TW">The definition of &apos;Promise&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td>Initial definition in an ECMA standard.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-promise-objects" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="zh-TW">The definition of &apos;Promise&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="瀏覽器相容性">瀏覽器相容性</h2>

<p class="hidden">To contribute to this compatibility data, please write a pull request against this repository: <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a>.</p>

<div class="bc-data" id="bcd:javascript.builtins.Promise"></div>

<h2 id="參見">參見</h2>

<ul>
 <li><a href="/zh-TW/docs/Web/JavaScript/Guide/Using_promises">Using promises</a></li>
 <li><a href="http://promisesaplus.com/">Promises/A+ specification</a></li>
 <li><a href="https://medium.com/@ramsunvtech/promises-of-promise-part-1-53f769245a53">Venkatraman.R - JS Promise (Part 1, Basics)</a></li>
 <li><a href="https://medium.com/@ramsunvtech/js-promise-part-2-q-js-when-js-and-rsvp-js-af596232525c#.dzlqh6ski">Venkatraman.R - JS Promise (Part 2 - Using Q.js, When.js and RSVP.js)</a></li>
 <li><a href="https://tech.io/playgrounds/11107/tools-for-promises-unittesting/introduction">Venkatraman.R - Tools for Promises Unit Testing</a></li>
 <li><a href="http://www.html5rocks.com/en/tutorials/es6/promises/">Jake Archibald: JavaScript Promises: There and Back Again</a></li>
 <li><a href="http://de.slideshare.net/domenicdenicola/callbacks-promises-and-coroutines-oh-my-the-evolution-of-asynchronicity-in-javascript">Domenic Denicola: Callbacks, Promises, and Coroutines – Asynchronous Programming Patterns in JavaScript</a></li>
 <li><a href="http://www.mattgreer.org/articles/promises-in-wicked-detail/">Matt Greer: JavaScript Promises ... In Wicked Detail</a></li>
 <li><a href="https://www.promisejs.org/">Forbes Lindesay: promisejs.org</a></li>
 <li><a href="http://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html">Nolan Lawson: We have a problem with promises — Common mistakes with promises</a></li>
 <li><a href="https://github.com/jakearchibald/es6-promise/">Promise polyfill</a></li>
 <li><a href="https://www.udacity.com/course/javascript-promises--ud898">Udacity: JavaScript Promises</a></li>
</ul>
