---
title: StorageArea.get()
slug: Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/get
translation_of: Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/get
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions"><strong>Browser extensions</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Getting started</summary>
        <ol>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions">What are extensions?</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension">Your first extension</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension">Your second extension</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">Anatomy of an extension</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Examples">Example extensions</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/What_next_">What next?</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>Concepts</summary>
        <ol>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs">Using the JavaScript APIs</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">Content scripts</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">Match patterns</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Working_with_files">Working with files</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Internationalization">Internationalization</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy">Content Security Policy</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Native_messaging">Native messaging</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations">Differences between API implementations</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities">Chrome incompatibilities</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>User interface</summary>
        <ol>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface">User Interface</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action">Toolbar button</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions">Address bar button</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars">Sidebars</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items">Context menu items</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages">Options page</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">Extension pages</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications">Notifications</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox">Address bar suggestions</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels">Developer tools panels</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary>How to</summary>
        <ol>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">Intercept HTTP requests</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page">Modify a web page</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page">Insert external content</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts">Share objects with page scripts</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">Add a button to the toolbar</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page">Implement a settings page</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API">Work with the Tabs API</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API">Work with the Bookmarks API</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API">Work with the Cookies API</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities">Work with contextual identities</a></li>
          <li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension">Build a cross-browser extension</a></li>
        </ol>
      </details>
    </li>
    <li class="toggle">
      <details>
        <summary><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators">Firefox differentiators</a></summary>
      </details>
    </li>
    <li class="toggle">
      <details open>
        <summary>JavaScript APIs</summary>
        <ol><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a></li><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/cookies">cookies</a></li><li class="webextension-api-sidebar"><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a><ol><li data-default-state="open"><a href="#"><strong>Types</strong></a><ol><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea"><code>StorageArea</code></a> <a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea$translate" style="opacity: 0.5;">[Translate]</a></li></ol></li></ol></li></ol>
      </details>
    </li>
    <li class="toggle">
      <details>
      <summary>Manifest keys</summary>
      <ol><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings">applications</a></li><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background">background</a></li><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url">homepage_url</a></li><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui">options_ui</a></li><li><a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author">作者</a></li></ol>
      </details>
    </li>
     <li class="toggle">
      <details>
        <summary>Extension Workshop</summary>
        <ol>
          <li><a href="https://extensionworkshop.com/documentation/develop/">Develop</a></li>
          <li><a href="https://extensionworkshop.com/documentation/publish/">Publish</a></li>
          <li><a href="https://extensionworkshop.com/documentation/manage/">Manage</a></li>
          <li><a href="https://extensionworkshop.com/documentation/enterprise/">Enterprise</a></li>
        </ol>
      </details>
    </li>
    <li><a href="/zh-TW/docs/Mozilla/Add-ons/Contact_us"><strong>Contact us</strong></a></li>
    <li class="toggle">
      <details>
        <summary>Channels</summary>
        <ol>
          <li><a href="https://blog.mozilla.org/addons">Add-ons blog</a></li>
          <li><a href="https://discourse.mozilla.org/c/add-ons">Add-ons forum</a></li>
          <li><a href="https://chat.mozilla.org/#/room/%23addons:mozilla.org">Add-ons chat</a></li>
        </ol>
      </details>
    </li>
  </ol>
</section></div>

<p>從儲存空間內檢查一個或多個單元（item）。</p>

<p>這個非同步函式會回傳 <code><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>。</p>

<h2 id="語法">語法</h2>

<pre class="syntaxbox notranslate">let gettingItem = browser.storage.&lt;storageType&gt;.get(
  keys    // null, string, object or array of strings
)
</pre>

<p><code>&lt;storageType&gt;</code> 會是以下可覆寫的儲存類型之一：<a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/storage/sync" title="The documentation about this has not yet been written; please consider contributing!"><code>storage.sync</code></a> 或 <a href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions/API/storage/local" title="代表 local 儲存空間。通常 local 裡面的東西，會放在套件安裝的地方。"><code>storage.local</code></a>。</p>

<h3 id="參數">參數</h3>

<dl>
 <dt><code>keys</code></dt>
 <dd>用來識別要檢查單元的 key（單個為字串；多個為陣列、或指定預設值的物件）。如果把這裡留空（空字串、空陣列、空物件都可以），就會取得空物件。如果是 <code>null</code> 或 undefined，則會取得所有儲存的內容。</dd>
</dl>

<h3 id="回傳值">回傳值</h3>

<p><code><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code> that will be fulfilled with a <code>results</code> object containing every object in <code>keys</code> that was found in the storage area. If the operation failed, the promise will be rejected with an error message.</p>

<div class="warning notecard">
<p>When used within a content script in Firefox versions prior to 52, the Promise returned by <code>browser.storage.local.get()</code> is fulfilled with an Array containing one Object. The Object in the Array contains the <code>keys</code> found in the storage area, as described above. The Promise is correctly fulfilled with an Object when used in the background context (background scripts, popups, options pages, etc.). When this API is used as <code>chrome.storage.local.get()</code>, it correctly passes an Object to the callback function.</p>
</div>

<h2 id="瀏覽器相容性">瀏覽器相容性</h2>

<div class="bc-data" id="bcd:webextensions.api.storage.StorageArea.get"></div>

<h2 id="示例">示例</h2>

<p>假設儲存空間有以下單元：</p>

<pre class="brush: js notranslate">// 兩個單元：「kitten」與「monster」
browser.storage.local.set({
  kitten:  {name:&quot;Mog&quot;, eats:&quot;mice&quot;},
  monster: {name:&quot;Kraken&quot;, eats:&quot;people&quot;}
});</pre>

<p>Define success and failure handlers for the promise:</p>

<pre class="brush: js notranslate">function onGot(item) {
  console.log(item);
}

function onError(error) {
  console.log(`Error: ${error}`);
}</pre>

<p>With no <code>keys</code> argument, retrieve everything:</p>

<pre class="brush: js notranslate">let gettingItem = browser.storage.local.get();
gettingItem.then(onGot, onError);

// -&gt; Object { kitten: Object, monster: Object }</pre>

<p>With an empty keys argument, return nothing:</p>

<pre class="brush: js notranslate">// with an empty array, retrieve nothing
let gettingItem = browser.storage.local.get([]);
gettingItem.then(onGot, onError);

// -&gt; Object { }</pre>

<p>With the name of an object, retrieve the match:</p>

<pre class="brush: js notranslate">let gettingItem = browser.storage.local.get(&quot;kitten&quot;);
gettingItem.then(onGot, onError);

// -&gt; Object { kitten: Object }</pre>

<p>With an array of object names, retrieve all matches:</p>

<pre class="brush: js notranslate">let gettingItem = browser.storage.local.get([&quot;kitten&quot;, &quot;monster&quot;, &quot;grapefruit&quot;]);
gettingItem.then(onGot, onError);

// -&gt; Object { kitten: Object, monster: Object } </pre>

<p>With an object with object names as keys and the default value as value:</p>

<pre class="brush: js notranslate">let gettingItem = browser.storage.local.get({
  kitten: &quot;no kitten&quot;,
  monster: &quot;no monster&quot;,
  grapefruit: {
    name: &quot;Grape Fruit&quot;,
    eats: &quot;Water&quot;
  }
});

// -&gt; Object { kitten: Object, monster: Object, grapefruit: Object }
</pre>



<h3 id="Chrome_示例">Chrome 示例</h3>

<pre class="brush: js notranslate">chrome.storage.local.get(&quot;kitten&quot;, function(items){
  console.log(items.kitten);  // -&gt; {name:&quot;Mog&quot;, eats:&quot;mice&quot;}
});</pre>

<p class="brush: js">Or with an arrow function</p>

<pre class="brush: js notranslate">chrome.storage.local.get(&quot;kitten&quot;, items=&gt;{
  console.log(items.kitten); // -&gt; {name:&quot;Mog&quot;, eats:&quot;mice&quot;}
});</pre>

<div class="note notecard"><strong>致謝</strong>

<p>This API is based on Chromium&apos;s <a href="https://developer.chrome.com/extensions/storage"><code>chrome.storage</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/extensions/common/api/storage.json"><code>storage.json</code></a> in the Chromium code.</p>

<p>Microsoft Edge compatibility data is supplied by Microsoft Corporation and is included here under the Creative Commons Attribution 3.0 United States License.</p>
</div>
