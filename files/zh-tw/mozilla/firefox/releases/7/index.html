---
title: Firefox 7 技術文件
slug: Mozilla/Firefox/Releases/7
translation_of: Mozilla/Firefox/Releases/7
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Firefox developer release notes</summary>
            <ol>
              <li><a href="/zh-TW/docs/Mozilla/Firefox/Releases">Firefox developer release notes</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>擴充套件</summary>
            <ol>
              <li><a href="/zh-TW/Add-ons/WebExtensions">瀏覽器擴充功能</a></li>
              <li><a href="/zh-TW/Add-ons/Themes">主題</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Firefox internals</summary>
            <ol>
              <li><a href="/zh-TW/docs/Mozilla/">Mozilla project</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Gecko">Gecko</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Firefox/Headless_mode">Headless mode</a></li>
              <li><a href="/zh-TW/docs/Mozilla/JavaScript_code_modules">JavaScript 程式碼模組</a></li>
              <li><a href="/zh-TW/docs/Mozilla/js-ctypes">JS-ctypes</a></li>
              <li><a href="/zh-TW/docs/Mozilla/MathML_Project">MathML 專案</a></li>
              <li><a href="/zh-TW/docs/Mozilla/MFBT">MFBT</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Projects">Mozilla 專案</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Preferences">Preference system</a></li>
              <li><a href="/zh-TW/docs/Mozilla/WebIDL_bindings">WebIDL bindings</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Tech/XPCOM">XPCOM</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Tech/XUL">XUL</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Building and contributing</summary>
            <ol>
              <li><a href="/zh-TW/docs/Mozilla/Developer_guide/Build_Instructions">建置教學</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Developer_guide/Build_Instructions/Configuring_Build_Options">Configuring build options</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Developer_guide/Build_Instructions/How_Mozilla_s_build_system_works">How the build system works</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Developer_guide/Source_Code/Mercurial">Mozilla 原始碼</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Localization">在地化</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Mercurial">Mercurial</a></li>
              <li><a href="/zh-TW/docs/Mozilla/QA">Quality assurance</a></li>
              <li><a href="/zh-TW/docs/Mozilla/Using_Mozilla_code_in_other_projects">在我們的專案中使用 Mozilla 程式碼</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section></div><p>Firefox 7 shipped on September 27, 2011. This article provides information about the changes that affect developers -- both of web content and of Firefox add-ons.</p>
<h2 id="Changes_for_web_developers">Changes for web developers</h2>
<h3 id="HTML">HTML</h3>
<ul>
 <li>The <a href="/zh-TW/docs/Web/API/HTMLHeadElement" title="The documentation about this has not yet been written; please consider contributing!"><code>HTMLHeadElement</code></a> <code>profile</code> property has been removed, this property has been deprecated since <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko 2.0</span>.</li>
 <li>The <a href="/zh-TW/docs/Web/API/HTMLImageElement" title="HTMLImageElement 介面提供了特殊的屬性及方法以用來操作 &lt;img> 元素的畫面佈局與外觀呈現。"><code>HTMLImageElement</code></a> <code>x</code> and <code>y</code> properties have been removed.</li>
 <li>The <a href="/zh-TW/docs/Web/API/HTMLSelectElement" title="HTMLSelectElement 介面代表了 &lt;select> HTML 元素。此介面也自 HTMLElement 介面繼承了所有 HTML 元素的屬性及方法。"><code>HTMLSelectElement</code></a> <code>add()</code> method <code>before</code> parameter is now optional.</li>
 <li>The <a href="/zh-TW/docs/Web/HTML/Element/body" title="The documentation about this has not yet been written; please consider contributing!"><code>&lt;body&gt;</code></a> element's <code><a href="/zh-TW/docs/Web/HTML/Element/body#attr-background">background</a></code> attribute is no longer resolved as a URI; this is in compliance with the current HTML specification.</li>
 <li>The <a href="/zh-TW/docs/Web/HTML/Element/option" title="The documentation about this has not yet been written; please consider contributing!"><code>&lt;option&gt;</code></a> element's <code><a href="/zh-TW/docs/Web/HTML/Element/option#attr-label">label</a></code> attribute now reflects the value of the element's text content if the attribute isn't specified.</li>
</ul>
<h4 id="Canvas">Canvas</h4>
<ul>
 <li>As part of the <a class="external" href="http://blog.mozilla.com/joe/2011/04/26/introducing-the-azure-project/">Azure project</a> the Direct2D Azure Backend <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=651858">has been implemented</a> and will significantly improve the performance of the 2D canvas.</li>
 <li>Specifying invalid values when calling <code>setTransform()</code>, <code>bezierCurveTo()</code>, or <code>arcTo()</code> no longer throws an exception; these calls are now correctly silently ignored.</li>
 <li>The <a href="/en/DOM/CanvasRenderingContext2D#isPointInPath()" title="en/DOM/CanvasRenderingContext2D#isPointInPath()"><code>isPointInPath()</code></a> method now correctly considers the transformation matrix when comparing the specified point to the current path.</li>
 <li>Calling <code>strokeRect()</code> with a zero width and height now correctly does nothing.</li>
 <li>Calling <a href="/en/DOM/CanvasRenderingContext2D#drawImage()" title="en/DOM/CanvasRenderingContext2D#drawImage()"><code>drawImage()</code></a> with a zero width or height <a href="/zh-TW/docs/Web/HTML/Element/canvas" title="這個 HTML &lt;canvas> 元素 可以被使用於對腳本程式(JaveScript) 繪圖 .舉例來說, 它能用來畫圖,組合照片,甚至作動畫. 你也許(應該) 在&lt;canvas>區段內提供替代方案的內容 .這內容將能被一些不支援&lt;canvas>以及無法使用Javescript功能的瀏覽器所渲染 ."><code>&lt;canvas&gt;</code></a> now throws <code>INVALID_STATE_ERR</code>.</li>
 <li>Calling <a href="/en/DOM/CanvasRenderingContext2D#drawImage()" title="en/DOM/CanvasRenderingContext2D#drawImage()"><code>drawImage()</code></a> with non-finite coordinates no longer throws an exception.</li>
 <li><code>toDataURL()</code> method now accepts a second argument to control JPEG quality.</li>
 <li>Support for the non-standard <code>globalCompositeOperation</code> operations <code>clear</code> and <code>over</code> has been removed.</li>
 <li><a href="/en/Canvas_tutorial/Applying_styles_and_colors#Shadows" title="en/Canvas_tutorial/Applying_styles_and_colors#Shadows">Shadows</a> are now only drawn for <code>source-over</code> compositing operations.</li>
 <li>You can now configure the fill rule used by canvas by setting the <code>mozFillRule </code><a href="/en/DOM/CanvasRenderingContext2D#Attributes" title="en/DOM/CanvasRenderingContext2D#Attributes">attribute</a> on the context.</li>
 <li>Support for the experimental <code>mozDash</code>, <code>mozDashOffset</code>, <code>mozCurrentTransform</code> and <code>mozCurrentTransformInverse</code> attributes has been added.</li>
 <li>Support for the non-standard methods <code>mozDrawText()</code>, <code>mozMeasureText()</code>, <code>mozPathText()</code> and <code>mozTextAlongPath()</code> has been been removed.</li>
</ul>
<h3 id="CSS">CSS</h3>
<ul>
 <li><a href="/zh-TW/docs/Web/CSS/text-overflow" title="The documentation about this has not yet been written; please consider contributing!"><code>text-overflow</code></a> is now supported.</li>
 <li>The <a href="/zh-TW/docs/Web/CSS/orient" title="The documentation about this has not yet been written; please consider contributing!"><code>-moz-orient</code></a> property has been fixed so that <a href="/zh-TW/docs/Web/HTML/Element/progress" title="The documentation about this has not yet been written; please consider contributing!"><code>&lt;progress&gt;</code></a> elements that are vertically oriented have appropriate default dimensions.</li>
</ul>
<h3 id="MathML">MathML</h3>
<ul>
 <li>XLink href has been restored and the MathML3 <code>href</code> attribute is now supported. Developers are encouraged to move to the latter syntax.</li>
 <li>Support for the <code>voffset</code> attribute on <code><a href="/zh-TW/docs/Web/MathML/Element/mpadded" title="&lt;mpadded>">&lt;mpadded&gt;</a></code> elements has been added and behavior of <code>lspace</code> attribute has been fixed.</li>
 <li>The top-level <code><a href="/zh-TW/docs/Web/MathML/Element/math" title="&lt;math>">&lt;math&gt;</a></code> element now accepts any attributes of the <code><a href="/zh-TW/docs/Web/MathML/Element/mstyle" title="&lt;mstyle>">&lt;mstyle&gt;</a></code> element.</li>
 <li>Support for <a class="external" href="http://www.ctan.org/tex-archive/fonts/Asana-Math/">Asana Math</a> fonts has been added.</li>
 <li>The <code>medium</code> line thickness of fraction bars in <code><a href="/zh-TW/docs/Web/MathML/Element/mfrac" title="&lt;mfrac>">&lt;mfrac&gt;</a></code> elements has been corrected to match the default thickness.</li>
 <li><a href="/en/MathML/Attributes/Values#Constants_(namedspaces)" title="en/MathML/Attributes/Values#Constants_(namedspaces)">Names for negative spaces</a> are now supported.</li>
</ul>
<h3 id="DOM">DOM</h3>
<ul>
 <li>The <a href="/zh-TW/docs/Web/API/File" title="File 介面提供了檔案的資訊並且允許網頁中的 JavaScript 存取檔案的內容。"><code>File</code></a> interface's non-standard methods <code>getAsBinary()</code>, <code>getAsDataURL()</code>, and <code>getAsText()</code> have been removed as well as the non-standard properties <code>fileName</code> and <code>fileSize</code>.</li>
 <li>The <a href="/zh-TW/docs/Web/API/XMLHttpRequest/FormData" title="The documentation about this has not yet been written; please consider contributing!"><code>FormData</code></a> interface no longer reports the filename as an empty string when sending the <code>Content-Disposition</code> HTTP header if the data was set using a <a href="/zh-TW/docs/Web/API/Blob" title="Blob（Binary Large Object）物件代表了一個相當於檔案（原始資料）的不可變物件。Blob 中的資料並不一定是 JavaScript 原生的格式。File 介面基於 Blob，繼承 blob 並擴充其功能以支援操作使用者系統上的檔案。"><code>Blob</code></a>. This fixes errors that were happening with some servers.</li>
 <li>The <a href="/zh-TW/docs/Web/API/Element/dir" title="The documentation about this has not yet been written; please consider contributing!"><code>element.dir</code></a> attribute now always returns its result as all lower-case, as required by the HTML specification.</li>
 <li>The <a href="/zh-TW/docs/Web/API/FileReader" title="藉由 FileReader 物件，Web 應用程式能以非同步（asynchronously）方式讀取儲存在用戶端的檔案（或原始資料暫存）內容，可以使用 File 或 Blob 物件指定要讀取的資料。"><code>FileReader</code></a> <code>readAsArrayBuffer()</code> method is now implemented.</li>
 <li><a href="/zh-TW/docs/Web/API/Document/createEntityReference" title="The documentation about this has not yet been written; please consider contributing!"><code>document.createEntityReference</code></a> has been removed. It was never properly implemented and is not implemented in most other browsers.</li>
 <li><code>document.normalizeDocument</code> has been removed. Use <a href="/zh-TW/docs/Web/API/Node/normalize" title="The documentation about this has not yet been written; please consider contributing!"><code>Node.normalize</code></a> instead.</li>
 <li><a href="/zh-TW/docs/Web/API/DOMTokenList/item" title="The documentation about this has not yet been written; please consider contributing!"><code>DOMTokenList.item</code></a> now returns <code>undefined</code> if the <code>index</code> is out of bounds, previously it returned <code>null</code>.</li>
 <li><code>Node.getFeature</code> has been removed.</li>
 <li>The <code>HTMLInsElement</code> and <code>HTMLDelElement</code> interfaces have been removed, since the <a href="/zh-TW/docs/Web/HTML/Element/ins" title="The documentation about this has not yet been written; please consider contributing!"><code>&lt;ins&gt;</code></a> and <a href="/zh-TW/docs/Web/HTML/Element/del" title="The documentation about this has not yet been written; please consider contributing!"><code>&lt;del&gt;</code></a> elements actually use the <a href="/zh-TW/docs/Web/API/HTMLModElement" title="The documentation about this has not yet been written; please consider contributing!"><code>HTMLModElement</code></a> interface.</li>
 <li>In a effort to conform to the upcoming <a class="external" href="http://www.w3.org/TR/dom/">DOM4</a> specification where <a href="/zh-TW/docs/Web/API/Attr" title="DOM 元素的屬性（attribute）會被視作為 Attr 介面的物件（屬性節點）。在大部分的 DOM 方法中，可能是直接以字串型式取得屬性（如 Element.getAttribute()）。但在某些方法（如 Element.getAttributeNode()），或於迭代中則會是回傳 Attr 型別。"><code>Attr</code></a> do not inherit from <a href="/zh-TW/docs/Web/API/Node" title="Node 是一個被多種 DOM 類型繼承的介面，它讓各種類型的 DOM 都能以同樣的方式來操作。如繼承了相同的方法，或能以相同的方式測試。"><code>Node</code></a> anymore (it did in DOM Core 1, 2 and 3), many <a href="/zh-TW/docs/Web/API/Node" title="Node 是一個被多種 DOM 類型繼承的介面，它讓各種類型的 DOM 都能以同樣的方式來操作。如繼承了相同的方法，或能以相同的方式測試。"><code>Node</code></a> properties and methods on the <a href="/zh-TW/docs/Web/API/Attr" title="DOM 元素的屬性（attribute）會被視作為 Attr 介面的物件（屬性節點）。在大部分的 DOM 方法中，可能是直接以字串型式取得屬性（如 Element.getAttribute()）。但在某些方法（如 Element.getAttributeNode()），或於迭代中則會是回傳 Attr 型別。"><code>Attr</code></a> interface are <a href="/en/DOM/Attr#Deprecated_properties_and_methods" title="En/DOM/Attr#Deprecated_properties_and_methods">now reporting warnings</a> as we work toward removing them in a later version.</li>
 <li>Added support for the <a href="/zh-TW/docs/Web/API/Window/ondeviceorientation" title="The documentation about this has not yet been written; please consider contributing!"><code>window.ondeviceorientation</code></a> and <a href="/zh-TW/docs/Web/API/Window/ondevicemotion" title="The documentation about this has not yet been written; please consider contributing!"><code>window.ondevicemotion</code></a> properties on <a href="/zh-TW/docs/Web/API/Window" title="window 物件代表了一個包含 DOM 文件的視窗，其中的 document 屬性指向了視窗中載入的 Document 物件。而使用 document 的"><code>window</code></a> objects.</li>
 <li><a href="/zh-TW/docs/Web/API/Window/resizeTo" title="The documentation about this has not yet been written; please consider contributing!"><code>window.resizeTo</code></a>, <a href="/zh-TW/docs/Web/API/Window/resizeBy" title="The documentation about this has not yet been written; please consider contributing!"><code>window.resizeBy</code></a>, <a href="/zh-TW/docs/Web/API/Window/moveTo" title="The documentation about this has not yet been written; please consider contributing!"><code>window.moveTo</code></a> , and <a href="/zh-TW/docs/Web/API/Window/moveBy" title="The documentation about this has not yet been written; please consider contributing!"><code>window.moveBy</code></a> no longer apply to the main window.</li>
</ul>
<h3 id="JavaScript">JavaScript</h3>
<ul>
 <li>The <code><a href="/en/JavaScript/Reference/Global_Objects/Function/arity" title="en/JavaScript/Reference/Global_Objects/Function/arity">Function.arity</a></code> property has been removed; use <code><a href="/en/JavaScript/Reference/Global_Objects/Function/length" title="en/JavaScript/Reference/Global_Objects/Function/length">Function.length</a></code> instead.</li>
</ul>
<h3 id="WebSockets">WebSockets</h3>
<ul>
 <li>The <code>network.websocket.max-connections</code> preference is used to determine the maximum number of WebSocket connections that can be open at a time. The default value is 200.</li>
 <li>The underlying WebSocket protocol version 8 (as specified by <a class="external" href="http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10" title="http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10">IETF draft 10</a>) is used now instead of the version 7 protocol used by Firefox 6.</li>
 <li>The WebSocket API is now available on Firefox Mobile.</li>
</ul>
<h3 id="console_API">console API</h3>
<ul>
 <li>Message logged with <code>console.log</code> while the <a href="/en/Tools/Web_Console" title="Using the Web Console">web console</a> isn't open are still logged, although they aren't displayed when the web console is opened.</li>
</ul>
<div class="changelog">
 <h3 id="Web_timing">Web timing</h3>
 <ul>
  <li>Initial implementation of the <a href="/en/Navigation_timing">Navigation Timing</a> specification which provides data that can be used to measure the performance of a website.</li>
 </ul>
 <h3 id="XML">XML</h3>
 <ul>
  <li>In addition to the previously supported <code>text/xsl</code>, XSLT stylesheets can now use the official internet media (MIME) type <code>application/xslt+xml</code> (in the <a class="external" href="http://www.w3.org/TR/xml-stylesheet/" title="http://www.w3.org/TR/xml-stylesheet/">stylesheet processing instruction</a> or the <a class="external" href="http://tools.ietf.org/html/rfc5988">HTTP Link header field</a>).</li>
 </ul>
</div>
<h2 id="Changes_for_Mozilla_and_add-on_developers">Changes for Mozilla and add-on developers</h2>
<p>These changes affect add-on developers as well as developers working on or with Mozilla code itself. Add-on developers should see <a href="/en/Firefox/Updating_extensions_for_Firefox_7" title="en/Firefox/Updating extensions for Firefox 7">Updating extensions for Firefox 7</a> for additional information.</p>
<div class="note">
 <strong>Note:</strong> Firefox 7 requires that binary components be recompiled, as do all major releases of Firefox. See <a href="/En/Developer_Guide/Interface_Compatibility#Binary_Interfaces" title="En/Developer_Guide/Interface_Compatibility#Binary_Interfaces">Binary Interfaces</a> for details.</div>
<h3 id="JavaScript_code_modules">JavaScript code modules</h3>
<h4 id="FileUtils.jsm">FileUtils.jsm</h4>
<ul>
 <li>New method <code>openFileOutputStream()</code> opens a file output stream, the non-safe variant, for writing.</li>
</ul>
<h4 id="AddonManager.jsm">AddonManager.jsm</h4>
<ul>
 <li>The Add-on Manager has new methods for managing lists of add-ons that changed during applications startup: {{ AMInterface("AddonManager", "addStartupChange") }}, {{ AMInterface("AddonManager", "removeStartupChange") }}, and {{ AMInterface("AddonManager", "getStartupChanges") }}.</li>
</ul>
<h3 id="XUL">XUL</h3>
<ul>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XUL/tree" title="tree">tree</a></code> elements can now persist the state of disclosure triangles if the nodes referenced by <code id="a-datasources"><a href="https://developer.mozilla.org/zh-TW/docs/Mozilla/Tech/XUL/Attribute/datasources">datasources</a></code> all have unique IDs specified by "id" attributes.</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XUL/panel" title="panel">panel</a></code> elements can now be configured to <a href="/en/XUL/PopupGuide/Panels#Letting_panels_be_dragged_by_grabbing_the_background" title="en/XUL/PopupGuide/Panels#Letting_panels_be_dragged_by_grabbing_the_background">let the user drag them by clicking anywhere on their background</a> by using the new <code id="a-backdrag"><a href="https://developer.mozilla.org/zh-TW/docs/Mozilla/Tech/XUL/Attribute/backdrag">backdrag</a></code> attribute.</li>
</ul>
<h3 id="XPCOM">XPCOM</h3>
<ul>
 <li>The new <a href="/en/Components.utils.schedulePreciseGC" title="en/Components.utils.schedulePreciseGC"><code>Components.utils.schedulePreciseGC()</code></a> method lets you schedule a thorough garbage collection cycle to occur at some point in the future when no JavaScript code is executing; a callback is executed once collection is complete.</li>
 <li>The <a href="/en/Components.utils.unload" title="Components.utils.unload"><code>Components.utils.unload()</code></a> method lets you unload JavaScript code modules previously loaded by calling <a href="/en/Components.utils.load" title="en/Components.utils.load"><code>Components.utils.load()</code></a>.</li>
</ul>
<h3 id="Memory_reporters">Memory reporters</h3>
<p>Support has been added for multi-reporters; that is, memory reporters that gather data on request and call a callback for each generated result. See <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMemoryMultiReporter" title="">nsIMemoryMultiReporter</a></code> and <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMemoryMultiReporterCallback" title="">nsIMemoryMultiReporterCallback</a></code> for the relevant interfaces, as well as the <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/nsIMemoryReporterManager#registerMultiReporter()">nsIMemoryReporterManager.registerMultiReporter()</a></code> and <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/nsIMemoryReporterManager#unregisterMultiReporter()">nsIMemoryReporterManager.unregisterMultiReporter()</a></code> methods.</p>
<h3 id="User_experience_changes">User experience changes</h3>
<ul>
 <li>Extension options can now be <a href="/en/Extensions/Inline_Options" title="en/Extensions/Inline_Options">displayed inside the Add-on Manager</a> for both restartless and traditional extensions.</li>
 <li>The destination of downloads is now remembered on a site-by-site basis. This data can be accessed using <a href="/en/JavaScript_code_modules/DownloadLastDir.jsm" title="en/JavaScript_code_modules/DownloadLastDir.jsm">DownloadLastDir.jsm</a>.</li>
</ul>
<h3 id="Changes_to_the_build_system">Changes to the build system</h3>
<ul>
 <li>The ActiveX embedding API is no longer built and support has been removed from the build system. Supporting interfaces have also been removed; see <a href="#Removed_interfaces">Removed interfaces</a>.</li>
 <li>You should no longer specify <code>-Zc:wchar_t-</code> when building on Windows. See the <a href="/En/Developer_Guide/Build_Instructions#Build_and_install" title="En/Developer_Guide/Build_Instructions#Build_and_install">updated Build documentation</a> for details.</li>
</ul>
<h3 id="Interface_changes">Interface changes</h3>
<ul>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISocketTransport" title="">nsISocketTransport</a></code> now offers a new connection flag: <code>DISABLE_IPV6</code>; this causes a socket to only attempt to connect to IPv4 addresses, ignoring any available IPv6 addresses. In addition, <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDNSService" title="">nsIDNSService</a></code> now offers a new resolve flag: <code>RESOLVE_DISABLE_IPV6</code>; this causes domain name resolution to only consider IPv4 hosts, ignoring any available IPv6 addresses. These changes are used to implement the <a class="external" href="http://tools.ietf.org/html/draft-wing-http-new-tech-00">"happy eyeballs" strategy</a> for improving response time when attempting to connect on hosts that support both IPv4 and IPv6 (especially those that have broken IPv6 connectivity).</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/inIDOMUtils" title="">inIDOMUtils</a></code> has two new methods, <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/inIDOMUtils#getChildrenForNode()">inIDOMUtils.getChildrenForNode()</a></code> which returns a list of child nodes of a node and <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/inIDOMUtils#getUsedFontFaces()">inIDOMUtils.getUsedFontFaces()</a></code> which returns a list of font faces used in a range.</li>
 <li>The <code>nsIMarkupDocumentViewer_MOZILLA_2_0_BRANCH</code> interface has been merged into the <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMarkupDocumentViewer" title="">nsIMarkupDocumentViewer</a></code> interface.</li>
 <li>The <code>nsIDOMWindow2</code> interface has been merged into the <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code> interface.</li>
 <li>The <code>nsIDOMWindow_2_0_BRANCH</code> interface has been merged into the <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindowInternal" title="">nsIDOMWindowInternal</a></code> interface.</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryObserver" title="">nsINavHistoryObserver</a></code> methods with URI parameters now require a GUID as well.</li>
 <li>The <code>nsISHistory_2_0_BRANCH</code> interface has been merged into the <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISHistory" title="">nsISHistory</a></code> interface.</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITelemetry" title="">nsITelemetry</a></code> has a new method, <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/nsITelemetry#getHistogramById()">nsITelemetry.getHistogramById()</a></code> which returns a histogram by its ID, and a new attribute, <code>canRecord</code> which when set to <code>false</code> disables recording of telemetry statistics. Telemetry statistics are no longer recorded when in Private Browsing Mode. (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=661574" title="FIXED: Telemetry: Create a histogram directory">bug 661574</a> and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=661573" title="FIXED: Telemetry: Do not record/send data in private mode">bug 661573</a>)<br>
  Telemetry histograms defined with <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/nsITelemetry#newHistogram()">nsITelemetry.newHistogram()</a></code> will not be reported in the telemetry ping.</li>
 <li>The <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMemoryReporter" title="">nsIMemoryReporter</a></code> interface has been substantially changed; if you use it, you will need to make some adjustments to your code.</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXMLHttpRequest" title="">nsIXMLHttpRequest</a></code>, headers set by <code><a href="https://developer.mozilla.org/zh-TW/docs/XPCOM_Interface_Reference/nsIXMLHttpRequest#setRequestHeader()">nsIXMLHttpRequest.setRequestHeader()</a></code> are sent with the request when following a redirect. Previously these headers would not be sent.</li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell" title="">nsIDocShell</a></code> has a new <code>allowWindowControl</code> attribute. If <code>true</code>, the docshell's content is allowed to control the window (that is, to move or resize the window).</li>
 <li>The <code>nsIThreadInternal2</code> interface has been merged into the <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIThreadInternal" title="">nsIThreadInternal</a></code> interface.</li>
</ul>
<h4 id="New_interfaces">New interfaces</h4>
<dl>
 <dt>
  <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMFontFace" title="">nsIDOMFontFace</a></code></dt>
 <dd>
  Describes a single font face.</dd>
 <dt>
  <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMFontFaceList" title="">nsIDOMFontFaceList</a></code></dt>
 <dd>
  Describes a list of font faces, each represented by <code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMFontFace" title="">nsIDOMFontFace</a></code>.</dd>
</dl>
<h4 id="Removed_interfaces">Removed interfaces</h4>
<p>The following interfaces were implementation details that are no longer needed:</p>
<ul>
 <li><code>nsIDOM3Attr</code></li>
 <li><code>nsIDOM3Node</code></li>
 <li><code>nsIDOM3TypeInfo</code></li>
 <li><code>nsIDOM3Text</code></li>
 <li><code>nsIDOMDocumentStyle</code></li>
 <li><code>nsIDOMNSDocument</code></li>
 <li><code>nsIDOMNSFeatureFactory</code></li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNSHTMLDocument" title="">nsIDOMNSHTMLDocument</a></code></li>
 <li><code>nsIDOMNSHTMLFormElement</code></li>
 <li><code>nsIDOMNSHTMLHRElement</code></li>
 <li><code>nsIDOMNSHTMLTextAreaElement</code></li>
</ul>
<p>The following interfaces were removed as part of the removal of the ActiveX embedding API:</p>
<ul>
 <li><code>DITestScriptHelper</code></li>
 <li><code>DWebBrowserEvents</code></li>
 <li><code>DWebBrowserEvents2</code></li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/IDispatch" title="">IDispatch</a></code></li>
 <li><code>IMozControlBridge</code></li>
 <li><code>IMozPluginHostCtrl</code></li>
 <li><code>IWebBrowser</code></li>
 <li><code>IWebBrowser2</code></li>
 <li><code>IWebBrowserApp</code></li>
 <li><code>IXMLDocument</code></li>
 <li><code>IXMLElement</code></li>
 <li><code>IXMLElementCollection</code></li>
 <li><code>IXMLError</code></li>
 <li><code>nsIActiveXSecurityPolicy</code></li>
 <li><code><a href="/zh-TW/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDispatchSupport" title="">nsIDispatchSupport</a></code></li>
 <li><code>nsIMozAxPlugin</code></li>
 <li><code>nsIScriptEventHandler</code></li>
 <li><code>nsIScriptEventManager</code></li>
</ul>
<h3 id="Other_Changes">Other Changes</h3>
<ul>
 <li>The structure of the library window (<code>places.xul</code>) <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=588027">has been cleaned up</a>. This <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=677417">may break extensions</a> and themes.</li>
 <li>The look of the print preview window <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=663028">has been modernized</a> and theme authors are encouraged to style it using the CSS pseudo-elements <a href="/zh-TW/docs/Web/CSS/::-moz-page" title="The documentation about this has not yet been written; please consider contributing!"><code>::-moz-page</code></a>, <a href="/zh-TW/docs/Web/CSS/::-moz-page-sequence" title="The documentation about this has not yet been written; please consider contributing!"><code>::-moz-page-sequence</code></a> and <a href="/zh-TW/docs/Web/CSS/::-moz-scrolled-page-sequence" title="The documentation about this has not yet been written; please consider contributing!"><code>::-moz-scrolled-page-sequence</code></a>.</li>
</ul>
<h2 id="See_also">See also</h2>
<div>
 <div class="multiColumnList">
<ul>
<li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/6">Firefox 6 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/5">Firefox 5 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/4">Firefox 4 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/3.6">Firefox 3.6 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/3.5">Firefox 3.5 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/3">Firefox 3 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/2">Firefox 2 for developers</a></li><li><a href="/zh-TW/docs/Mozilla/Firefox/Releases/1.5">Firefox 1.5 for developers</a></li></ul>
</div></div>
