---
title: Implementing game control mechanisms
slug: Games/Techniques/Control_mechanisms
translation_of: Games/Techniques/Control_mechanisms
---
<div><section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Web のゲーム開発紹介</summary>
            <ol>
              <li><a href="/ja/docs/Games/Introduction">Web のゲーム開発紹介</a></li>
              <li><a href="/ja/docs/Games/Anatomy">ビデオゲームとの違い</a></li>
              <li><a href="/ja/docs/Games/Examples">Examples</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>ツール</summary>
            <ol>
              <li><a href="/ja/docs/Web/API/Canvas_API">Canvas</a></li>
              <li><a href="/ja/docs/Web/CSS">CSS</a></li>
              <li><a href="/ja/docs/Web/Apps/Fundamentals/User_notifications/Full_screen_api">Full screen</a></li>
              <li><a href="/ja/docs/Web/API/Gamepad_API">Gamepad</a></li>
              <li><a href="/ja/docs/Web/API/IndexedDB_API">IndexedDB</a></li>
              <li><a href="/ja/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="/ja/docs/Web/API/Pointer_Lock_API">Pointer Lock</a></li>
              <li><a href="/ja/docs/Web/SVG">SVG</a></li>
              <li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">Typed Arrays</a></li>
              <li><a href="/ja/docs/Web/API/Web_Audio_API">Web Audio</a></li>
              <li><a href="/ja/docs/Web/API/WebGL_API">WebGL</a></li>
              <li><a href="/ja/docs/Web/API/WebRTC_API">WebRTC</a></li>
              <li><a href="/ja/docs/Web/API/WebSockets_API">WebSockets</a></li>
              <li><a href="/ja/docs/Web/API/WebVR_API">WebVR</a></li>
              <li><a href="/ja/docs/Web/API/Web_Workers_API">Web Workers</a></li>
              <li><a href="/ja/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>ゲーム開発テクニック</summary>
            <ol>
              <li><a href="/ja/docs/Games/Techniques/Async_scripts">asm.js の同期スクリプトを利用する</a></li>
              <li><a href="/ja/docs/Web/Apps/Developing/Optimizing_startup_performance">起動パフォーマンスを最適化する</a></li>
              <li><a href="/ja/docs/Games/Techniques/WebRTC_data_channels">ピア通信チャンネルとして WebRTC を利用する</a></li>
              <li><a href="/ja/docs/Games/Techniques/Efficient_animation_for_web_games">Web ゲームの効率的なアニメーション</a></li>
              <li><a href="/ja/docs/Games/Techniques/Audio_for_Web_Games">Web ゲーム向けの音</a></li>
              <li><a href="/ja/docs/Games/Techniques/2D_collision_detection">2D 衝突検出</a></li>
              <li><a href="/ja/docs/Games/Techniques/Tilemaps">タイルとタイルマップの概要</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Web上の 3D ゲームの概要</summary>
            <ol>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web">Web上の 3D ゲームの概要</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/Basic_theory">基本の 3D理論の説明</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_A-Frame">A-Frame</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Babylon.js">Babylon.js</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_PlayCanvas">PlayCanvas を利用した基本的なデモの制作</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/Building_up_a_basic_demo_with_Three.js">Three.js を使った基本的なデモ製作</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_on_the_web/WebVR">WebVR</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_collision_detection">3D 衝突検出の概要</a></li>
              <li><a href="/ja/docs/Games/Techniques/3D_collision_detection/Bounding_volume_collision_detection_with_THREE.js">THREE.js を使ったバウンディングボリューム衝突検出</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Implementing game control mechanisms</summary>
            <ol>
              <li><a href="/ja/docs/Games/Techniques/Control_mechanisms">Control mechanisms</a></li>
              <li><a href="/ja/docs/Games/Techniques/Control_mechanisms/Mobile_touch">Mobile touch</a></li>
              <li><a href="/ja/docs/Games/Techniques/Control_mechanisms/Desktop_with_mouse_and_keyboard">Desktop with mouse and keyboard</a></li>
              <li><a href="/ja/docs/Games/Techniques/Control_mechanisms/Desktop_with_gamepad">Desktop with gamepad</a></li>
              <li><a href="/ja/docs/Games/Techniques/Control_mechanisms/Other">Other</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>チュートリアル</summary>
            <ol>
              <li><a href="/ja/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript">そのままの JavaScript を使ったブロックくずしゲーム</a></li>
              <li><a href="/ja/docs/Games/Tutorials/2D_breakout_game_Phaser">Phaser を使ったブロックくずしゲーム</a></li>
              <li><a href="/ja/docs/Games/Tutorials/HTML5_Gamedev_Phaser_Device_Orientation">デバイス回転方向を使った 2D 迷路ゲーム</a></li>
              <li><a href="https://mozdevs.github.io/html5-games-workshop/en/guides/platformer/start-here/">Phaser を使った 2D プラットフォームゲーム</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>ゲームを公開する</summary>
            <ol>
              <li><a href="/ja/docs/Games/Publishing_games">ゲームを公開するには</a></li>
              <li><a href="/ja/docs/Games/Publishing_games/Game_distribution">ゲームの配信</a></li>
              <li><a href="/ja/docs/Games/Publishing_games/Game_promotion">ゲームのプロモーション</a></li>
              <li><a href="/ja/docs/Games/Publishing_games/Game_monetization">ゲームのマネタイズ</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section></div>

<p class="summary"> </p>

<p>ゲーム開発プラットフォームとしてのHTML5の主な利点の1つは、さまざまなプラットフォームおよびデバイス上で実行できることです。デバイス間の違いを合理化することは、特に異なるコンテキストに適切なコントロールを提供するときには、複数の課題を生み出します。このシリーズの記事では、タッチスクリーンのスマートフォン、マウス、キーボード、そしてゲームパッドなどのあまり一般的ではないメカニズムを使用してプレイできるゲームの構築方法について説明します。</p>

<p class="summary"> </p>

<h2 id="Case_study">事例研究</h2>

<p>ここでは <a href="http://rogers2.enclavegames.com/demo/">Captain Rogers: Battle at Andromeda demo</a> を例にします。</p>

<p><img src="https://mdn.mozillademos.org/files/13849/captainrogers2-cover.png" alt="Captain Rogers: Battle at Andromeda - cover of the game containing Enclave Games and Blackmoon Design logos, Roger's space ship and title of the game." style="display: block; height: 325px; margin: 0px auto; width: 575px;"></p>

<p>キャプテンロジャーは現在JavaScriptによる2Dゲームをシンプルに開発できるもっとも一般的なツールある、Phaser フレームワークを用いて作成されており、PureJavaScriptやほかのフレームワークでゲームを構築するとき、これらの記事に含まれるナレッジの再利用がとても容易です。Phaser のよい入門書をお探しであれば、<a>2D breakout game using Phaser</a>tutorialをチェックしてみてください。</p>

<p>In the following articles we will show how to implement various different control mechanisms for Captain Rogers to support different platforms — from touch on mobile, through keyboard/mouse/gamepad on desktop, to more unconventional ones like TV remote, shouting to or waving your hand in front of the laptop, or squeezing bananas.</p>

<h2 id="Setting_up_the_environment">Setting up the environment</h2>

<p>Let's start with a quick overview of the game's folder structure, JavaScript files and in-game states, so we know what's happening where. The game's folders look like this:</p>

<p><img src="https://mdn.mozillademos.org/files/13851/captainrogers2-folderstructure.png" alt="Captain Rogers: Battle at Andromeda - folder structure of the games' project containing JavaScript sources, images and fonts." style="border-style: solid; border-width: 1px; display: block; height: 479px; margin: 0px auto; width: 575px;"></p>

<p>As you can see there are folders for images, JavaScript files, fonts and sound effects. The <code>src</code> folder contains the JavaScript files split as a separate states — <code>Boot.js</code>, <code>Preloader.js</code>, <code>MainMenu.js</code> and <code>Game.js</code> — these are loaded into the index file in this exact order. The first one initializes Phaser, the second preloads all the assets, the third one controls the main menu welcoming the player, and the fourth controls the actual gameplay.</p>

<p>Every state has its own default methods: <code>preload()</code>, <code>create()</code>, and <code>update()</code>. The first one is needed for preloading required assets, <code>create()</code> is executed once the state had started, and <code>update()</code> is executed on every frame.</p>

<p>For example, you can define a button in the <code>create()</code> function:</p>

<pre class="brush: js">create: function() {
	// ...
	var buttonEnclave = this.add.button(10, 10, 'logo-enclave', this.clickEnclave, this);
	// ...
}
</pre>

<p>It will be created once at the start of the game, and will execute <code>this.clickEnclave()</code> action assigned to it when clicked, but you can also use the mouse's pointer value in the <code>update()</code> function to make an action:</p>

<pre class="brush: js">update: function() {
	// ...
	if(this.game.input.mousePointer.isDown) {
	    // do something
	}
	// ...
}
</pre>

<p>This will be executed whenever the mouse button is pressed, and it will be checked against the input's <code>isDown</code> boolean variable on every frame of the game.</p>

<p>That should give you some understanding of the project structure. We'll be playing mostly with the <code>MainMenu.js</code> and <code>Game.js</code> files, and we'll explain the code inside the <code>create()</code> and <code>update()</code> methods in much more detail in later articles.</p>

<h2 id="Pure_JavaScript_demo">Pure JavaScript demo</h2>

<p>There's also a <a href="https://end3r.github.io/JavaScript-Game-Controls/">small online demo</a> with full source code <a href="https://github.com/end3r/JavaScript-Game-Controls/">available on GitHub</a> where the basic support for the control mechanisms described in the articles is implemented in pure JavaScript. It will be explained in the given articles themselves below, but you can play with it already, and use the code however you want for learning purposes.</p>

<h2 id="The_articles">The articles</h2>

<p>JavaScript is the perfect choice for mobile gaming because of HTML5 being truly multiplatform; all of the following articles focus on the APIs provided for interfacing with different control mechanisms:</p>

<ol>
 <li><a href="/en-US/docs/Games/Techniques/Control_mechanisms/Mobile_touch">Mobile touch controls</a> — The first article will kick off with touch, as the mobile first approach is very popular.</li>
 <li><a href="/en-US/docs/Games/Techniques/Control_mechanisms/Desktop_with_mouse_and_keyboard">Desktop mouse and keyboard controls</a> — When playing on a desktop/laptop computer, providing keyboard and mouse controls is essential to provide an acceptable level of accessibility for the game.</li>
 <li><a href="/en-US/docs/Games/Techniques/Control_mechanisms/Desktop_with_gamepad">Desktop gamepad controls</a> — The Gamepad API rather usefully allows gamepads to be used for controlling web apps on desktop/laptop, for that console feel.</li>
 <li><a href="/en-US/docs/Games/Techniques/Control_mechanisms/Other">Unconventional controls</a> — The final article showcases some unconventional control mechanisms, from the experimental to the slightly crazy, which you might not believe could be used to play the game.</li>
</ol>
