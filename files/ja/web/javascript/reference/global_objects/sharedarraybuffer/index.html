---
title: SharedArrayBuffer
slug: Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer
tags:
  - Constructor
  - JavaScript
  - Shared Memory
  - SharedArrayBuffer
  - TypesdArrays
translation_of: Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects">Standard built-in objects</a></strong></li><li><strong><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer"><code>SharedArrayBuffer</code></a></strong></li><li data-default-state="open"><a href="#"><strong>プロパティ</strong></a><ol><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/byteLength"><code>SharedArrayBuffer.prototype.byteLength</code></a></li></ol></li><li data-default-state="open"><a href="#"><strong>メソッド</strong></a><ol><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/slice"><code>SharedArrayBuffer.prototype.slice()</code></a> <a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/slice$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></li><li><strong>継承</strong></li><li><strong><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a></strong></li><li><a href="#"><strong>プロパティ</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/arguments"><code>Function.arguments</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/caller"><code>Function.caller</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/displayName"><code>Function.displayName</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/length"><code>Function.length</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/name"><code>Function.name</code></a></li></ol></li><li><a href="#"><strong>メソッド</strong></a><ol><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>Function.prototype.apply()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/bind"><code>Function.prototype.bind()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/call"><code>Function.prototype.call()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/toSource"><code>Function.prototype.toSource()</code></a></s></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function/toString"><code>Function.prototype.toString()</code></a></li></ol></li><li><strong><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>プロパティ</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li><a href="#"><strong>メソッド</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></s></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li></ol></li></ol></section></div>

<p><strong><code>SharedArrayBuffer</code></strong> オブジェクトは、ジェネリックで固定長の生バイナリデータバッファーを表すために使用されます。<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> オブジェクトと似ていますが、これらは共有メモリー上にビューを生成するために使用されます。<code>ArrayBuffer</code> と異なり、<code>SharedArrayBuffer</code> は分離できません。</p>

<div class="note">
<p><code>SharedArrayBuffer</code> はすべての主要なブラウザーで 2018 年 1 月 5 日に、<a href="https://meltdownattack.com/">Spectre</a> への対応として無効化されましたので注意してください。Chrome では、Spectre 型脆弱性から保護するためのサイト分離機能が有効にされたプラットフォームにおいて、<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=821270">v67 に再度有効化されています</a>。</p>
</div>

<div><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/sharedarraybuffer-constructor.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></div>

<p class="hidden">The source for this interactive example is stored in a GitHub repository. If you&apos;d like to contribute to the interactive examples project, please clone <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> and send us a pull request.</p>

<h2 id="構文">構文</h2>

<pre class="syntaxbox notranslate">new SharedArrayBuffer(length)
</pre>

<h3 id="パラメーター">パラメーター</h3>

<dl>
 <dt><code>length</code></dt>
 <dd>array buffer を生成するバイト単位のサイズ。</dd>
</dl>

<h3 id="戻り値">戻り値</h3>

<p>指定したサイズの新しい <code>SharedArrayBuffer</code>。コンテンツは 0 に初期化されている。</p>

<h2 id="説明">説明</h2>

<h3 id="Allocating_and_sharing_memory" name="Allocating_and_sharing_memory">メモリーの割り当てと共有</h3>

<p>クラスター内のあるエージェントから別のエージェント (エージェントとは、ウェブページのメインプログラムまたはその web worker のひとつ) へ、<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer"><code>SharedArrayBuffer</code></a> オブジェクトを使用してメモリーを共有するために、<code><a href="/ja/docs/Web/API/Worker/postMessage">postMessage</a></code> と <a href="/ja/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">structured cloning</a> を使用します。</p>

<p>structured clone アルゴリズムは <code>SharedArrayBuffers</code> と、<code>SharedArrayBuffers</code> にマッピングされた <code>TypedArrays</code> を受け入れます。どちらの場合も <code>SharedArrayBuffer</code> オブジェクトは受信者に転送されて、受信側のエージェントで新たなプライベートの SharedArrayBuffer オブジェクトになります (<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> と同じように)。しかし、2 つの <code>SharedArrayBuffer</code> オブジェクトから参照される共有データブロックは同一のデータブロックであり、あるエージェントによるブロックへの副作用は、結果的に他方のエージェントからも見えます。</p>

<pre class="brush: js notranslate">var sab = new SharedArrayBuffer(1024);
worker.postMessage(sab);
</pre>

<h3 id="Atomic_操作で共有メモリを更新、同期する">Atomic 操作で共有メモリを更新、同期する</h3>

<p>共有メモリーは、worker 内でもメインスレッド内でも同時に生成や更新ができます。システム（CPU や OS、ブラウザー）によっては、変更がすべてのコンテキストに通知されるまでに少々時間がかかります。同期するためには、<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Atomics">atomic</a> 操作が必要です。</p>

<h3 id="SharedArrayBuffer_オブジェクトを受け付ける_API">SharedArrayBuffer オブジェクトを受け付ける API</h3>

<ul>
 <li><a href="/ja/docs/Web/API/WebGLRenderingContext/bufferData"><code>WebGLRenderingContext.bufferData()</code></a></li>
 <li><a href="/ja/docs/Web/API/WebGLRenderingContext/bufferSubData"><code>WebGLRenderingContext.bufferSubData()</code></a></li>
 <li><a href="/ja/docs/Web/API/WebGL2RenderingContext/getBufferSubData"><code>WebGL2RenderingContext.getBufferSubData()</code></a></li>
</ul>

<h3 id="SharedArrayBuffer_の生成には_new_演算子が必要">SharedArrayBuffer の生成には new 演算子が必要</h3>

<p><code>SharedArrayBuffer</code> コンストラクターは、<a href="/ja/docs/Web/JavaScript/Reference/Operators/new"><code>new</code></a> 演算子で呼び出される必要があります。<code>new</code> 演算子なしで関数として <code>SharedArrayBuffer</code> コンストラクターを呼び出すと、<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> をスローします。</p>

<pre class="brush: js example-bad notranslate">var sab = SharedArrayBuffer(1024);
// TypeError: calling a builtin SharedArrayBuffer constructor
// without new is forbidden</pre>

<pre class="brush: js example-good notranslate">var sab = new SharedArrayBuffer(1024);</pre>

<h2 id="プロパティ">プロパティ</h2>

<dl>
 <dt><code>SharedArrayBuffer.length</code></dt>
 <dd><code>SharedArrayBuffer</code> コンストラクターの length プロパティの値は 1。</dd>
 <dt><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/prototype"><code>SharedArrayBuffer.prototype</code></a></dt>
 <dd>すべての <code>SharedArrayBuffer</code> オブジェクトにプロパティ追加を許可する。</dd>
</dl>

<h2 id="SharedArrayBuffer_プロトタイプオブジェクト"><code>SharedArrayBuffer</code> プロトタイプオブジェクト</h2>

<p>すべての <code>SharedArrayBuffer</code> インスタンスは <a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/prototype"><code>SharedArrayBuffer.prototype</code></a> を継承しています。</p>

<h3 id="プロパティ_2">プロパティ</h3>

<dl>
 <dt>SharedArrayBuffer.prototype.constructor</dt>
 <dd>オブジェクトの prototype を生成する関数を指定する。初期値は標準ビルトインの <code>SharedArrayBuffer</code> コンストラクタである。</dd>
 <dt><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/byteLength" title="byteLength アクセッサプロパティは、SharedArrayBuffer のバイト単位の長さを表します。"><code>SharedArrayBuffer.prototype.byteLength</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>配列のバイト単位でのサイズ。これは配列が生成されたときに決定され、変更できない。 <strong>読み取り専用</strong>。</dd>
</dl>

<h3 id="メソッド">メソッド</h3>

<dl>
 <dt><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/slice(begin,%20end)" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>SharedArrayBuffer.prototype.slice(begin, end)</code></a></dt>
 <dd><code>begin</code> から <code>end</code> までの <code>SharedArrayBuffer</code> バイトのコピーを含む新しい <code>SharedArrayBuffer</code> を返す。<code>begin</code> か <code>end</code> が負数だった場合、最初から参照するのとは対照的に、配列の終わりからインテックスを参照します。</dd>
</dl>

<h2 id="仕様">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様</th>
   <th scope="col">状態</th>
   <th scope="col">コメント</th>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-sharedarraybuffer-objects" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="ja">SharedArrayBuffer の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td>ES2017 で初期定義。</td>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/8.0/#sec-sharedarraybuffer-objects" hreflang="en" lang="en">ECMAScript 2017 (ECMA-262)<br><small lang="ja">SharedArrayBuffer の定義</small></a></td>
   <td><span class="spec-Standard">標準</span></td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="ブラウザー実装状況">ブラウザー実装状況</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:javascript.builtins.SharedArrayBuffer"></div>

<h2 id="関連項目">関連項目</h2>

<ul>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Atomics"><code>Atomics</code></a></li>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a></li>
 <li><a href="/ja/docs/Web/JavaScript/Typed_arrays">JavaScript typed arrays</a></li>
 <li><a href="/ja/docs/Web/API/Web_Workers_API">Web Workers</a></li>
 <li><a href="https://github.com/lars-t-hansen/parlib-simple">parlib-simple </a>– 同期と作業分配抽象化を提供するシンプルなライブラリー</li>
 <li><a href="https://github.com/tc39/ecmascript_sharedmem/blob/master/TUTORIAL.md">共有メモリー – 簡潔なチュートリアル</a></li>
 <li>
  <p><a href="https://dev.mozilla.jp/2016/05/a-taste-of-javascripts-new-parallel-primitives/">JavaScript の並列処理機能を味見してみる</a></p>
 </li>
</ul>
