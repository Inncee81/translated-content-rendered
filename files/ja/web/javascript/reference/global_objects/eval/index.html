---
title: eval()
slug: Web/JavaScript/Reference/Global_Objects/eval
tags:
  - Evaluating JavaScript
  - JavaScript
  - Method
  - Reference
  - Warning
  - eval
  - メソッド
  - 警告
translation_of: Web/JavaScript/Reference/Global_Objects/eval
---
<div><section class="Quick_links" id="Quick_Links">
 <ol>
  <li><a href="/ja/docs/Web/JavaScript"><strong><em>JavaScript</em></strong></a></li>
  <li><a href="/ja/docs/Web/JavaScript/Tutorials"><strong>チュートリアル:</strong></a></li>
  <li class="toggle">
    <details>
      <summary>初級編</summary>
      <ol>
        <li><a href="/ja/docs/Learn/Getting_started_with_the_web/JavaScript_basics">JavaScript の基礎</a></li>
        <li><a href="/ja/docs/Learn/JavaScript/First_steps">JavaScript first steps</a></li>
        <li><a href="/ja/docs/Learn/JavaScript/Building_blocks">JavaScript building blocks</a></li>
        <li><a href="/ja/docs/Learn/JavaScript/Objects">Introducing JavaScript objects</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>JavaScript ガイド</summary>
      <ol>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Introduction">入門編</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Grammar_and_Types">文法とデータ型</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Control_flow_and_error_handling">制御フローとエラー処理</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Loops_and_iteration">ループとイテレーター</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Functions">関数</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Expressions_and_Operators">式と演算子</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Numbers_and_dates">数と日付</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Text_formatting">テキスト処理</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Regular_Expressions">正規表現</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Indexed_collections">インデックス付きコレクション</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Keyed_collections">キー付きコレクション</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Working_with_Objects">オブジェクトを利用する</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Details_of_the_Object_Model">オブジェクトモデルの詳細</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Using_promises">Using promises</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Iterators_and_generators">イテレーターとジェネレーター</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Meta_programming">メタプログラミング</a></li>
          <li><a href="/ja/docs/Web/JavaScript/Guide/Modules">JavaScript modules</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>中級編</summary>
      <ol>
        <li><a href="/ja/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks">Client-side JavaScript frameworks</a></li>
        <li><a href="/ja/docs/Learn/JavaScript/Client-side_web_APIs">Client-side web APIs</a></li>
        <li><a href="/ja/docs/Web/JavaScript/A_re-introduction_to_JavaScript">JavaScript 「再」入門</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Data_structures">JavaScript のデータ構造</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Equality_comparisons_and_sameness">等値比較と同一性</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Closures">クロージャ</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>上級編</summary>
      <ol>
        <li><a href="/ja/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">継承とプロトタイプチェーン</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Strict_mode">Strict モード</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Typed_arrays">JavaScript 型付き配列</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Memory_Management">メモリ管理</a></li>
        <li><a href="/ja/docs/Web/JavaScript/EventLoop">並列モデルとイベントループ</a></li>
      </ol>
    </details>
  </li>
  <li><strong><a href="/ja/docs/Web/JavaScript/Reference">リファレンス:</a></strong></li>
  <li class="toggle">
    <details open>
       <summary>ビルトインオブジェクト</summary>
        <ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/AggregateError">AggregateError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer">ArrayBuffer</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/AsyncFunction">AsyncFunction</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Atomics">Atomics</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array">BigInt64Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array">BigUint64Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/DataView">DataView</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/EvalError">EvalError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry">FinalizationRegistry</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Float32Array">Float32Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Float64Array">Float64Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generator</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction">GeneratorFunction</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Infinity">Infinity</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Int16Array">Int16Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Int32Array">Int32Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Int8Array">Int8Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/InternalError">InternalError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Intl">Intl</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Math">Math</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/NaN">NaN</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/RangeError">RangeError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError">ReferenceError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Reflect">Reflect</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer">SharedArrayBuffer</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbol</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError">SyntaxError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/TypeError">TypeError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/TypedArray">TypedArray</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/URIError">URIError</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array">Uint16Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array">Uint32Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray">Uint8ClampedArray</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/WeakMap">WeakMap</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/WeakRef">WeakRef</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/WeakSet">WeakSet</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly">WebAssembly</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/decodeURI">decodeURI()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent">decodeURIComponent()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/encodeURI">encodeURI()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">encodeURIComponent()</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/escape">escape()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/eval">eval()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/globalThis">globalThis</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/isFinite">isFinite()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/isNaN">isNaN()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/null">null</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/parseFloat">parseFloat()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/parseInt">parseInt()</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/unescape">unescape()</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/uneval">uneval()</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>式と演算子</summary>
      <ol><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Addition">加算 (+)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Addition_assignment">加算代入 (+=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Assignment">代入 (=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_AND">ビット論理積 (&amp;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_AND_assignment">ビット論理積代入 (&amp;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_NOT">ビット否定 (~)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_OR">ビット論理和 (|)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_OR_assignment">ビット論理和代入 (|=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR">ビット排他的論理和 (^)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Bitwise_XOR_assignment">ビット排他的論理和代入 (^=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Comma_Operator">カンマ演算子 (,)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Conditional_Operator">条件 (三項) 演算子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Decrement">デクリメント (--)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">分割代入</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Division">除算 (/)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Division_assignment">除算代入 (/=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Equality">等価 (==)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Exponentiation">べき乗 (**)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Exponentiation_assignment">べき乗代入 (**=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/function">関数式</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Greater_than">大なり (&gt;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Greater_than_or_equal">大なりイコール (&gt;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Grouping">グループ化演算子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Increment">インクリメント (++)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Inequality">不等価 (!=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Left_shift">左シフト (&lt;&lt;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Left_shift_assignment">左シフト代入 (&lt;&lt;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Less_than">小なり (&lt;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Less_than_or_equal">小なりイコール (&lt;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_AND">論理積 (&amp;&amp;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_AND_assignment">論理積代入 (&amp;&amp;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_NOT">論理否定 (!)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_OR">論理和 (||)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_OR_assignment">論理和代入 (||=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Logical_nullish_assignment">Null 合体代入 (??=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Multiplication">乗算 (*)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Multiplication_assignment">乗算代入 (*=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator">Null 合体 (??)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Object_initializer">オブジェクト初期化子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">演算子の優先順位</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Optional_chaining">Optional chaining (?.)</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Operators/Pipeline_operator">パイプライン演算子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Property_Accessors">プロパティアクセサー</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Remainder">剰余 (%)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Remainder_assignment">剰余代入 (%=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Right_shift">右シフト (&gt;&gt;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Right_shift_assignment">右シフト代入 (&gt;&gt;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Spread_syntax">スプレッド構文</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Strict_equality">厳密等価 (===)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Strict_inequality">厳密不等価 (!==)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Subtraction">減算 (-)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Subtraction_assignment">減算代入 (-=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Unary_negation">単項マイナス (-)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Unary_plus">単項プラス (+)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift">符号なし右シフト (&gt;&gt;&gt;)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Unsigned_right_shift_assignment">符号なし右シフト代入 (&gt;&gt;&gt;=)</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/async_function">非同期関数式</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/await">await</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/class">クラス式</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/delete">delete</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/function*">function* 式</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/in">in</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/instanceof">instanceof</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/new">new 演算子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/new.target">new.target</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/super">super</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/this">this</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/typeof">typeof</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/void">void 演算子</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/yield">yield</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Operators/yield*">yield*</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>文と宣言</summary>
      <ol><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/async_function">async function</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/block">ブロック</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/break">break</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/class">class</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/const">const</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/continue">continue</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/debugger">debugger</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/do...while">do...while</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/Empty">空文</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/export">export</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/for">for</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/for-await...of">for await...of</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/for...in">for...in</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/for...of">for...of</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/function">関数宣言</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/function*">function*</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/if...else">if...else</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/import">import</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/import.meta">import.meta</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/label">label</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/let">let</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/return">return</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/switch">switch</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/throw">throw</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/try...catch">try...catch</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/var">var</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Statements/while">while</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/JavaScript/Reference/Statements/with">with</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>関数</summary>
      <ol><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/Arrow_functions">アロー関数</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/Default_parameters">デフォルト引数</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/Method_definitions">メソッド定義</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/rest_parameters">残余引数</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/arguments">arguments</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/get">ゲッター</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Functions/set">セッター</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>クラス</summary>
      <ol><li><a href="/ja/docs/Web/JavaScript/Reference/Classes/Private_class_fields">プライベートクラスフィールド</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Classes/Public_class_fields">パブリッククラスフィールド</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Classes/constructor">コンストラクター</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Classes/extends">extends</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Classes/static">static</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Errors</summary>
      <ol><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Property_access_denied">Error: Permission denied to access property &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Too_much_recursion">InternalError: too much recursion</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Not_a_codepoint">RangeError: argument is not a valid code point</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_array_length">RangeError: invalid array length</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_date">RangeError: invalid date</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Precision_range">RangeError: precision is out of range</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Bad_radix">RangeError: radix must be an integer</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Resulting_string_too_large">RangeError: repeat count must be less than infinity</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Negative_repetition_count">RangeError: repeat count must be non-negative</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Not_defined">ReferenceError: &quot;x&quot; is not defined</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Undeclared_var">ReferenceError: assignment to undeclared variable &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init">ReferenceError: can&apos;t access lexical declaration`X&apos; before initialization</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_caller_or_arguments_usage">ReferenceError: deprecated caller or arguments usage</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_assignment_left-hand_side">ReferenceError: invalid assignment left-hand side</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Undefined_prop">ReferenceError: reference to undefined property &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_octal">SyntaxError: &quot;0&quot;-prefixed octal literals and octal escape seq. are deprecated</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Strict_Non_Simple_Params">SyntaxError: &quot;use strict&quot; not allowed in function with non-simple parameters</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Reserved_identifier">SyntaxError: &quot;x&quot; is a reserved identifier</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/JSON_bad_parse">SyntaxError: JSON.parse: bad parsing</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Malformed_formal_parameter">SyntaxError: Malformed formal parameter</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Unexpected_token">SyntaxError: Unexpected token</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_source_map_pragma">SyntaxError: Using //@ to indicate sourceURL pragmas is deprecated. Use //# instead</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_for-of_initializer">SyntaxError: a declaration in the head of a for-of loop can&apos;t have an initializer</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Delete_in_strict_mode">SyntaxError: applying the &apos;delete&apos; operator to an unqualified name is deprecated</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_for-in_initializer">SyntaxError: for-in loop head declarations may not have initializers</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Unnamed_function_statement">SyntaxError: function statement requires a name</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Identifier_after_number">SyntaxError: identifier starts immediately after numeric literal</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Illegal_character">SyntaxError: illegal character</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Bad_regexp_flag">SyntaxError: invalid regular expression flag &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_argument_list">SyntaxError: missing ) after argument list</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_parenthesis_after_condition">SyntaxError: missing ) after condition</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_colon_after_property_id">SyntaxError: missing : after property id</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_semicolon_before_statement">SyntaxError: missing ; before statement</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const">SyntaxError: missing = in const declaration</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_bracket_after_list">SyntaxError: missing ] after element list</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_formal_parameter">SyntaxError: missing formal parameter</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_name_after_dot_operator">SyntaxError: missing name after . operator</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/No_variable_name">SyntaxError: missing variable name</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_function_body">SyntaxError: missing } after function body</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Missing_curly_after_property_list">SyntaxError: missing } after property list</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter">SyntaxError: redeclaration of formal parameter &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield">SyntaxError: return not in function</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Equal_as_assign">SyntaxError: test for equality (==) mistyped as assignment (=)?</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Unterminated_string_literal">SyntaxError: unterminated string literal</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/No_properties">TypeError: &quot;x&quot; has no properties</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Unexpected_type">TypeError: &quot;x&quot; is (not) &quot;y&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Not_a_constructor">TypeError: &quot;x&quot; is not a constructor</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Not_a_function">TypeError: &quot;x&quot; is not a function</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/No_non-null_object">TypeError: &quot;x&quot; is not a non-null object</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Read-only">TypeError: &quot;x&quot; is read-only</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/is_not_iterable">TypeError: &apos;x&apos; is not iterable</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/More_arguments_needed">TypeError: More arguments needed</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Reduce_of_empty_array_with_no_initial_value">TypeError: Reduce of empty array with no initial value</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Called_on_incompatible_type">TypeError: X.prototype.y called on incompatible type</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Dead_object">TypeError: can&apos;t access dead object</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_access_property">TypeError: can&apos;t access property &quot;x&quot; of &quot;y&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_assign_to_property">TypeError: can&apos;t assign to property &quot;x&quot; on &quot;y&quot;: not an object</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_define_property_object_not_extensible">TypeError: can&apos;t define property &quot;x&quot;: &quot;obj&quot; is not extensible</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Non_configurable_array_element">TypeError: can&apos;t delete non-configurable array element</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_redefine_property">TypeError: can&apos;t redefine non-configurable property &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/in_operator_no_object">TypeError: invalid &apos;in&apos; operand &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cyclic_object_value">TypeError: cyclic object value</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/invalid_right_hand_side_instanceof_operand">TypeError: invalid &apos;instanceof&apos; operand &apos;x&apos;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Array_sort_argument">TypeError: invalid Array.prototype.sort argument</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Typed_array_invalid_arguments">TypeError: invalid arguments</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment">TypeError: invalid assignment to const &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Cant_delete">TypeError: property &quot;x&quot; is non-configurable and can&apos;t be deleted</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Getter_only">TypeError: setting getter-only property &quot;x&quot;</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Var_hides_argument">TypeError: variable &quot;x&quot; redeclares argument</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Malformed_URI">URIError: malformed URI sequence</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Already_has_pragma">Warning: -file- is being assigned a //# sourceMappingURL, but already has one</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Bad_octal">SyntaxError: &quot;x&quot; is not a legal ECMA-262 octal constant</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_toLocaleFormat">Warning: Date.prototype.toLocaleFormat is deprecated</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/For-each-in_loops_are_deprecated">Warning: JavaScript 1.6&apos;s for-each-in loops are deprecated</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_String_generics">Warning: String.x is deprecated; use String.prototype.x instead</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Deprecated_expression_closures">Warning: expression closures are deprecated</a></li><li><a href="/ja/docs/Web/JavaScript/Reference/Errors/Stmt_after_return">Warning: unreachable code after return statement</a></li></ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>その他</summary>
      <ol>
        <li><a href="/ja/docs/Web/JavaScript/JavaScript_technologies_overview">JavaScript 技術概説</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Lexical_grammar">字句文法</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Data_structures">JavaScript のデータ構造</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">プロパティの列挙可能性と所有権</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Iteration_protocols">反復処理プロトコル</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Strict_mode">Strict モード</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode">strict モードへの移行</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Template_literals">テンプレート文字列</a></li>
        <li><a href="/ja/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features">廃止予定の機能</a></li>
      </ol>
    </details>
  </li>
 </ol>
</section></div>

<p><code><strong>eval()</strong></code> 関数は、文字列として表現された JavaScript コードを評価します。</p>

<div class="warning notecard">
<p><strong>警告:</strong> 文字列から JavaScript を実行することは、非常に大きなセキュリティリスクを伴います。<code>eval()</code> を使用すると、悪意のある者が任意のコードを実行するのはあまりにも簡単です。下記の <a href="#Never_use_eval!">eval() を使わないでください!</a>を参照してください。</p>
</div>

<div><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/globalprops-eval.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></div>

<div class="hidden">このデモのソースファイルは GitHub リポジトリに格納されています。デモプロジェクトに協力したい場合は、<a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> をクローンしてプルリクエストを送信してください。</div>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox notranslate"><code>eval(<em>string</em>)</code></pre>

<h3 id="Parameters" name="Parameters">引数</h3>

<dl>
 <dt><code>string</code></dt>
 <dd>JavaScript の式、文、または一連の文を表す文字列です。式には、既存オブジェクトの変数およびプロパティを含められます。</dd>
</dl>

<h3 id="Return_value" name="Return_value">返値</h3>

<p>与えられたコードの評価結果値を返します。評価結果が空の場合は、<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> を返します。</p>

<h2 id="Description" name="Description">解説</h2>

<p><code>eval()</code> はグローバルオブジェクトの関数プロパティです。</p>

<p><code>eval()</code> 関数の引数は文字列です。その文字列が式に相当する場合、<code>eval()</code> は引数を式として評価します。引数が 1 つ以上の JavaScript 文に相当する場合、<code>eval()</code> は引数を文として評価します。算術式を評価する目的で <code>eval()</code> を呼び出してはいけません。JavaScript は算術式を自動的に評価します。</p>

<p>算術式を文字列として構築した場合、後で <code>eval()</code> を使ってそれを評価することができます。例えば <code>x</code> という変数があるとします。ある変数に &quot;<code>3 * x + 2</code>&quot; といった式の文字列値を代入し、そしてスクリプトの後方で <code>eval()</code> を呼び出すことで、<code>x</code> が関わる式の評価を後回しにできます。</p>

<p><code>eval()</code> の引数が文字列でない場合、<code>eval()</code> は引数を変更せずに返します。次の例では <code>String</code> コンストラクターが指定されているため、<code>eval()</code> は文字列を評価したものではなく <code>String</code> オブジェクトを返します。</p>

<pre class="brush:js notranslate">eval(new String(&apos;2 + 2&apos;)); // &quot;2 + 2&quot; を含む String オブジェクトを返します
eval(&apos;2 + 2&apos;);             // 4 を返します
</pre>

<p>この制約は、<code>toString</code> を使用する一般的な方法で回避できます。</p>

<pre class="brush:js notranslate">var expression = new String(&apos;2 + 2&apos;);
eval(expression.toString());            // 4 を返します
</pre>

<p><code>eval</code> 関数を <code>eval</code> 以外の名前を参照して呼び出すことで<em>間接的に</em>使用した場合、<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.2">ECMAScript 5</a> 以降ではローカルスコープではなくグローバルスコープで機能します。これは例えると、関数定義によりグローバル関数が作成されるため、評価されたコードはその呼び出されたスコープ内のローカル変数にアクセスできなくなる、ということです。</p>

<pre class="brush:js notranslate">function test() {
  var x = 2, y = 4;
  console.log(eval(&apos;x + y&apos;)); // 直接呼び出し、ローカルスコープを使用し、結果は 6 となる
  var geval = eval; // グローバルスコープでの eval呼び出しと同等
  console.log(geval(&apos;x + y&apos;)); // 間接呼び出し、グローバルスコープを使用し、x は未定義となるため ReferenceError が発生する
  (0, eval)(&apos;x + y&apos;); // 間接的な呼び出しのもう一つの例
}
</pre>

<h2 id="Never_use_eval!" name="Never_use_eval!">eval() を使わないでください!</h2>

<p><code>eval()</code> は呼び出し元の権限で渡されたコードを実行する危険な関数です。悪意のある第三者に影響を受ける可能性のある文字列で <code>eval()</code> を実行すると、あなたのウェブページ / 拡張機能の権限でユーザーのマシン上で悪意のあるコードを実行してしまう可能性があります。さらに重要なことに、サードパーティのコードは <code>eval()</code> が呼び出されたスコープを見ることができるので、類似の <a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>Function</code></a> では影響を受けない方法でも攻撃を受ける可能性があります。</p>

<p>また、ここ最近の JavaScript では多くの構造が JS エンジンによって最適化されているため、<code>eval()</code> は他の方法よりも低速でもあります。</p>

<p>さらに、現代の JavaScript インタープリターは JavaScript を機械語に変換します。これは、変数の名前の概念がすべて消滅することを意味します。したがって、<code>eval()</code> を使用すると、ブラウザーは長い高価な変数名検索を実行して、変数が機械語のどこに存在しているかを把握し、その値を設定します。さらに、<code>eval()</code> が変数の型の変更など、その変数に新しい変数をもたらす可能性もあり、生成されたすべての機械語を再評価して補正させられる可能性があります。</p>

<p>幸い、<code>eval()</code> にはとても良い代替策があります。<a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>window.Function()</code></a> を使用することです。危険な <code>eval()</code> を使用したコードから <code>Function()</code> を使用したコードに変換する方法の例として、以下を参照してください。</p>

<p><code>eval()</code> を使用した悪いコード:</p>

<pre class="brush:js notranslate">function looseJsonParse(obj){
    return eval(&quot;(&quot; + obj + &quot;)&quot;);
}
console.log(looseJsonParse(
   &quot;{a:(4-1), b:function(){}, c:new Date()}&quot;
))
</pre>

<p><code>eval()</code> を使用しないより良いコード:</p>

<pre class="brush:js notranslate">function looseJsonParse(obj){
    return Function(&apos;&quot;use strict&quot;;return (&apos; + obj + &apos;)&apos;)();
}
console.log(looseJsonParse(
   &quot;{a:(4-1), b:function(){}, c:new Date()}&quot;
))
</pre>

<p>上記の 2 つのコードスニペットを比較すると、2 つのコードスニペットが同じように動作するように見えるかもしれませんが、よく考えてみてください。<code>eval()</code> の方は非常に遅いのです。評価されたオブジェクトの中の <code>c: new Date()</code> に注目してください。<code>eval()</code> を使用しない関数では、オブジェクトはグローバルスコープで評価されているので、ブラウザーは <code>Date</code> が <code>window.Date</code> を参照しており、<code>Date</code> というローカル変数ではないと考えて安全です。しかし、コードが次のようになっている場合 <code>eval()</code> を使ったコードでは、ブラウザーがこれを仮定することができません。</p>

<pre class="brush:js notranslate">function Date(n){
    return [&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;,&quot;Sunday&quot;][n%7 || 0];
}
function looseJsonParse(obj){
    return eval(&quot;(&quot; + obj + &quot;)&quot;);
}
console.log(looseJsonParse(
   &quot;{a:(4-1), b:function(){}, c:new Date()}&quot;
))
</pre>

<p>したがって、コードの <code>eval()</code> バージョンでは、ブラウザーは高価なルックアップ呼び出しを行い、<code>Date()</code> というローカル変数があるかどうかを確認します。これは <code>Function()</code> と比較して非常に非効率的です。</p>

<p>関連する状況で、実際に <code>Date()</code> 関数を <code>Function()</code> 内のコードから呼び出すことができるようにしたいとしたらどうでしょうか。簡単な方法を取って、<code>eval()</code> に戻るべきでしょうか。いいえ、決してそうではありません。代わりに、以下の方法を試してみてください。</p>

<pre class="brush:js notranslate">function Date(n){
    return [&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;,&quot;Sunday&quot;][n%7 || 0];
}
function runCodeWithDateFunction(obj){
    return Function(&apos;&quot;use strict&quot;;return (&apos; + obj + &apos;)&apos;)()(
        Date
    );
}
console.log(runCodeWithDateFunction(
   &quot;function(Date){ return Date(5) }&quot;
))
</pre>

<p>上記のコードは、三重に入れ子になった関数があるために非効率的で遅いと思えるかもしれませんが、上記の効率的なメソッドの利点を分析してみましょう。</p>

<ul>
 <li>これにより、<code>runCodeWithDateFunction()</code> に渡される文字列のコードを短縮することができます。</li>
 <li>関数呼び出しのオーバーヘッドが最小になり、コードサイズがはるかに小さくなるという利点には十分な価値があります。</li>
 <li><code>Function()</code> を使用することで、コードのパフォーマンスを向上させる <code>&quot;use strict&quot;;</code> をより簡単に利用できるようになります。</li>
 <li>このコードでは <code>eval()</code> を使用しないので、そうでない場合に比べて桁違いに高速になります。</li>
</ul>

<p>最後に、短縮を検討してみましょう。上記のように <code>Function()</code> を使用すると、<code>runCodeWithDateFunction</code> に渡されたコード文字列をはるかに効率的に縮小することができます。関数の引数名は、下の縮小されたコードで見られるように縮小することができるからです。</p>

<pre class="brush:js notranslate">console.log(Function(&apos;&quot;use strict&quot;;return(function(a){return a(5)})&apos;)()(function(a){
return&quot;Monday Tuesday Wednesday Thursday Friday Saturday Sunday&quot;.split(&quot; &quot;)[a%7||0]}));</pre>

<p>一般的な用途においては、さらに安全 (そして高速) な <code>eval()</code> または <code>Function()</code> の代替手段があります。</p>

<h3 id="Accessing_member_properties" name="Accessing_member_properties">メンバーのプロパティへのアクセス</h3>

<p>プロパティ名からプロパティ自体への変換を行うのに <code>eval()</code> を使用しないでください。アクセスされるオブジェクトのプロパティがコードが実行されるまでわからない場合の例を考えてみましょう。これは <code>eval()</code> で行うことができます。</p>

<pre class="brush:js notranslate">var obj = { a: 20, b: 30 };
var propName = getPropName();  // &quot;a&quot; または &quot;b&quot; が返される

eval( &apos;var result = obj.&apos; + propName );
</pre>

<p>ただし、ここで <code>eval()</code> は必要ありません。実際、この使い方はお勧めできません。代わりに<a href="/ja/docs/Web/JavaScript/Reference/Operators/Property_Accessors">プロパティアクセサー</a>を使用したほうが、より速くて安全です。</p>

<pre class="brush:js notranslate">var obj = { a: 20, b: 30 };
var propName = getPropName();  // &quot;a&quot; または &quot;b&quot; が返される
var result = obj[ propName ];  //  obj[ &quot;a&quot; ] は obj.a と同じ</pre>

<p>このメソッドを使用して子孫プロパティにアクセスすることもできます。<code>eval()</code> を使うと以下のようになります。</p>

<pre class="brush:js notranslate">var obj = {a: {b: {c: 0}}};
var propPath = getPropPath();  // returns e.g. &quot;a.b.c&quot;

eval( &apos;var result = obj.&apos; + propPath );
</pre>

<p>ここで <code>eval()</code> を回避するには、プロパティのパスを分割し、様々なプロパティをループすることで行うことができます。</p>

<pre class="brush:js notranslate">function getDescendantProp(obj, desc) {
  var arr = desc.split(&apos;.&apos;);
  while (arr.length) {
    obj = obj[arr.shift()];
  }
  return obj;
}

var obj = {a: {b: {c: 0}}};
var propPath = getPropPath();  // &quot;a.b.c&quot; などを返す
var result = getDescendantProp(obj, propPath);</pre>

<p>プロパティの設定も同様に行うことができます。</p>

<pre class="brush:js notranslate">function setDescendantProp(obj, desc, value) {
  var arr = desc.split(&apos;.&apos;);
  while (arr.length &gt; 1) {
    obj = obj[arr.shift()];
  }
  return obj[arr[0]] = value;
}

var obj = {a: {b: {c: 0}}};
var propPath = getPropPath();  // &quot;a.b.c&quot; などを返す
var result = setDescendantProp(obj, propPath, 1);  // obj.a.b.c will now be 1</pre>

<h3 id="Use_functions_instead_of_evaluating_snippets_of_code" name="Use_functions_instead_of_evaluating_snippets_of_code">コードの断片を評価する場合、代わりに関数を使う</h3>

<p>JavaScript <a href="https://ja.wikipedia.org/wiki/第一級関数" title="第一級関数">第一級関数</a>を備えており、関数を他の API の引数としたり、変数やオブジェクトのプロパティに保存したりすることができます。多くの DOM API はこれを考慮して作られているので、次のように書くことができます (また、書くべきです)。</p>

<pre class="brush: js notranslate">// setTimeout(&quot; ... &quot;, 1000) を使う代わりに
setTimeout(function() { ... }, 1000);

// elt.setAttribute(&quot;onclick&quot;, &quot; ... &quot;) を使う代わりに
elt.addEventListener(&apos;click&apos;, function() { ... } , false); </pre>

<p>文字列を連結せずにパラメーター化した関数を作成する方法としては、<a href="/ja/docs/Web/JavaScript/Closures">クロージャ</a>を使う方法も便利です。</p>

<h3 id="Parsing_JSON_converting_strings_to_JavaScript_objects" name="Parsing_JSON_converting_strings_to_JavaScript_objects">JSON の解析 (文字列を JavaScript オブジェクトに変換)</h3>

<p><code>eval()</code> の呼び出しに使おうとしている文字列がコードではなくデータ (例えば <code>&quot;[1, 2, 3]&quot;</code> で配列を表す) を含むものであれば、<a href="/ja/docs/Glossary/JSON">JSON</a> に切り替えることを検討してください。これは JavaScript のサブセットを使用することで、文字列でデータを表現することができます。<a href="/ja/docs/Downloading_JSON_and_JavaScript_in_extensions">Downloading JSON and JavaScript in extensions</a> の記事も参照してください。</p>

<p>JSON の構文は JavaScript の構文に比べて制限があり、多くの有効な JavaScript リテラルが JSON としては解釈されないことに注意してください。例えば、最後にカンマを付けることは JSON では許されておらず、オブジェクトリテラル内のプロパティ名 (キー) は引用符で囲む必要があります。後で JSON として解析される文字列を生成するには、JSON シリアライザーを使うようにしてください。</p>

<h3 id="Pass_data_instead_of_code" name="Pass_data_instead_of_code">コードの代わりにデータを渡す</h3>

<p>例えば、ウェブページの内容を取得できるよう設計された拡張であれば、JavaScript コードの代わりに <a href="/ja/docs/Web/XPath">XPath</a> を使って取得ルールを定義できます。</p>

<h3 id="Run_code_with_limited_privileges" name="Run_code_with_limited_privileges">制限された権限でコードを実行する</h3>

<p>どうしてもコードを実行したければ、制限された権限下での実行を検討しましょう。このアドバイスは、拡張機能や XUL アプリケーション上であれば <a href="/ja/docs/Components.utils.evalInSandbox">Components.utils.evalInSandbox</a> を使用すれば適用できます。</p>

<h2 id="Examples" name="Examples">使用例</h2>

<h3 id="Using_eval" name="Using_eval"><code>eval</code> を使用する</h3>

<p>次のコードでは、<code>eval</code> を含むどちらの文も 42 を返します。最初のコードは文字列 &quot;<code>x + y + 1</code>&quot; を評価します。2 番目のコードは文字列 &quot;<code>42</code>&quot; を評価します。</p>

<pre class="brush:js notranslate">var x = 2;
var y = 39;
var z = &apos;42&apos;;
eval(&apos;x + y + 1&apos;); // 42 が返される
eval(z);           // 42 が返される
</pre>

<h3 id="Using_eval_to_evaluate_a_string_of_JavaScript_statements" name="Using_eval_to_evaluate_a_string_of_JavaScript_statements"><code>eval</code> を使用して JavaScript 文の文字列を評価する</h3>

<p>次の例は、<code>eval()</code> を使用して文字列 <code>str</code> を評価しています。この文字列は <code>x</code> が 5 の場合に <code>z</code> に 42 の値を代入し、それ以外の場合は <code>z</code> に 0 を代入する JavaScript 文で構成されています。2 番目の文が実行される時、<code>eval</code> によってこれらの文が実行され、そして一連の文を評価して <code>z</code> に代入される値を返します。</p>

<pre class="brush:js notranslate">var x = 5;
var str = &quot;if (x == 5) {console.log(&apos;z is 42&apos;); z = 42;} else z = 0;&quot;;

console.log(&apos;z is &apos;, eval(str));</pre>

<p>複数の値を定義した場合、最後の値が返されます。</p>

<pre class="brush:js notranslate">var x = 5;
var str = &quot;if (x == 5) {console.log(&apos;z is 42&apos;); z = 42; x = 420; } else z = 0;&quot;;

console.log(&apos;x is &apos;, eval(str)); // z is 42  x is 420
</pre>

<h3 id="Last_expression_is_evaluated" name="Last_expression_is_evaluated">評価される最後の式について</h3>

<p><code>eval()</code> は最後に評価された式の値を返します。</p>

<pre class="brush:js notranslate">var str = &apos;if ( a ) { 1 + 1; } else { 1 + 2; }&apos;;
var a = true;
var b = eval(str);  // 2 が返される

console.log(&apos;b is : &apos; + b);

a = false;
b = eval(str);  // 3 が返される

console.log(&apos;b is : &apos; + b);</pre>

<h3 id="関数定義の文字列の_eval_には先頭と末尾に_と_が必要">関数定義の文字列の <code>eval</code> には先頭と末尾に &quot;(&quot; と &quot;)&quot; が必要</h3>

<pre class="brush:js notranslate">var fctStr1 = &apos;function a() {}&apos;
var fctStr2 = &apos;(function a() {})&apos;
var fct1 = eval(fctStr1)  // undefined が返される
var fct2 = eval(fctStr2)  // 関数が返される
</pre>

<h2 id="Specifications" name="Specifications">仕様</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-eval-x" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="ja">eval の定義</small></a></td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの互換性</h2>

<div class="hidden">このページの互換性一覧表は構造化データから生成されています。データに協力していただけるのであれば、<a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送信してください。</div>

<div class="bc-data" id="bcd:javascript.builtins.eval"></div>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/uneval"><code>uneval()</code></a></li>
 <li><a href="/ja/docs/Web/JavaScript/Reference/Operators/Property_Accessors">プロパティアクセサー</a></li>
 <li><a href="/ja/Add-ons/WebExtensions/Content_scripts#Using_eval()_in_content_scripts">WebExtensions: コンテンツスクリプト内で eval() を使う</a></li>
</ul>
