---
title: IDBFactory.cmp
slug: Web/API/IDBFactory/cmp
tags:
  - API
  - Database
  - IDBFactory
  - IndexedDB
  - Storage
  - cmp
translation_of: Web/API/IDBFactory/cmp
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/IDBFactory"><code>IDBFactory</code></a></strong></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><em><code>cmp</code></em></li><li><a href="/ja/docs/Web/API/IDBFactory/deleteDatabase"><code>deleteDatabase</code></a></li><li><a href="/ja/docs/Web/API/IDBFactory/open"><code>open</code></a></li></ol></details></li></ol></section><p></p>
<div>
 <p><a href="/ja/docs/Web/API/IDBFactory" title="次のコードスニペットでは、 データベースを開く要求をし、 成功の場合と失敗の場合のイベントハンドラーを登録しています。完全に動作する例は、To-do Notifications app (view example live.) を見てください。"><code>IDBFactory</code></a>インターフェイスの<code>cmp()</code>メソッドは、2つのキーが等価か決定するために比較し、そして、IndexedDBで保存や統合のような操作を命令します。</p>
</div>
<div class="note">
 <p><strong>Note</strong>: Do not use this method for comparing arbitrary JavaScript values, because many JavaScript values are either not valid IndexedDB keys (booleans and objects, for example) or are treated as equivalent IndexedDB keys (for example, since IndexedDB ignores arrays with non-numeric properties and treats them as empty arrays, so any non-numeric arrays are treated as equivalent). This throws an exception if either of the values is not a valid key.</p>
</div>
<h2 id="構文">構文</h2>
<pre class="brush: js">var result = window.indexedDB.cmp(a, b);</pre>
<h3 id="戻り値">戻り値</h3>
<p>比較結果を示す整数値。 次のテーブルに可能性のある値とその意味を載せます。:</p>
<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">戻り値</th>
   <th scope="col">説明</th>
  </tr>
  <tr>
   <td>-1</td>
   <td>1つ目のキーが2つ目のキーより小さい</td>
  </tr>
  <tr>
   <td>0</td>
   <td>1つ目のキーと2つ目のキーが等しい</td>
  </tr>
  <tr>
   <td>1</td>
   <td>1つ目のキーが2つ目のキーより大きい</td>
  </tr>
 </tbody>
</table>
<h3 id="例外">例外</h3>
<p>このメソッドでは、次の型のような<a href="/ja/docs/Web/API/DOMError" title="DOMError インターフェイスは、エラー名を含んでいるエラーオブジェクトを表します。"><code>DOMError</code></a> を持つ <a href="/ja/docs/Web/API/DOMException" title="DOMException インターフェイスは、Web API のメソッドの呼び出しやプロパティへのアクセスによって異常なイベント (例外と呼ばれます) が発生したことを表します。"><code>DOMException</code></a>が発生するかもしれません。</p>
<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">属性</th>
   <th scope="col">説明</th>
  </tr>
  <tr>
   <td><a href="/en-US/docs/DOM/DOMError"><code>DataError</code></a></td>
   <td>渡されたキーが不正な値である。</td>
  </tr>
 </thead>
</table>
<h2 id="例">例</h2>
<pre class="brush: js;highlight:[3]">var a = 1;
var b = 2;
var result = window.indexedDB.cmp(a, b);
console.log( &quot;Comparison results: &quot; + result );</pre>
<h2 id="パラメーター">パラメーター</h2>
<dl>
 <dt>
  first</dt>
 <dd>
  比較する1つ目のキー。</dd>
 <dt>
  second</dt>
 <dd>
  比較する2つ目のキー。</dd>
</dl>
<h2 id="仕様">仕様</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/IndexedDB/#widl-IDBFactory-cmp-short-any-first-any-second" class="external" hreflang="en">Indexed Database API<br><small lang="ja">cmp の定義</small></a></td>
   <td><span class="spec-REC">勧告</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>
<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザ実装状況</h2>
<div>
 <div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">現在、互換性データを可読形式の JSON フォーマットに置き換えているところです。</a></strong>
            この互換性一覧は古い形式を使っており、これに含まれるデータの置き換えが済んでいません。
            <strong><a href="/ja/docs/MDN/Contribute/Structures/Compatibility_tables">手助けしていただける場合は、こちらから！</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>デスクトップ</a></li>
        <li><a>モバイル</a></li>
    </ul>
</div></div>
<div id="compat-desktop">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>Feature</th>
    <th>Chrome</th>
    <th>Firefox (Gecko)</th>
    <th>Internet Explorer</th>
    <th>Opera</th>
    <th>Safari (WebKit)</th>
   </tr>
   <tr>
    <td>Basic support</td>
    <td>23<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ja/docs/Web/Guide/Prefixes">webkit</a></span><br>
     24</td>
    <td>10 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/ja/docs/Web/Guide/Prefixes">moz</a></span><br>
     <a href="/en-US/Firefox/Releases/16">16.0</a> (16.0)</td>
    <td>10, partial</td>
    <td>15</td>
    <td>7.1</td>
   </tr>
  </tbody>
 </table>
</div>
<div id="compat-mobile">
 <table class="compat-table">
  <tbody>
   <tr>
    <th>Feature</th>
    <th>Android</th>
    <th>Firefox Mobile (Gecko)</th>
    <th>Firefox OS</th>
    <th>IE Phone</th>
    <th>Opera Mobile</th>
    <th>Safari Mobile</th>
   </tr>
   <tr>
    <td>Basic support</td>
    <td>4.4</td>
    <td>22.0 (22.0)</td>
    <td>1.0.1</td>
    <td>10</td>
    <td>22</td>
    <td><span style="color: #f00;">未サポート</span></td>
   </tr>
  </tbody>
 </table>
</div>
<div class="warning notecard">
 <p>Chromeは新しい仕様を実装していますが、旧い仕様も実装したままになっているので注意してください。同じように、ベンダプレフィックスなしのindexedDBがあるにもかかわらず、プレフィックス付きのwebkitIndexedDBも実装しています。</p>
</div>
<h2 id="関連情報">関連情報</h2>
<ul>
 <li><a href="/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB">Using IndexedDB</a></li>
 <li>Starting transactions: <a href="/ja/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li>
 <li>Using transactions: <a href="/ja/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li>
 <li>Setting a range of keys: <a href="/ja/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li>
 <li>Retrieving and making changes to your data: <a href="/ja/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li>
 <li>Using cursors: <a href="/ja/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li>
 <li>Reference example: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" class="external">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" class="external">view example live</a>.)</li>
</ul>
