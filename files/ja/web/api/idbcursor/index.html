---
title: IDBCursor
slug: Web/API/IDBCursor
tags:
  - API
  - Database
  - IDBCursor
  - IndexedDB
  - Interface
  - NeedsTranslation
  - Reference
  - Storage
  - TopicStub
translation_of: Web/API/IDBCursor
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/IndexedDB_API">IndexedDB API</a></strong></li><li><strong><a href="/ja/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></strong></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><a href="/ja/docs/Web/API/IDBCursor/direction"><code>direction</code></a> <a href="/ja/docs/Web/API/IDBCursor/direction$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/key"><code>key</code></a> <a href="/ja/docs/Web/API/IDBCursor/key$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/primaryKey"><code>primaryKey</code></a> <a href="/ja/docs/Web/API/IDBCursor/primaryKey$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/request"><code>request</code></a> <a href="/ja/docs/Web/API/IDBCursor/request$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/source"><code>source</code></a> <a href="/ja/docs/Web/API/IDBCursor/source$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><a href="/ja/docs/Web/API/IDBCursor/advance"><code>advance()</code></a></li><li><a href="/ja/docs/Web/API/IDBCursor/continue"><code>continue()</code></a></li><li><a href="/ja/docs/Web/API/IDBCursor/continuePrimaryKey"><code>continuePrimaryKey()</code></a> <a href="/ja/docs/Web/API/IDBCursor/continuePrimaryKey$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/delete"><code>delete()</code></a> <a href="/ja/docs/Web/API/IDBCursor/delete$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/IDBCursor/update"><code>update()</code></a> <a href="/ja/docs/Web/API/IDBCursor/update$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>IndexedDB に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/IDBCursorSync"><code>IDBCursorSync</code></a></li><li><a href="/ja/docs/Web/API/IDBCursorWithValue"><code>IDBCursorWithValue</code></a></li><li><a href="/ja/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li><li><a href="/ja/docs/Web/API/IDBDatabaseException"><code>IDBDatabaseException</code></a></li><li><a href="/ja/docs/Web/API/IDBDatabaseSync"><code>IDBDatabaseSync</code></a></li><li><a href="/ja/docs/Web/API/IDBEnvironment"><code>IDBEnvironment</code></a></li><li><a href="/ja/docs/Web/API/IDBEnvironmentSync"><code>IDBEnvironmentSync</code></a></li><li><a href="/ja/docs/Web/API/IDBFactory"><code>IDBFactory</code></a></li><li><a href="/ja/docs/Web/API/IDBFactorySync"><code>IDBFactorySync</code></a></li><li><a href="/ja/docs/Web/API/IDBIndex"><code>IDBIndex</code></a></li><li><a href="/ja/docs/Web/API/IDBIndexSync"><code>IDBIndexSync</code></a></li><li><a href="/ja/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li><li><a href="/ja/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li><li><a href="/ja/docs/Web/API/IDBObjectStoreSync"><code>IDBObjectStoreSync</code></a></li><li><a href="/ja/docs/Web/API/IDBOpenDBRequest"><code>IDBOpenDBRequest</code></a></li><li><a href="/ja/docs/Web/API/IDBRequest"><code>IDBRequest</code></a></li><li><a href="/ja/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li><li><a href="/ja/docs/Web/API/IDBTransactionSync"><code>IDBTransactionSync</code></a></li><li><a href="/ja/docs/Web/API/IDBVersionChangeEvent"><code>IDBVersionChangeEvent</code></a></li><li><a href="/ja/docs/Web/API/IDBVersionChangeRequest"><code>IDBVersionChangeRequest</code></a></li></ol></details></li></ol></section>

<p><a href="/ja/docs/IndexedDB">IndexedDB API</a> の <strong><code>IDBCursor</code></strong> インターフェイスはデータベースの複数レコードを横断したり繰り返すための<a href="/ja/docs/IndexedDB/Basic_Concepts_Behind_IndexedDB#gloss_cursor">カーソル</a>です。</p>

<p>このカーソルはどのインデックスやオブジェクトをループしているかを示す元です。これは範囲内の位置を示す持ち、レコードのキー順に増/減して動きます。カーソルはアプリケーションからカーソル範囲内の全レコードに非同期に処理できるようにします。</p>

<p>一度に無制限の数のカーソルを持つことができます。あるカーソルを表す同一の <code>IDBCursor</code> オブジェクトを取得できます。操作はインデックスやオブジェクトストアに対して実行されます。</p>

<div class="note notecard"><strong>註:</strong> この機能は <a href="/ja/docs/Web/API/Web_Workers_API">Web Workers</a> 内で利用可能です。</div>

<h2 id="Properties" name="Properties">プロパティ</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/IDBCursor/source"><code>IDBCursor.source</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>カーソルが繰り返している<a href="/ja/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a> か <a href="/ja/docs/Web/API/IDBIndex"><code>IDBIndex</code></a> を返します。この関数は、カーソルが現在繰り返されていたり、繰り返しが終わりを過ぎたり、トランザクションがアクティブでなくても、null や例外を返しません。</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/direction"><code>IDBCursor.direction</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>カーソルの横断の向きを返します。取りうる値については <a href="https://developer.mozilla.org/ja/docs/Web/API/IDBCursor$edit#const_next">Constants</a> を見てください。</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/key"><code>IDBCursor.key</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>カーソル位置のレコードのキーを返します。カーソルが範囲外の場合、<code>undefined</code> にセットされます。カーソルキーはあらゆるデータ型となりえます。</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/value"><code>IDBCursor.value</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>カーソル位置のレコードの値を返します。カーソルの値はあらゆるデータ型となりえます。</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/primaryKey"><code>IDBCursor.primaryKey</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>カーソルの現在有効な主キーを返します。カーソルが現在繰り返されていたり範囲外で繰り返されていた場合、これは <code>undefined</code> にセットされます。カーソルの主キーはあらゆるデータ型となりえます。</dd>
</dl>

<h2 id="Methods" name="Methods">メソッド</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/IDBCursor/advance"><code>IDBCursor.advance()</code></a></dt>
 <dd>Sets the number times a cursor should move its position forward.</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/continue"><code>IDBCursor.continue()</code></a></dt>
 <dd>Advances the cursor to the next position along its direction, to the item whose key matches the optional <code>key</code> parameter.</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/continuePrimaryKey"><code>IDBCursor.continuePrimaryKey()</code></a></dt>
 <dd>Sets the cursor to the given index key and primary key given as arguments.</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/delete"><code>IDBCursor.delete()</code></a></dt>
 <dd>Returns an <a href="/ja/docs/Web/API/IDBRequest"><code>IDBRequest</code></a> object, and, in a separate thread, deletes the record at the cursor&apos;s position, without changing the cursor&apos;s position. This can be used to delete specific records.</dd>
 <dt><a href="/ja/docs/Web/API/IDBCursor/update"><code>IDBCursor.update()</code></a></dt>
 <dd>Returns an <a href="/ja/docs/Web/API/IDBRequest"><code>IDBRequest</code></a> object, and, in a separate thread, updates the value at the current position of the cursor in the object store. This can be used to update specific records.</dd>
</dl>

<h2 id="Constants" name="Constants">Constants</h2>

<div><div class="deprecated deprecatedHeader notecard">
            <p><strong>非推奨 Gecko 13 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10)</strong><br>この機能はウェブ標準から削除されました。まだ対応しているプラウザーがあるかもしれませんが、ゆくゆくはなくなるものです。使用を避け、できれば既存のコードを更新してください。このページの下部にある<a href="#Browser_compatibility">ブラウザーの対応</a>を見て判断してください。この機能は突然動作しなくなる可能性があることに注意してください。</p>
        </div></div>

<div class="warning notecard">
<p>これらの constants は利用できません — Gecko 25 で削除されました。代わりに直接 string constants を使う必要があります。(<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=891944">バグ 891944</a>)</p>
</div>

<ul>
 <li><code>NEXT </code>: <code>&quot;next&quot;</code> : The cursor shows all records, including duplicates. It starts at the lower bound of the key range and moves upwards (monotonically increasing in the order of keys).</li>
 <li><code>NEXTUNIQUE</code> : <code>&quot;nextunique&quot;</code> : The cursor shows all records, excluding duplicates. If multiple records exist with the same key, only the first one iterated is retrieved. It starts at the lower bound of the key range and moves upwards.</li>
 <li><code>PREV </code>: <code>&quot;prev&quot;</code> : The cursor shows all records, including duplicates. It starts at the upper bound of the key range and moves downwards (monotonically decreasing in the order of keys).</li>
 <li><code>PREVUNIQUE </code>: <code>&quot;prevunique&quot;</code> : The cursor shows all records, excluding duplicates. If multiple records exist with the same key, only the first one iterated is retrieved. It starts at the upper bound of the key range and moves downwards.</li>
</ul>

<h2 id="Example" name="Example">例</h2>

<p>In this simple fragment we create a transaction, retrieve an object store, then use a cursor to iterate through all the records in the object store. T<span style="line-height: 1.5;">he cursor does not require us to select the data based on a key; we can just grab all of it. Also note that in each iteration of the loop, you can grab data from the current record under the cursor object using </span><code style="font-style: normal; line-height: 1.5;">cursor.value.foo</code><span style="line-height: 1.5;">. For a complete working example, see our <a href="https://github.com/mdn/IDBcursor-example/">IDBCursor example</a></span><span style="line-height: 1.5;"> (</span><a href="http://mdn.github.io/IDBcursor-example/" style="line-height: 1.5;">view example live</a><span style="line-height: 1.5;">.)</span></p>

<pre class="brush: js notranslate"><span style="line-height: 1.5;">function displayData() {</span>
  var transaction = db.transaction([&apos;rushAlbumList&apos;], &quot;readonly&quot;);
  var objectStore = transaction.objectStore(&apos;rushAlbumList&apos;);

  objectStore.openCursor().onsuccess = function(event) {
    var cursor = event.target.result;
    if(cursor) {
      var listItem = document.createElement(&apos;li&apos;);
      listItem.innerHTML = cursor.value.albumTitle + &apos;, &apos; + cursor.value.year;
      list.appendChild(listItem);

      cursor.continue();
    } else {
      console.log(&apos;Entries all displayed.&apos;);
    }
  };
}</pre>

<h2 id="Specifications" name="Specifications">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">策定状況</th>
   <th scope="col">コメント</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/IndexedDB/#idl-def-IDBCursor" hreflang="en" lang="en">Indexed Database API 2.0<br><small lang="ja">cursor の定義</small></a></td>
   <td><span class="spec-REC">勧告</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザー実装状況</h2>

<div>
<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.IDBCursor"></div>
</div>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/API/IndexedDB_API/Using_IndexedDB">IndexedDB を使用する</a></li>
 <li>トランザクションを開始する: <a href="/ja/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li>
 <li>トランザクションを使用する: <a href="/ja/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li>
 <li>キーの範囲をセットする: <a href="/ja/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li>
 <li>データを取得、変更する: <a href="/ja/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li>
 <li>カーソルを使用する: <a href="/ja/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li>
 <li>リファレンスの例: <a class="external" href="https://github.com/mdn/to-do-notifications/tree/gh-pages">To-do Notifications</a> (<a class="external" href="http://mdn.github.io/to-do-notifications/">view example live</a>.)</li>
</ul>
