---
title: Resource Timing API
slug: Web/API/Resource_Timing_API
translation_of: Web/API/Resource_Timing_API
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/Resource_Timing_API">Resource Timing API</a></strong></li><li class="toggle"><details open><summary>ガイド</summary><ol><li><a href="/ja/docs/Web/API/Resource_Timing_API/Using_the_Resource_Timing_API">Using the Resource Timing API</a></li></ol></details></li><li class="toggle"><details open><summary>インターフェイス</summary><ol><li><a href="/ja/docs/Web/API/Performance"><code>Performance</code></a></li><li><a href="/ja/docs/Web/API/PerformanceEntry"><code>PerformanceEntry</code></a></li><li><a href="/ja/docs/Web/API/PerformanceResourceTiming"><code>PerformanceResourceTiming</code></a></li></ol></details></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><a href="/ja/docs/Web/API/Window/performance"><code>Window.performance</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>Resource Timing</code></strong> インターフェイスは、アプリケーションの<em>リソース</em>のロードに関する詳細なネットワークタイミングデータの取得と分析を可能にします。<span class="tlid-translation translation" lang="ja"><span title>アプリケーションはタイミングメトリックを使用して、たとえば、</span></span><a href="/ja/docs/Web/API/XMLHttpRequest" title="XMLHttpRequest (XHR) オブジェクトを使用すると、サーバーと対話することができます。ページ全体を更新する必要なしに、データを受け取ることができます。これでユーザーの作業を中断させることなく、ウェブページの一部を更新することができます。"><code>XMLHttpRequest</code></a><span class="tlid-translation translation" lang="ja"><span title>、</span></span><a href="/ja/docs/Web/SVG/Element/SVG" title="svg 要素は、新しい座標系とビューポートを定義するコンテナです。これは SVG ドキュメントの最も外側の要素として使用されますが、SVG または HTML ドキュメントの中に SVG フラグメントを埋め込むためにも使用できます。"><code>&lt;SVG&gt;</code></a><span class="tlid-translation translation" lang="ja"><span title>、画像、スクリプトなど特定のリソースをロードするのにかかる時間を決定できます。</span></span></p>

<p>インターフェイスのプロパティは、リダイレクトの開始時間と終了時間、DNS ルックアップの開始時間と終了時間、リクエストの開始時間、レスポンスの開始時間と終了時間などネットワークイベントに対して <a href="/ja/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 型は double であり、時間の値を保存するために使用します。この値は別々の時点や、2 つの別々の時点の間の時間を表すことができます。単位はミリ秒であり、精度は 5 µs (マイクロ秒) であるべきです。ただし、ブラウザーが 5 マイクロ秒精度の時間の値を提供できない場合 (例えば、ハードウェアやソフトウェアの制約により) は、1 ミリ秒精度の時間として表すことができます。">high-resolution timestamps</a> のリソースロードタイムラインを作成します。このインタフェースには、取得したリソースのサイズや取得を開始したリソースの種類に関するデータを提供するその他のプロパティも含まれています。</p>

<p>このドキュメントでは、<code>Resource Timing</code> インターフェイスの概要を説明します。例を含むインターフェイスの詳細については、各インターフェイスのリファレンスページ、<a href="/ja/docs/Web/API/Resource_Timing_API/Using_the_Resource_Timing_API">リソースタイミング API の使用</a>、および <a href="#あわせて参照">あわせて参照</a> セクションの参照を参照してください。リソースタイミング処理モデルのグラフィック表示については、<a href="https://w3c.github.io/resource-timing/#process">リソースタイミングフェーズ</a>の図を参照してください。</p>

<p class="note">The <code>PerformanceResourceTiming</code> interface extends the <a href="/ja/docs/Web/API/PerformanceEntry" title="PerformanceEntry オブジェクトは、パフォーマンスタイムラインの一部である単一のパフォーマンスメトリックをカプセル化します。パフォーマンスエントリは、アプリケーション内の明示的な時点でパフォーマンス mark または measure を作成する (たとえば、mark() メソッドを呼び出すことによって) ことで直接作成できます。パフォーマンスエントリは、(イメージなどの) リソースのロードなどの間接的な方法でも作成されます。"><code>PerformanceEntry</code></a> for <a href="/ja/docs/Web/API/PerformanceEntry" title="PerformanceEntry オブジェクトは、パフォーマンスタイムラインの一部である単一のパフォーマンスメトリックをカプセル化します。パフォーマンスエントリは、アプリケーション内の明示的な時点でパフォーマンス mark または measure を作成する (たとえば、mark() メソッドを呼び出すことによって) ことで直接作成できます。パフォーマンスエントリは、(イメージなどの) リソースのロードなどの間接的な方法でも作成されます。">performance entries</a> which have an <a href="/ja/docs/Web/API/PerformanceEntry/entryType" title="entryType プロパティは、たとえば &quot;mark&quot; などのパフォーマンスメトリックの種類を表す DOMString を返します。このプロパティは読み取り専用です。"><code>entryType</code></a> of &quot;<code>resource</code>&quot;.</p>

<h2 id="High-resolution_タイムスタンプ">High-resolution タイムスタンプ</h2>

<p>Several of the <code>Resource Timing</code> properties return <em>high-resolution timestamps</em>. These timestamps have a <code><a href="/ja/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 型は double であり、時間の値を保存するために使用します。この値は別々の時点や、2 つの別々の時点の間の時間を表すことができます。単位はミリ秒であり、精度は 5 µs (マイクロ秒) であるべきです。ただし、ブラウザーが 5 マイクロ秒精度の時間の値を提供できない場合 (例えば、ハードウェアやソフトウェアの制約により) は、1 ミリ秒精度の時間として表すことができます。"><code>DOMHighResTimeStamp</code></a></code> type and as its name implies, they represent a high-resolution point in time. This type is a <code>double</code> and its value is a discrete point in time or the difference in time between two discrete points in time.</p>

<p>The unit of <code>DOMHighResTimeStamp</code> is milliseconds and should be accurate to 5 µs (microseconds). However, If the browser is unable to provide a time value accurate to 5 µs (because, for example, due to hardware or software constraints), the browser can represent a the value as a time in milliseconds accurate to a millisecond.</p>

<h2 id="リソースロードタイムスタンプ">リソースロードタイムスタンプ</h2>

<p>An application can get timestamps for the various stages used to load a resource. The first property in the processing model is <a href="/ja/docs/Web/API/PerformanceEntry/startTime" title="startTime プロパティは、performance entry のうち最初に記録された timestamp を返します。"><code>startTime</code></a> which returns the timestamp immediately before the resource loading process begins. The <a href="/ja/docs/Web/API/PerformanceResourceTiming/fetchStart" title="fetchStart 読み取り専用プロパティは、ブラウザがリソースの取得を開始する直前の timestamp を表します。"><code>fetchStart</code></a> timestamps follows and redirect processing (if applicable) and preceeds DNS lookup. The next stages are <a href="/ja/docs/Web/API/PerformanceResourceTiming/connectStart" title="connectStart 読み取り専用プロパティは、リソースを取得するためにユーザエージェントがサーバへの接続の確立を開始する直前に timestamp を返します。"><code>connectStart</code></a> and <a href="/ja/docs/Web/API/PerformanceResourceTiming/connectEnd" title="connectEnd 読み取り専用プロパティは、ブラウザがリソースを取得するためにサーバーへの接続を確立し終わった直後に timestamp を返します。タイムスタンプ値には、トランスポート接続を確立するための時間間隔、および SSL ハンドシェイクや SOCKS 認証などの他の時間間隔が含まれます。"><code>connectEnd</code></a> which are the timestamps immediately before and after connecting to the server, respectively. The last three timestamps are, in order: <a href="/ja/docs/Web/API/PerformanceResourceTiming/requestStart" title="requestStart 読み取り専用プロパティは、ブラウザがサーバ、キャッシュ、またはローカルリソースにリソースのリクエストを開始する直前の timestamp を返します。トランスポート接続が失敗してブラウザがリクエストを終了すると、返される値は再試行要求の開始になります。"><code>requestStart</code></a> - the timestamp before the browser starts requesting the resource from the server; <a href="/ja/docs/Web/API/PerformanceResourceTiming/responseStart" title="responseStart 読み取り専用プロパティは、ブラウザがサーバ、キャッシュ、またはローカルリソースからレスポンスの最初のバイトを受信した直後に timestamp を返します。"><code>responseStart</code></a> - the timestamp after the browser receives the first byte of the response from the server; and <a href="/ja/docs/Web/API/PerformanceResourceTiming/responseEnd" title="responseEnd 読み取り専用プロパティは、ブラウザがリソースの最後のバイトを受信した直後、または転送接続が閉じられる直前のどちらか早い方で timestamp を返します。"><code>responseEnd</code></a> - the timestamp after the browser receives the last byte of the resource. If the resource is loaded via a secure connection a <a href="/ja/docs/Web/API/PerformanceResourceTiming/secureConnectionStart" title="secureConnectionStart 読み取り専用プロパティは、現在の接続を保護するためにブラウザがハンドシェイクプロセスを開始する直前に timestamp を返します。安全な接続が使用されていない場合、このプロパティはゼロを返します。"><code>secureConnectionStart</code></a> timestamp will be available between the connection start and end events.</p>

<div class="note">
<p>When <a class="glossaryLink" href="/ja/docs/Glossary/CORS" title="CORS: CORS (オリジン間リソース共有、 Cross-Origin Resource Sharing) は、 HTTP ヘッダーの転送で構成されるシステムであり、ブラウザーがオリジンをまたいだリクエストのレスポンスに、フロントエンドの JavaScript コードがアクセスすることをブロックするかどうかを決めるものです。">CORS</a> is in effect, many of these values are returned as zero unless the server&apos;s access policy permits these values to be shared. This requires the server providing the resource to send the <code>Timing-Allow-Origin</code> HTTP response header with a value specifying the origin or origins which are allowed to get the restricted timestamp values.</p>

<p>The properties which are returned as 0 by default when loading a resource from a domain other than the one of the web page itself: <code>redirectStart</code>, <code>redirectEnd</code>, <code>domainLookupStart</code>, <code>domainLookupEnd</code>, <code>connectStart</code>, <code>connectEnd</code>, <code>secureConnectionStart</code>, <code>requestStart</code>, and <code>responseStart</code>.</p>
</div>

<p>The <code><a href="/ja/docs/Web/API/PerformanceResourceTiming" title="PerformanceResourceTiming インターフェイスは、アプリケーションのリソースのロードに関する詳細なネットワークタイミングデータの取得と分析を可能にします。アプリケーションはタイミングメトリックを使用して、たとえば、XMLHttpRequest、&lt;SVG&gt;、画像、スクリプトなどの特定のリソースを取得するのにかかる時間を判断できます。"><code>PerformanceResourceTiming</code></a></code> interface also includes several network timing properties. The <a href="/ja/docs/Web/API/PerformanceResourceTiming/redirectStart" title="redirectStart 読み取り専用プロパティは、リダイレクトを開始するフェッチの開始時間を表す timestamp を返します。"><code>redirectStart</code></a> and <a href="/ja/docs/Web/API/PerformanceResourceTiming/redirectEnd" title="redirectEnd 読み取り専用プロパティは、最後のリダイレクトのレスポンスの最後のバイトを受信した直後に timestamp を返します。"><code>redirectEnd</code></a> properties return <a href="/ja/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 型は double であり、時間の値を保存するために使用します。この値は別々の時点や、2 つの別々の時点の間の時間を表すことができます。単位はミリ秒であり、精度は 5 µs (マイクロ秒) であるべきです。ただし、ブラウザーが 5 マイクロ秒精度の時間の値を提供できない場合 (例えば、ハードウェアやソフトウェアの制約により) は、1 ミリ秒精度の時間として表すことができます。"><code>timestamps</code></a> for redirect start and end times, respectively. Likewise, the The <a href="/ja/docs/Web/API/PerformanceResourceTiming/domainLookupStart" title="domainLookupStart 読み取り専用プロパティは、ブラウザがリソースのドメイン名検索を開始する直前に timestamp を返します。"><code>domainLookupStart</code></a> and <a href="/ja/docs/Web/API/PerformanceResourceTiming/domainLookupEnd" title="domainLookupEnd 読み取り専用プロパティは、ブラウザがリソースのドメイン名検索を終了した直後に timestamp を返します。"><code>domainLookupEnd</code></a> properties return <a href="/ja/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 型は double であり、時間の値を保存するために使用します。この値は別々の時点や、2 つの別々の時点の間の時間を表すことができます。単位はミリ秒であり、精度は 5 µs (マイクロ秒) であるべきです。ただし、ブラウザーが 5 マイクロ秒精度の時間の値を提供できない場合 (例えば、ハードウェアやソフトウェアの制約により) は、1 ミリ秒精度の時間として表すことができます。"><code>timestamps</code></a> for DNS lookup start and end times, respectively.</p>

<p><em>This would be a nice place to have a diagram showing the relationships between these segments of the resource loading time.</em></p>

<h2 id="リソースサイズ">リソースサイズ</h2>

<p>The <a href="/ja/docs/Web/API/PerformanceResourceTiming" title="PerformanceResourceTiming インターフェイスは、アプリケーションのリソースのロードに関する詳細なネットワークタイミングデータの取得と分析を可能にします。アプリケーションはタイミングメトリックを使用して、たとえば、XMLHttpRequest、&lt;SVG&gt;、画像、スクリプトなどの特定のリソースを取得するのにかかる時間を判断できます。"><code>PerformanceResourceTiming</code></a> interface has three properties that can be used to obtain size data about a resource. The <a href="/ja/docs/Web/API/PerformanceResourceTiming/transferSize" title="transferSize 読み取り専用プロパティは、取得したリソースのサイズ (オクテット) を表します。サイズには、レスポンスヘッダーフィールドとレスポンスペイロードボディ (RFC7230 で定義されているとおり) が含まれます。"><code>transferSize</code></a> property returns the size (in octets) of the fetched resource including the response header fields plus the response payload body.</p>

<p>The <a href="/ja/docs/Web/API/PerformanceResourceTiming/encodedBodySize" title="encodedBodySize 読み取り専用プロパティは、適用されたコンテンツコーディングを削除する前に、ペイロード本体のフェッチ (HTTP またはキャッシュ) から受信したサイズ (オクテット単位) を表します。"><code>encodedBodySize</code></a> property returns the size (in octets) received from the fetch (HTTP or cache), of the <em>payload body</em>, <strong>before</strong> removing any applied content-codings. <a href="/ja/docs/Web/API/PerformanceResourceTiming/decodedBodySize" title="decodedBodySize 読み取り専用プロパティは、適用された content-coding を削除した後、メッセージ本文のフェッチ (HTTP またはキャッシュ) から受信したサイズ (オクテット) を返します。リソースがアプリケーションキャッシュまたはローカルリソースから取得された場合、適用されているコンテンツコーディングを削除した後でペイロードのサイズを返します。"><code>decodedBodySize</code></a> returns the size (in octets) received from the fetch (HTTP or cache) of the <em>message body</em>, <strong>after</strong> removing any applied content-codings.</p>

<h2 id="その他のプロパティ">その他のプロパティ</h2>

<p>The <a href="/ja/docs/Web/API/PerformanceResourceTiming/nextHopProtocol" title="nextHopProtocol 読み取り専用プロパティは、ALPN プロトコル ID (RFC7301) で識別されるように、リソースを取得するために使用されるネットワークプロトコルを表す文字列 です。"><code>nextHopProtocol</code></a> property returns the <em>network protocol</em> used to fetch the resource.</p>

<p>The <a href="/ja/docs/Web/API/PerformanceResourceTiming/initiatorType" title="initiatorType 読み取り専用プロパティは、パフォーマンスイベントを開始したリソースの種類を表す 文字列 です。"><code>initiatorType</code></a> property returns the <em>type</em> of resource that initiated the performance entry such as &quot;<code>css</code>&quot; for a CSS resource, &quot;<code>xmlhttprequest</code>&quot; for an XMLHttpRequest and &quot;<code>img</code>&quot; for an image (such as a JPEG).</p>

<p>If the current context is a <a href="/ja/docs/Web/API/Worker" title="Web Workers API の Worker インターフェイスはバックグラウンドで行われるタスクを実行することができ、そのタスクは簡単に生成され、かつ作成元にメッセージを送り返すことができます。Worker() コンストラクターを呼び出しワーカースレッドを走らせるスクリプトを特定してあげるだけでワーカーオブジェクトを作成することができます。"><code>worker</code></a>, the <a href="/ja/docs/Web/API/PerformanceResourceTiming/workerStart" title="PerformanceResourceTiming インターフェイスの workerStart 読み取り専用プロパティは、Service Worker スレッドが既に実行されている場合は FetchEvent を送出する直前、または Service Worker スレッドがまだ実行されていない場合は開始される直前に DOMHighResTimeStamp を返します。リソースが Service Worker によってインターセプトされない場合、このプロパティは常に0を返します。"><code>workerStart</code></a> property can be used to obtain a <a href="/ja/docs/Web/API/DOMHighResTimeStamp" title="DOMHighResTimeStamp 型は double であり、時間の値を保存するために使用します。この値は別々の時点や、2 つの別々の時点の間の時間を表すことができます。単位はミリ秒であり、精度は 5 µs (マイクロ秒) であるべきです。ただし、ブラウザーが 5 マイクロ秒精度の時間の値を提供できない場合 (例えば、ハードウェアやソフトウェアの制約により) は、1 ミリ秒精度の時間として表すことができます。"><code>DOMHighResTimeStamp</code></a> when the worker was started.</p>

<h2 id="メソッド">メソッド</h2>

<p>The Resource Timing API includes two methods that extend the <a href="/ja/docs/Web/API/Performance" title="Performance インターフェイスは、現在のページのパフォーマンス関連情報へのアクセスを提供します。これはHigh Resolution Time API の一部ですが、Performance Timeline API、Navigation Timing API、User Timing API、および Resource Timing API によって拡張されています。"><code>Performance</code></a> interface. The <a href="/ja/docs/Web/API/Performance/clearResourceTimings" title="clearResourceTimings() メソッドは、entryType が &quot;resource&quot; のすべてのパフォーマンスエントリをブラウザのパフォーマンスデータバッファから削除し、パフォーマンスデータバッファのサイズをゼロに設定します。ブラウザのパフォーマンスデータバッファのサイズを設定するには、Performance.setResourceTimingBufferSize() メソッドを使用します。"><code>clearResourceTimings()</code></a> method removes all &quot;<code>resource</code>&quot; type performance entries from the browser&apos;s <em>resource</em> performance entry buffer. The <a href="/ja/docs/Web/API/Performance/setResourceTimingBufferSize" title="setResourceTimingBufferSize() メソッドは、ブラウザのリソースタイミングバッファサイズを、指定された数の &quot;resource&quot; performance entry type オブジェクトに設定します。"><code>setResourceTimingBufferSize()</code></a> method sets the resource performance entry buffer size to the specified number of resource <a href="/ja/docs/Web/API/PerformanceEntry" title="PerformanceEntry オブジェクトは、パフォーマンスタイムラインの一部である単一のパフォーマンスメトリックをカプセル化します。パフォーマンスエントリは、アプリケーション内の明示的な時点でパフォーマンス mark または measure を作成する (たとえば、mark() メソッドを呼び出すことによって) ことで直接作成できます。パフォーマンスエントリは、(イメージなどの) リソースのロードなどの間接的な方法でも作成されます。"><code>performance entries</code></a>.</p>

<p>The <a href="/ja/docs/Web/API/PerformanceResourceTiming" title="PerformanceResourceTiming インターフェイスは、アプリケーションのリソースのロードに関する詳細なネットワークタイミングデータの取得と分析を可能にします。アプリケーションはタイミングメトリックを使用して、たとえば、XMLHttpRequest、&lt;SVG&gt;、画像、スクリプトなどの特定のリソースを取得するのにかかる時間を判断できます。"><code>PerformanceResourceTiming</code></a> interface&apos;s <a href="/ja/docs/Web/API/PerformanceResourceTiming/toJSON" title="toJSON() メソッドは、PerformanceResourceTiming オブジェクトの JSON 表現を返すシリアライザです。"><code>toJSON()</code></a> method returns a JSON serialization of a &quot;<code>resource</code>&quot; type <a href="/ja/docs/Web/API/PerformanceEntry" title="PerformanceEntry オブジェクトは、パフォーマンスタイムラインの一部である単一のパフォーマンスメトリックをカプセル化します。パフォーマンスエントリは、アプリケーション内の明示的な時点でパフォーマンス mark または measure を作成する (たとえば、mark() メソッドを呼び出すことによって) ことで直接作成できます。パフォーマンスエントリは、(イメージなどの) リソースのロードなどの間接的な方法でも作成されます。"><code>performance entry</code></a>.</p>

<h2 id="実装状況">実装状況</h2>

<p>As shown in the <a href="/ja/docs/Web/API/PerformanceResourceTiming" title="PerformanceResourceTiming インターフェイスは、アプリケーションのリソースのロードに関する詳細なネットワークタイミングデータの取得と分析を可能にします。アプリケーションはタイミングメトリックを使用して、たとえば、XMLHttpRequest、&lt;SVG&gt;、画像、スクリプトなどの特定のリソースを取得するのにかかる時間を判断できます。"><code>PerformanceResourceTiming</code></a> interface&apos;s <a href="/Web/API/PerformanceResourceTiming#Browser_compatibility">Browser Compatibility</a> table, most of these interfaces are broadly implemented by desktop browsers. However, note that some properties have little to no implementation so see each property&apos;s &quot;Browser compatibility&quot; section for more specific interoperability data.</p>

<p>To test your browser&apos;s support for these interfaces, run the <code><a href="https://mdn.github.io/dom-examples/performance-apis/perf-api-support.html">perf-api-support</a></code> application.</p>

<h2 id="あわせて参照">あわせて参照</h2>

<ul>
 <li><a href="https://w3c.github.io/resource-timing/">Resource Timing Standard</a>; W3C Editor&apos;s Draft</li>
 <li><a href="http://caniuse.com/#search=resource-timing">CanIUse data</a></li>
 <li><a href="http://www.stevesouders.com/blog/2014/08/21/resource-timing-practical-tips/">Resource Timing practical tips</a>; Steve Souders; 2014 August 21</li>
 <li><a href="http://googledevelopers.blogspot.ca/2013/12/measuring-network-performance-with.html">Measuring network performance with Resource Timing API</a>; Ilya Grigorik; 2013 December 11</li>
 <li><a href="http://siusin.github.io/perf-timing-primer/">A Primer for Web Performance Timing APIs</a>; Xiaoqian Wu; W3C Editor&apos;s Draft</li>
</ul>
