---
title: DataTransfer.setData()
slug: Web/API/DataTransfer/setData
tags:
  - API
  - HTML DOM
  - Method
  - Reference
  - drag and drop
translation_of: Web/API/DataTransfer/setData
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/HTML_Drag_and_Drop_API">HTML Drag and Drop API</a></strong></li><li><strong><a href="/ja/docs/Web/API/DataTransfer"><code>DataTransfer</code></a></strong></li><li class="toggle"><details open><summary>コンストラクター</summary><ol><li><a href="/ja/docs/Web/API/DataTransfer/DataTransfer"><code>DataTransfer()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/DataTransfer$translate">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><a href="/ja/docs/Web/API/DataTransfer/dropEffect"><code>dropEffect</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/dropEffect$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/effectAllowed"><code>effectAllowed</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/effectAllowed$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/files"><code>files</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/files$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/items"><code>items</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/items$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozCursor"><code>mozCursor</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozCursor$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozItemCount"><code>mozItemCount</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozItemCount$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozSourceNode"><code>mozSourceNode</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozSourceNode$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozUserCancelled"><code>mozUserCancelled</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozUserCancelled$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/types"><code>types</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/types$translate">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/addElement"><code>addElement()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/addElement$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/clearData"><code>clearData()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/clearData$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/DataTransfer/getData"><code>getData()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozClearDataAt"><code>mozClearDataAt()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozClearDataAt$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozGetDataAt"><code>mozGetDataAt()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozGetDataAt$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozSetDataAt"><code>mozSetDataAt()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozSetDataAt$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/DataTransfer/mozTypesAt"><code>mozTypesAt()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/mozTypesAt$translate">[翻訳する]</a></li><li><em><code>setData()</code></em></li><li><a href="/ja/docs/Web/API/DataTransfer/setDragImage"><code>setDragImage()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/DataTransfer/setDragImage$translate">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>イベント</summary><ol><li><a href="/ja/docs/Web/Events/dragstart"><code>dragstart</code></a></li><li><a href="/ja/docs/Web/Events/drag"><code>drag</code></a></li><li><a href="/ja/docs/Web/Events/dragenter"><code>dragenter</code></a></li><li><a href="/ja/docs/Web/Events/dragexit"><code>dragexit</code></a></li><li><a href="/ja/docs/Web/Events/dragleave"><code>dragleave</code></a></li><li><a href="/ja/docs/Web/Events/dragover"><code>dragover</code></a></li><li><a href="/ja/docs/Web/Events/drop"><code>drop</code></a></li><li><a href="/ja/docs/Web/Events/dragend"><code>dragend</code></a></li></ol></details></li><li class="toggle"><details open><summary>HTML Drag and Drop API に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/DataTransferItem"><code>DataTransferItem</code></a></li><li><a href="/ja/docs/Web/API/DataTransferItemList"><code>DataTransferItemList</code></a></li><li><a href="/ja/docs/Web/API/DragEvent"><code>DragEvent</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>DataTransfer.setData()</code></strong> メソッドは、ドラッグ操作の <a href="/ja/docs/Web/API/DataTransfer" title="DataTransferオブジェクトは、ドラッグ＆ドロップ操作の実行中、ドラッグされているデータを保持するために使われます。データトランスファーは1つ以上の項目を保持し、それぞれの項目は1つ以上のデータ型を保持します。ドラッグ＆ドロップについての詳しい情報はドラッグ＆ドロップを参照してください。"><code>drag data</code></a> に指定したデータと型を設定します。与えられた型のデータが存在しない場合、このデータはドラッグデータストアの末尾に加えられ、このような <a href="/ja/docs/Web/API/DataTransfer/types" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>types</code></a> リストの最後のアイテムは新しい型になります。与えられた型のデータが存在する場合、既存のデータが同じ位置で置き換えられます。同じ型のデータが置き換えられる時、<a href="/ja/docs/Web/API/DataTransfer/types" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>types</code></a> リストの並び順は変更されません。</p>

<p>データ型は、例えば <code>text/plain</code> や <code>text/uri-list</code> です。</p>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox">void <var>dataTransfer</var>.setData(format, data);
</pre>

<h3 id="引数">引数</h3>

<dl>
 <dt><em>format</em></dt>
 <dd><a href="/ja/docs/Web/API/DataTransfer" title="DataTransferオブジェクトは、ドラッグ＆ドロップ操作の実行中、ドラッグされているデータを保持するために使われます。データトランスファーは1つ以上の項目を保持し、それぞれの項目は1つ以上のデータ型を保持します。ドラッグ＆ドロップについての詳しい情報はドラッグ＆ドロップを参照してください。"><code>drag object</code></a> に追加するドラッグデータの型を表す <a href="/ja/docs/Web/API/DOMString" title="DOMString は、UTF-16 文字列です。JavaScript では UTF-16 文字列を用いるため、DOMString は直接 String に対応します。"><code>DOMString</code></a>。</dd>
 <dt><em>data</em></dt>
 <dd><a href="/ja/docs/Web/API/DataTransfer" title="DataTransferオブジェクトは、ドラッグ＆ドロップ操作の実行中、ドラッグされているデータを保持するために使われます。データトランスファーは1つ以上の項目を保持し、それぞれの項目は1つ以上のデータ型を保持します。ドラッグ＆ドロップについての詳しい情報はドラッグ＆ドロップを参照してください。"><code>drag object</code></a> に追加するデータを表す <a href="/ja/docs/Web/API/DOMString" title="DOMString は、UTF-16 文字列です。JavaScript では UTF-16 文字列を用いるため、DOMString は直接 String に対応します。"><code>DOMString</code></a>。</dd>
</dl>

<h3 id="Return_value" name="Return_value">戻り値</h3>

<dl>
 <dt>無効。</dt>
</dl>

<h2 id="Example" name="Example">例</h2>

<p>この例は、<a href="/ja/docs/Web/API/DataTransfer" title="DataTransferオブジェクトは、ドラッグ＆ドロップ操作の実行中、ドラッグされているデータを保持するために使われます。データトランスファーは1つ以上の項目を保持し、それぞれの項目は1つ以上のデータ型を保持します。ドラッグ＆ドロップについての詳しい情報はドラッグ＆ドロップを参照してください。"><code>DataTransfer</code></a> オブジェクトの <a href="/ja/docs/Web/API/DataTransfer/getData" title="DataTransfer.getData() メソッドは、指定した型のドラッグデータを (DOMString として) 受け取ります。ドラッグ操作がデータを含まない場合、このメソッドは空文字列を返します。"><code>getData()</code></a> メソッドおよび <a href="/ja/docs/Web/API/DataTransfer/setData" title="DataTransfer.setData() メソッドは、ドラッグ操作の drag data に指定したデータと型を設定します。与えられた型のデータが存在しない場合、このデータはドラッグデータストアの末尾に加えられ、このような types リストの最後のアイテムは新しい型になります。与えられた型のデータが存在する場合、既存のデータが同じ位置で置き換えられます。同じ型のデータが置き換えられる時、types リストの並び順は変更されません。"><code>setData()</code></a> メソッド、<a href="/ja/docs/Web/API/DataTransfer/clearData" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>clearData()</code></a> メソッドの使い方を紹介します。</p>

<pre class="brush: js">&lt;!DOCTYPE html&gt;
&lt;html lang=en&gt;
&lt;title&gt;Examples of DataTransfer&apos;s setData(), getData(), and clearData()&lt;/title&gt;
&lt;meta content=&quot;width=device-width&quot;&gt;
&lt;style&gt;
  div {
    margin: 0em;
    padding: 2em;
  }
  #source {
    color: blue;
    border: 1px solid black;
  }
  #target {
    border: 1px solid black;
  }
&lt;/style&gt;
&lt;script&gt;
function dragstart_handler(ev) {
 console.log(&quot;dragStart&quot;);
 // Change the source element&apos;s background color to signify drag has started
 ev.currentTarget.style.border = &quot;dashed&quot;;
 // Set the drag&apos;s format and data. Use the event target&apos;s id for the data
 ev.dataTransfer.setData(&quot;text/plain&quot;, ev.target.id);
}

function dragover_handler(ev) {
 console.log(&quot;dragOver&quot;);
 ev.preventDefault();
}

function drop_handler(ev) {
 console.log(&quot;Drop&quot;);
 ev.preventDefault();
 // Get the data, which is the id of the drop target
 var data = ev.dataTransfer.getData(&quot;text&quot;);
 ev.target.appendChild(document.getElementById(data));
 // Clear the drag data cache (for all formats/types)
 ev.dataTransfer.clearData();
}
&lt;/script&gt;
&lt;body&gt;
&lt;h1&gt;Examples of &lt;code&gt;DataTransfer&lt;/code&gt;: &lt;code&gt;setData()&lt;/code&gt;, &lt;code&gt;getData()&lt;/code&gt;, &lt;code&gt;clearData()&lt;/code&gt;&lt;/h1&gt;
 &lt;div&gt;
   &lt;p id=&quot;source&quot; ondragstart=&quot;dragstart_handler(event);&quot; draggable=&quot;true&quot;&gt;
     Select this element, drag it to the Drop Zone and then release the selection to move the element.&lt;/p&gt;
 &lt;/div&gt;
 &lt;div id=&quot;target&quot; ondrop=&quot;drop_handler(event);&quot; ondragover=&quot;dragover_handler(event);&quot;&gt;Drop Zone&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<h2 id="Specifications" name="Specifications">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">策定状況</th>
   <th scope="col">備考</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-datatransfer-setdata" class="external" hreflang="en">HTML Living Standard<br><small lang="ja">setData() の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/html51/editing.html#dom-datatransfer-setdata" class="external" hreflang="en">HTML 5.1<br><small lang="ja">setData() の定義</small></a></td>
   <td><span class="spec-REC">勧告</span></td>
   <td>初期定義</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザ実装状況</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">現在、互換性データを可読形式の JSON フォーマットに置き換えているところです。</a></strong>
            この互換性一覧は古い形式を使っており、これに含まれるデータの置き換えが済んでいません。
            <strong><a href="/ja/docs/MDN/Contribute/Structures/Compatibility_tables">手助けしていただける場合は、こちらから！</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>デスクトップ</a></li>
        <li><a>モバイル</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td>4</td>
   <td>3.5</td>
   <td>10</td>
   <td>12</td>
   <td>3.1</td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td>10</td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="See_also" name="See_also">関連情報</h2>

<p></p><ul>
 <li><a href="/en-US/docs/Web/API/HTML_Drag_and_Drop_API">Drag and drop</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Drag_operations">Drag Operations</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types">Recommended Drag Types</a></li>
 <li><a href="/en-US/docs/Web/Guide/HTML/Dragging_and_Dropping_Multiple_Items">Dragging and Dropping Multiple Items</a></li>
 <li><a href="https://codepen.io/tech_query/pen/MqGgap">DataTransfer test - Paste or Drag</a></li>
</ul><p></p>
