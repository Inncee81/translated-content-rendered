---
title: WindowOrWorkerGlobalScope.fetch()
slug: Web/API/WindowOrWorkerGlobalScope/fetch
tags:
  - API
  - Experimental
  - Fetch
  - Fetch API
  - GlobalFetch
  - Method
  - Reference
  - WindowOrWorkerGlobalScope
  - request
  - メソッド
translation_of: Web/API/WindowOrWorkerGlobalScope/fetch
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/Fetch_API">Fetch API</a></strong></li><li><strong><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope"><code>WindowOrWorkerGlobalScope</code></a></strong></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/WorkerGlobalScope/caches"><code>caches</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/crossOriginIsolated"><code>crossOriginIsolated</code></a> <a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/crossOriginIsolated$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/indexedDB"><code>indexedDB</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/isSecureContext"><code>isSecureContext</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/origin"><code>origin</code></a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><a href="/ja/docs/Web/API/WindowBase64/atob"><code>atob()</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/btoa"><code>btoa()</code></a></li><li><a href="/ja/docs/Web/API/WindowTimers/clearInterval"><code>clearInterval</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout"><code>clearTimeout()</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap"><code>createImageBitmap()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><em><code>fetch()</code></em></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask"><code>queueMicrotask()</code></a> <a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/setInterval"><code>setInterval()</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout"><code>setTimeout()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Implemented by:</summary><ol><li><a href="/ja/docs/Web/API/Window"><code>Window</code></a></li><li><a href="/ja/docs/Web/API/WorkerGlobalScope"><code>WorkerGlobalScope</code></a></li></ol></details></li><li class="toggle"><details open><summary>Fetch API に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/Body"><code>Body</code></a></li><li><a href="/ja/docs/Web/API/Headers"><code>Headers</code></a></li><li><a href="/ja/docs/Web/API/Request"><code>Request</code></a></li><li><a href="/ja/docs/Web/API/Response"><code>Response</code></a></li><li><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>WindowOrWorkerGlobalScope.fetch()</code></a></li></ol></details></li></ol></section>

<p><span class="seoSummary"><code><strong>fetch()</strong></code> は <a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope"><code>WindowOrWorkerGlobalScope</code></a> ミックスインのメソッドで、ネットワークからリソースを取得するプロセスを開始し、レスポンスが利用できるようになったら満足するプロミスを返します。</span>このプロミスはリクエストに対するレスポンスを表す <a href="/ja/docs/Web/API/Response"><code>Response</code></a> で解決します。プロミスは HTTP エラーでは拒否されず、ネットワークエラーでのみ拒否されます。 HTTP エラーをチェックするには、 <code>then</code> ハンドラーを使用する必要があります。</p>

<p><code>WindowOrWorkerGlobalScope</code> は <a href="/ja/docs/Web/API/Window"><code>Window</code></a> と <a href="/ja/docs/Web/API/WorkerGlobalScope"><code>WorkerGlobalScope</code></a> の両方で実装されています。これはつまり <code>fetch()</code> メソッドはあなたがリソースを取得したいと思うような大部分コンテキストで使用可能ということです。</p>

<p><a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>fetch()</code></a> のプロミスはネットワークエラーが発生した場合 (すなわち普通はパーミッション問題などがあったとき) のみ拒否されます。 <a href="/ja/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>fetch()</code></a> のプロミスは HTTP エラー (<code>404</code> など) では拒否<em>されません</em>。代わりに、 <code>then()</code> ハンドラーで <a href="/ja/docs/Web/API/Response/ok"><code>Response.ok</code></a> や <a href="/ja/docs/Web/API/Response/status"><code>Response.status</code></a> プロパティをチェックする必要があります。</p>

<p><code>fetch()</code> メソッドは取得するリソースのディレクティブではなく <a href="/ja/docs/Security/CSP/CSP_policy_directives">Content Security Policy</a> の <code>connect-src</code> ディレクティブによって制御されます。</p>

<div class="note">
<p><strong>注</strong>: <code>fetch()</code> メソッドの引数は <a href="/ja/docs/Web/API/Request/Request"><code>Request()</code></a> コンストラクターと全く同じです。</p>
</div>

<h2 id="Syntax" name="Syntax">構文</h2>

<pre class="syntaxbox notranslate">const <var>fetchResponsePromise</var> = fetch(<var>resource</var> [, <var>init</var>])
</pre>

<h3 id="Parameters" name="Parameters">引数</h3>

<dl>
 <dt><code><var>resource</var></code></dt>
 <dd>取得したいリソースを定義します。以下の 2 つが使用出来ます。
 <ul>
  <li>取得したいリソースの直接の URL を含む <a href="/ja/docs/Web/API/USVString"><code>USVString</code></a>。ブラウザーによってはスキームとして <code>blob:</code> と <code>data:</code> を受け入れます。</li>
  <li><a href="/ja/docs/Web/API/Request"><code>Request</code></a> オブジェクト。</li>
 </ul>
 </dd>
 <dt><code><var>init</var></code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>
 <p>リクエストに適用したいカスタム設定を含むオブジェクト。可能なオプションは以下の通りです。</p>

 <dl>
  <dt><code>method</code></dt>
  <dd>リクエストするメソッド、<code>GET</code>、<code>POST</code> など。なお、 <a href="/ja/docs/Web/HTTP/Headers/Origin" title="Origin リクエストヘッダーは、どこがフェッチの原点であるかを示します。パス情報は含まれず、サーバー名のみが含まれます。これは、 CORS リクエストと、同様に POST リクエストでも送信されます。 Referer ヘッダーと似ていますが、パス全体が公開されるわけではない点が異なります。"><code>Origin</code></a> ヘッダーは <a href="/ja/docs/Web/HTTP/Methods/HEAD" title="HTTP の HEAD メソッドは、指定されたリソースを HTTP GET メソッドでリクエストした時に返されるヘッダーをリクエストします。そのようなリクエストによって、例えば大きなリソースをダウンロードするかどうかを事前に決定して、帯域幅を節約したりすることができます。"><code>HEAD</code></a> または <a href="/ja/docs/Web/HTTP/Methods/GET" title="HTTP の GET メソッドは、特定のリソースの表現をリクエストします。 GET を使用したリクエストはデータを受け取るだけです。"><code>GET</code></a> メソッドの読み取りリクエストでは設定されません。<br>
  (この動作は Firefox 65 で修正されました — <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1508661">バグ 1508661</a> を参照)</dd>
  <dt><code>headers</code></dt>
  <dd>リクエストに追加したいヘッダーで、<a href="/ja/docs/Web/API/Headers"><code>Headers</code></a> オブジェクトか <a href="/ja/docs/Web/API/ByteString"><code>ByteString</code></a> 値を持つオブジェクトリテラルで指定してください。なお、<a href="/ja/docs/Glossary/Forbidden_header_name">一部の名前は禁止されています</a>。</dd>
  <dt><code>body</code></dt>
  <dd>リクエストに追加したい本文です。これには <a href="/ja/docs/Web/API/Blob"><code>Blob</code></a>, <a href="/ja/docs/Web/API/BufferSource"><code>BufferSource</code></a>, <a href="/ja/docs/Web/API/FormData"><code>FormData</code></a>, <a href="/ja/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a>, <a href="/ja/docs/Web/API/USVString"><code>USVString</code></a>, <a href="/ja/docs/Web/API/ReadableStream"><code>ReadableStream</code></a> オブジェクトなどが使用できます。メソッドが <code>GET</code> や <code>HEAD</code> の場合使用できないので注意してください。</dd>
  <dt><code>mode</code></dt>
  <dd>リクエストで使いたいモードです。例: <code>cors</code>, <code>no-cors</code>, <code>same-origin</code></dd>
  <dt><code>credentials</code></dt>
  <dd>リクエストに使用したいリクエスト認証情報、 <code>omit</code>, <code>same-origin</code>, <code>include</code> です。現在のドメインの Cookie を自動で送るためにはこのオプションを指定する必要があります。 Chrome 50 から、このプロパティは<a href="/ja/docs/Web/API/FederatedCredential"><code>FederatedCredential</code></a> インスタンスや <a href="/ja/docs/Web/API/PasswordCredential"><code>PasswordCredential</code></a> インスタンスを受け付けるようになりました。</dd>
  <dt><code>cache</code></dt>
  <dd>使用したいリクエストの<a href="/ja/docs/Web/API/Request/cache">キャッシュモード</a>です。</dd>
  <dt><code>redirect</code></dt>
  <dd>使用するリダイレクトモードです。 <code>follow</code> (自動でリダイレクトに従う)、 <code>error</code> (リダイレクトが起こった場合エラーを伴って中止する)、 <code>manual</code> (手動でリダイレクトを処理する)。Chrome の既定値は <code>follow</code> です (バージョン 47 より前の既定値は <code>manual</code> でした)。</dd>
  <dt><code>referrer</code></dt>
  <dd><a href="/ja/docs/Web/API/USVString"><code>USVString</code></a> でリクエストのリファラーを指定します。これは同じオリジンの URL、 <code>about:client</code>、空文字列のいずれかを取ることができます。</dd>
  <dt><code>referrerPolicy</code></dt>
  <dd>リクエストで使用する<a href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policies">リファラーポリシー</a>を指定します。使用可能な値は、 <code>no-referrer</code>, <code>no-referrer-when-downgrade</code>, <code>same-origin</code>, <code>origin</code>, <code>strict-origin</code>, <code>origin-when-cross-origin</code>, <code>strict-origin-when-cross-origin</code>, or <code>unsafe-url</code> のいずれかです。</dd>
  <dt><code>integrity</code></dt>
  <dd>リソースに <a href="/ja/docs/Web/Security/Subresource_Integrity">subresource integrity</a> 値を含ませることが出来ます (例：<code>sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=</code>)。</dd>
  <dt><code>keepalive</code></dt>
  <dd><code>keepalive</code> オプションはページより長生きするリクエストを許可するのに使われます。<code>keepalive</code> フラグつきの Fetch は<a href="/ja/docs/Web/API/Navigator/sendBeacon"><code>Navigator.sendBeacon()</code></a> API の置き換えです。</dd>
  <dt><code>signal</code></dt>
  <dd><a href="/ja/docs/Web/API/AbortSignal"><code>AbortSignal</code></a> オブジェクトのインスタンスです。つまり <a href="/ja/docs/Web/API/AbortController"><code>AbortController</code></a> 経由で fetch リクエストと通信したり望む場合には中止したりできます。</dd>
 </dl>
 </dd>
</dl>

<h3 id="Return_value" name="Return_value">返値</h3>

<p><a href="/ja/docs/Web/API/Promise"><code>Promise</code></a> で、 <a href="/ja/docs/Web/API/Response"><code>Response</code></a> オブジェクトに解決します。</p>

<h3 id="Exceptions" name="Exceptions">例外</h3>

<dl>
 <dt><code>AbortError</code></dt>
 <dd><a href="/ja/docs/Web/API/AbortController"><code>AbortController</code></a> メソッドまたは <a href="/ja/docs/Web/API/AbortController/abort"><code>abort()</code></a> メソッドの呼び出しによりリクエストが中止された。</dd>
 <dt><code>TypeError</code></dt>
 <dd>指定された URL がユーザー認証情報を含んでいる。この情報は <a href="/ja/docs/Web/HTTP/Headers/Authorization" title="HTTP の Authorization 要求ヘッダーは、ユーザーエージェントがサーバーから認証を受けるための証明書を保持し、ふつうはサーバーが 401 Unauthorized 状態と WWW-Authenticate ヘッダーを返した後に使われます。"><code>Authorization</code></a> ヘッダーを用いて提供するべきです。</dd>
</dl>

<h2 id="Example" name="Example">例</h2>

<p><a href="https://github.com/mdn/fetch-examples/tree/master/fetch-request">Fetch Request example</a> リポジトリ (デモ: <a href="https://mdn.github.io/fetch-examples/fetch-request/">Fetch Request live</a>) では <a href="/ja/docs/Web/API/Request"><code>Request</code></a> オブジェクトを関連するコンストラクターを使って作成しています。その後 <code>fetch()</code> を呼んで取得しています。画像を fetch している時から適切な MIME タイプを与えるために response の <a href="/ja/docs/Web/API/Body/blob"><code>Body.blob</code></a> を実行し、適切に処理されます。そして ObjectURL を作成し <a href="/ja/docs/Web/HTML/Element/img" title="HTML の &lt;img&gt; 要素は、文書に画像を埋め込みます。"><code>&lt;img&gt;</code></a> 要素に追加して表示させています。</p>

<pre class="brush: js notranslate">const myImage = document.querySelector(&apos;img&apos;);

let myRequest = new Request(&apos;flowers.jpg&apos;);

fetch(myRequest)
.then(function(response) {
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  return response.blob();
})
.then(function(response) {
  let objectURL = URL.createObjectURL(response);
  myImage.src = objectURL;
});</pre>

<p><a href="https://github.com/mdn/fetch-examples/tree/gh-pages/fetch-with-init-then-request/index.html">Fetch with init then Request example</a> リポジトリ (デモ: <a href="https://mdn.github.io/fetch-examples/fetch-with-init-then-request/">Fetch Request init live</a>) では上記の内容に加えて、<code>fetch()</code> を呼び出すとき、初期化オブジェクト <code><var>init</var></code> を渡しています。</p>

<pre class="brush: js notranslate">const myImage = document.querySelector(&apos;img&apos;);

let myHeaders = new Headers();
myHeaders.append(&apos;Content-Type&apos;, &apos;image/jpeg&apos;);

const myInit = {
  method: &apos;GET&apos;,
  headers: myHeaders,
  mode: &apos;cors&apos;,
  cache: &apos;default&apos;
};

let myRequest = new Request(&apos;flowers.jpg&apos;);

fetch(myRequest, myInit).then(function(response) {
  // ...
});</pre>

<p>同様に <code><var>init</var></code> オブジェクトを <code>Request</code> コンストラクターに渡しても、同じ効果が得られます。</p>

<pre class="brush: js notranslate">let myRequest = new Request(&apos;flowers.jpg&apos;, myInit);</pre>

<p><code><var>init</var></code> の <code><var>init</var></code> としてオブジェクトリテラルを使用することもできます。</p>

<pre class="brush: js notranslate">const myInit = {
  method: &apos;GET&apos;,
  headers: {
    &apos;Content-Type&apos;: &apos;image/jpeg&apos;
  },
  mode: &apos;cors&apos;,
  cache: &apos;default&apos;
};

let myRequest = new Request(&apos;flowers.jpg&apos;, myInit);
</pre>

<h2 id="Specifications" name="Specifications">仕様書</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">状態</th>
   <th scope="col">備考</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://fetch.spec.whatwg.org/#fetch-method" hreflang="en" lang="en">Fetch<br><small lang="ja">fetch() の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td>最新の仕様では <code>WindowOrWorkerGlobalScope</code> の中で部分的に定義。</td>
  </tr>
  <tr>
   <td><a class="external" href="https://fetch.spec.whatwg.org/#dom-global-fetch" hreflang="en" lang="en">Fetch<br><small lang="ja">fetch() の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td>初回定義</td>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/webappsec-credential-management/" hreflang="en" lang="en">Credential Management Level 1</a></td>
   <td><span class="spec-WD">草案</span></td>
   <td><a href="/ja/docs/Web/API/FederatedCredential"><code>FederatedCredential</code></a> または <a href="/ja/docs/Web/API/PasswordCredential"><code>PasswordCredential</code></a> のインスタンスを <code>init.credentials</code> の値として追加。</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの互換性</h2>

<div class="hidden">このページの互換性表は構造化データから作成されています。データに協力したい場合は、 <a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送ってください。</div>

<div class="bc-data" id="bcd:api.WindowOrWorkerGlobalScope.fetch"></div>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/API/Fetch_API">Fetch API</a></li>
 <li><a href="/ja/docs/Web/API/ServiceWorker_API">ServiceWorker API</a></li>
 <li><a href="/ja/docs/Web/HTTP/CORS">HTTP access control (CORS)</a></li>
 <li><a href="/ja/docs/Web/HTTP">HTTP</a></li>
</ul>
