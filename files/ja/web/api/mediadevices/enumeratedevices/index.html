---
title: MediaDevices.enumerateDevices()
slug: Web/API/MediaDevices/enumerateDevices
tags:
  - API
  - Experimental
  - MediaDevices
  - Method
translation_of: Web/API/MediaDevices/enumerateDevices
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/WebRTC_API">WebRTC API</a></strong></li><li><strong><a href="/ja/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></strong></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><a href="/ja/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><em><code>enumerateDevices()</code></em></li><li><a href="/ja/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/MediaDevices/getDisplayMedia$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints()</code></a></li><li><a href="/ja/docs/Web/API/MediaDevices/getUserMedia"><code>getUserMedia()</code></a></li></ol></details></li><li class="toggle"><details open><summary>継承</summary><ol><li><a href="/ja/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>イベント</summary><ol><li><a href="/ja/docs/Web/Events/addstream"><code>addstream</code></a></li><li><a href="/ja/docs/Web/Events/icecandidate"><code>icecandidate</code></a></li><li><a href="/ja/docs/Web/Events/iceconnectionstatechange"><code>iceconnectionstatechange</code></a></li><li><a href="/ja/docs/Web/Events/icegatheringstatechange"><code>icegatheringstatechange</code></a></li><li><a href="/ja/docs/Web/Events/negotiationneeded"><code>negotiationneeded</code></a></li><li><a href="/ja/docs/Web/Events/removestream"><code>removestream</code></a></li><li><a href="/ja/docs/Web/Events/signalingstatechange"><code>signalingstatechange</code></a></li><li><a href="/ja/docs/Web/Events/datachannel"><code>datachannel</code></a></li><li><a href="/ja/docs/Web/Events/close"><code>close</code></a></li><li><a href="/ja/docs/Web/Events/error"><code>error</code></a></li><li><a href="/ja/docs/Web/Events/message"><code>message</code></a></li><li><a href="/ja/docs/Web/Events/open"><code>open</code></a></li><li><a href="/ja/docs/Web/Events/tonechange"><code>tonechange</code></a></li><li><a href="/ja/docs/Web/Events/identityresult"><code>identityresult</code></a></li><li><a href="/ja/docs/Web/Events/idpassertionerror"><code>idpassertionerror</code></a></li><li><a href="/ja/docs/Web/Events/idpvalidationerror"><code>idpvalidationerror</code></a></li><li><a href="/ja/docs/Web/Events/peeridentity"><code>peeridentity</code></a></li><li><a href="/ja/docs/Web/Events/isolationchange"><code>isolationchange</code></a></li></ol></details></li><li class="toggle"><details open><summary>WebRTC に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="/ja/docs/Web/API/RTCCertificate"><code>RTCCertificate</code></a></li><li><a href="/ja/docs/Web/API/RTCDTMFSender"><code>RTCDTMFSender</code></a></li><li><a href="/ja/docs/Web/API/RTCDTMFToneChangeEvent"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a></li><li><a href="/ja/docs/Web/API/RTCDataChannelEvent"><code>RTCDataChannelEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCDtlsTransport"><code>RTCDtlsTransport</code></a></li><li><a href="/ja/docs/Web/API/RTCErrorEvent"><code>RTCErrorEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCIceCandidate"><code>RTCIceCandidate</code></a></li><li><a href="/ja/docs/Web/API/RTCIceTransport"><code>RTCIceTransport</code></a></li><li><a href="/ja/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a></li><li><a href="/ja/docs/Web/API/RTCPeerConnectionIceErrorEvent"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCPeerConnectionIceEvent"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></li><li><a href="/ja/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></li><li><a href="/ja/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></li><li><a href="/ja/docs/Web/API/RTCSctpTransport"><code>RTCSctpTransport</code></a></li><li><a href="/ja/docs/Web/API/RTCSessionDescription"><code>RTCSessionDescription</code></a></li><li><a href="/ja/docs/Web/API/RTCStatsEvent"><code>RTCStatsEvent</code></a></li><li><a href="/ja/docs/Web/API/RTCStatsReport"><code>RTCStatsReport</code></a></li><li><a href="/ja/docs/Web/API/RTCTrackEvent"><code>RTCTrackEvent</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span> <strong>これは<a href="/ja/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">実験的な機能</a>です。</strong>本番で使用する前に<a href="#Browser_compatibility">ブラウザー実装状況</a>をチェックしてください。</p>
</div><p></p>

<p><strong><code>MediaDevices.enumeratedDevices()</code></strong>  メソッドは、システム上で利用できる入出力メディアデバイスの情報を収集します。</p>

<h2 id="構文">構文</h2>

<pre class="syntaxbox">navigator.mediaDevices.enumerateDevices();</pre>

<h3 id="戻り値">戻り値</h3>

<p>列挙が成功した場合、使用できる入出力メディアデバイスの情報を持つ<font face="Courier New">MediaDeviceInfo</font>オブジェクトの配列で満たされた<a href="/ja/docs/Web/API/Promise" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>Promise</code></a> が返されます。</p>

<p>次の情報が返されます。プライバシーへの配慮のため、コールした時に現在のページにアクティブな<a href="/ja/docs/Web/API/MediaStream" title="MediaStream インターフェイスはメディアコンテンツを表現します。stream は音声やビデオトラックのようないくつかのトラックから構成されます。"><code>MediaStream</code></a> オブジェクトがあるか、ユーザーがページのオリジンに対して認可に対して許可を出していない限り、<font face="Courier New">label</font>情報は空文字です。</p>

<p><code>MediaDeviceInfoは以下の情報を含みます。</code></p>

<dl>
 <dt><code>deviceId</code></dt>
 <dd>deviceIdはセッション間で一貫性のあるデバイスを表現するための識別子である<a href="/ja/docs/Web/API/DOMString" title="DOMString は、UTF-16 文字列です。JavaScript では UTF-16 文字列を用いるため、DOMString は直接 String に対応します。"><code>DOMString</code></a> です。これはほかのアプリケーションから推測できず、呼び出されたアプリケーションのオリジンごとにユニークです。ユーザーがcookieをクリアしたときにリセットされます（プライベートブラウジングのためには、セッション間で一貫性のない異なる識別子が使われます）。</dd>
 <dt><code>groupId</code></dt>
 <dd>groupIdはグループ識別子である<a href="/ja/docs/Web/API/DOMString" title="DOMString は、UTF-16 文字列です。JavaScript では UTF-16 文字列を用いるため、DOMString は直接 String に対応します。"><code>DOMString</code></a> です。同じ物理デバイスに所属する場合、2つのデバイスは同じグループ識別子を持ちます。たとえば、組み込みのカメラとマイクの両方があるモニターです。</dd>
 <dt><code>kind</code></dt>
 <dd>kindは &quot;<font face="Courier New">videoinput</font>&quot;、&quot;<font face="Courier New">audioinput</font>&quot; か &quot;<font face="Courier New">audiooutput</font>&quot;のいづれかが列挙された値です。</dd>
 <dt><code>label</code></dt>
 <dd>labelはこのデバイスを表すラベルである <a href="/ja/docs/Web/API/DOMString" title="DOMString は、UTF-16 文字列です。JavaScript では UTF-16 文字列を用いるため、DOMString は直接 String に対応します。"><code>DOMString</code></a> です（たとえば、&quot;External USB Webcam）。MediaStreamがアクティブな間か認可が許可されているときだけ使用できます。</dd>
</dl>

<h2 id="例">例</h2>

<p><code>mediaDevices.enumerateDevices()</code>の使用例を示します。</p>

<pre class="brush: js">if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
  console.log(&quot;enumerateDevices() not supported.&quot;);
  return;
}

// List cameras and microphones.

navigator.mediaDevices.enumerateDevices()
.then(function(devices) {
  devices.forEach(function(device) {
    console.log(device.kind + &quot;: &quot; + device.label +
                &quot; id = &quot; + device.deviceId);
  });
})
.catch(function(err) {
  console.log(err.name + &quot;: &quot; + err.message);
});
</pre>

<p>実行例：<br>
 <br>
 <code>videoinput: id = csO9c0YpAf274OuCPUA53CNE0YHlIr2yXCi+SqfBZZ8=<br>
 audioinput: id = RKxXByjnabbADGQNNZqLVLdmXlS0YkETYCIbg+XxnvM=<br>
 audioinput: id = r2/xw1xUPIyZunfV1lGrKOma5wTOvCkWfZ368XCndm0=</code><br>
 <br>
 つ以上のMediaStreamがアクティブか、認可に対する許可がある場合：</p>

<p><code>videoinput: FaceTime HD Camera (Built-in) id=csO9c0YpAf274OuCPUA53CNE0YHlIr2yXCi+SqfBZZ8=<br>
 audioinput: default (Built-in Microphone) id=RKxXByjnabbADGQNNZqLVLdmXlS0YkETYCIbg+XxnvM=<br>
 audioinput: Built-in Microphone id=r2/xw1xUPIyZunfV1lGrKOma5wTOvCkWfZ368XCndm0=</code></p>

<h2 id="認可">認可</h2>

<p>インストールできるアプリケーション（たとえば、 <a href="/ja/Apps/Build/Building_apps_for_Firefox_OS/Firefox_OS_app_beginners_tutorial"><u><font color="#0066cc">Firefox OS app</font></u></a>）で<font face="Courier New">enumerateDevices()</font> を使用するには、マニフェストファイルに1つまたは両方の次のフィールドを設定する必要があります。</p>

<pre class="brush: js">&quot;permissions&quot;: {
  &quot;audio-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture audio using getUserMedia()&quot;
  },
  &quot;video-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture video using getUserMedia()&quot;
  }
}</pre>

<p>さらなる情報は<a href="/ja/Apps/Developing/App_permissions#audio-capture">permission: audio-capture</a>と<a href="/ja/Apps/Developing/App_permissions#video-capture">permission: video-capture</a>を見てください。</p>

<h2 id="仕様">仕様</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://w3c.github.io/mediacapture-main/#mediadevices" class="external" hreflang="en">Media Capture and Streams<br><small lang="ja">mediaDevices.enumerateDevices の定義</small></a></td>
   <td><span class="spec-CR">勧告候補</span></td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="ブラウザ実装状況">ブラウザ実装状況</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">現在、互換性データを可読形式の JSON フォーマットに置き換えているところです。</a></strong>
            この互換性一覧は古い形式を使っており、これに含まれるデータの置き換えが済んでいません。
            <strong><a href="/ja/docs/MDN/Contribute/Structures/Compatibility_tables">手助けしていただける場合は、こちらから！</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>デスクトップ</a></li>
        <li><a>モバイル</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Stream API </td>
   <td>45.0 [1]</td>
   <td>39</td>
   <td><span style="color: #f00;">未サポート</span> </td>
   <td>
    <p><span style="color: #f00;">未サポート</span></p>
   </td>
   <td><span style="color: #f00;">未サポート</span> </td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Stream API </td>
   <td><span style="color: #f00;">未サポート</span> </td>
   <td>39</td>
   <td>39</td>
   <td><span style="color: #f00;">未サポート</span> </td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td><span style="color: #f00;">未サポート</span> </td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Behind a flag.</p>

<h3 id="ChromeとOperaの実装">ChromeとOperaの実装</h3>

<ul>
 <li><a href="https://github.com/webrtc/adapter"><u><font color="#0066cc">adapter.js</font></u></a>のポリフィルを通して、ChromeとOperaでこのインターフェイスを使用できます。</li>
</ul>

<h2 id="関連項目">関連項目</h2>

<ul>
 <li><a href="https://developer.mozilla.org/ja/docs/Web/API/MediaDevices/getUserMedia">navigator.mediaDevices.getUserMedia</a></li>
 <li><a href="/en-US/docs/WebRTC">WebRTC</a> - APIの導入ページ</li>
 <li><a href="/en-US/docs/WebRTC/MediaStream_API">MediaStream API</a> - media streamオブジェクトの導入ページ</li>
 <li><a href="/en-US/docs/WebRTC/taking_webcam_photos">Taking webcam photos</a> - videoよりも写真を撮るために<code>getUserMedia()を使用するためのチュートリアル</code></li>
</ul>
