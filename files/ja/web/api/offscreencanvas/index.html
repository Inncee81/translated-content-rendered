---
title: OffscreenCanvas
slug: Web/API/OffscreenCanvas
tags:
  - API
  - Canvas
  - Experimental
  - Interface
  - NeedsTranslation
  - Reference
  - TopicStub
translation_of: Web/API/OffscreenCanvas
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/Canvas_API">Canvas API</a></strong></li><li><strong><a href="/ja/docs/Web/API/OffscreenCanvas"><code>OffscreenCanvas</code></a></strong></li><li class="toggle"><details open><summary>コンストラクター</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/OffscreenCanvas"><code>OffscreenCanvas()</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/OffscreenCanvas$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/height"><code>height</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/height$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/width"><code>width</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/width$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/toBlob"><code>convertToBlob()</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/toBlob$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/OffscreenCanvas.convertToBlob()"><code>convertToBlob()</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/OffscreenCanvas.convertToBlob()$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/convertToBlob"><code>convertToBlob()</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/convertToBlob$translate" style="opacity: 0.5;">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/getContext"><code>getContext()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/OffscreenCanvas/transferToImageBitmap"><code>transferToImageBitmap()</code></a> <a href="/ja/docs/Web/API/OffscreenCanvas/transferToImageBitmap$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>継承</summary><ol><li><a href="/ja/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Canvas API に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/Canvas"><code>Canvas</code></a></li><li><a href="/ja/docs/Web/API/CanvasGradient"><code>CanvasGradient</code></a></li><li><a href="/ja/docs/Web/API/CanvasImageSource"><code>CanvasImageSource</code></a></li><li><a href="/ja/docs/Web/API/CanvasPattern"><code>CanvasPattern</code></a></li><li><a href="/ja/docs/Web/API/CanvasRenderingContext2D"><code>CanvasRenderingContext2D</code></a></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a></li><li><a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a></li><li><a href="/ja/docs/Web/API/ImageBitmapFactories"><code>ImageBitmapFactories</code></a></li><li><a href="/ja/docs/Web/API/ImageBitmapRenderingContext"><code>ImageBitmapRenderingContext</code></a></li><li><a href="/ja/docs/Web/API/ImageData"><code>ImageData</code></a></li><li><a href="/ja/docs/Web/API/Path2D"><code>Path2D</code></a></li><li><a href="/ja/docs/Web/API/RenderingContext"><code>RenderingContext</code></a></li><li><a href="/ja/docs/Web/API/TextMetrics"><code>TextMetrics</code></a></li></ol></details></li></ol></section> <div class="experimental indicator-warning notecard">
    <p><strong>これは<a href="/ja/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">実験的な機能</a>です。</strong>本番で使用する前に<a href="#Browser_compatibility">ブラウザー実装状況</a>をチェックしてください。</p>
</div></div>

<p>The <strong><code>OffscreenCanvas</code></strong> interface provides a canvas that can be rendered off screen. It is available in both the window and <a href="/en-US/docs/Web/API/Web_Workers_API">worker</a> contexts.</p>

<h2 id="Constructors">Constructors</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/OffscreenCanvas"><code>OffscreenCanvas()</code></a></dt>
 <dd><code>OffscreenCanvas</code> constructor. Creates a new <code>OffscreenCanvas</code> object.</dd>
</dl>

<h2 id="Properties">Properties</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/height"><code>OffscreenCanvas.height</code></a></dt>
 <dd>The height of the offscreen canvas.</dd>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/width"><code>OffscreenCanvas.width</code></a></dt>
 <dd>The width of the offscreen canvas.</dd>
</dl>

<h2 id="Methods">Methods</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/getContext"><code>OffscreenCanvas.getContext()</code></a></dt>
 <dd>Returns a rendering context for the offscreen canvas.</dd>
</dl>

<dl>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/convertToBlob"><code>OffscreenCanvas.convertToBlob()</code></a></dt>
 <dd>Creates a <a href="/ja/docs/Web/API/Blob"><code>Blob</code></a> object representing the image contained in the canvas.</dd>
</dl>

<dl>
 <dt><a href="/ja/docs/Web/API/OffscreenCanvas/transferToImageBitmap"><code>OffscreenCanvas.transferToImageBitmap()</code></a></dt>
 <dd>Creates an <a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a> object from the most recently rendered image of the <code>OffscreenCanvas</code>.</dd>
</dl>

<h2 id="Examples">Examples</h2>

<h3 id="Synchronous_display_of_frames_produced_by_an_OffscreenCanvas">Synchronous display of frames produced by an <code>OffscreenCanvas</code></h3>

<p>One way to use the <code>OffscreenCanvas</code> API, is to use a <a href="/ja/docs/Web/API/RenderingContext"><code>RenderingContext</code></a> that has been obtained from an <code>OffscreenCanvas</code> object to generate new frames. Once a new frame has finished rendering in this context,  the <a href="/ja/docs/Web/API/OffscreenCanvas/transferToImageBitmap"><code>transferToImageBitmap()</code></a> method can be called to save the most recent rendered image. This method returns an <a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a> object, which can be used in a variety of Web APIs and also in a second canvas without creating a transfer copy.</p>

<p>To display the <code>ImageBitmap</code>, you can use a <a href="/ja/docs/Web/API/ImageBitmapRenderingContext"><code>ImageBitmapRenderingContext</code></a> context, which can be created by calling <code>canvas.getContext(&quot;bitmaprenderer&quot;)</code> on a (visible) canvas element. This context only provides functionality to replace the canvas&apos;s contents with the given <code>ImageBitmap</code>. A call to <a href="/ja/docs/Web/API/ImageBitmapRenderingContext/transferFromImageBitmap"><code>ImageBitmapRenderingContext.transferFromImageBitmap()</code></a> with the previously rendered and saved <code>ImageBitmap</code> from the OffscreenCanvas, will display the <code>ImageBitmap</code> on the canvas and transfer its ownership to the canvas. A single <code>OffscreenCanvas</code> may transfer frames into an arbitrary number of other <code>ImageBitmapRenderingContext</code> objects.</p>

<p>Given these two <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> elements</p>

<pre class="brush: html notranslate">&lt;canvas id=&quot;one&quot;&gt;&lt;/canvas&gt;
&lt;canvas id=&quot;two&quot;&gt;&lt;/canvas&gt;</pre>

<p>the following code will provide the rendering using an <code>OffscreenCanvas</code> as described above.</p>

<pre class="brush: js notranslate">var one = document.getElementById(&quot;one&quot;).getContext(&quot;bitmaprenderer&quot;);
var two = document.getElementById(&quot;two&quot;).getContext(&quot;bitmaprenderer&quot;);

var offscreen = new OffscreenCanvas(256, 256);
var gl = offscreen.getContext(&apos;webgl&apos;);

// ... some drawing for the first canvas using the gl context ...

// Commit rendering to the first canvas
var bitmapOne = offscreen.transferToImageBitmap();
one.transferFromImageBitmap(bitmapOne);

// ... some more drawing for the second canvas using the gl context ...

// Commit rendering to the second canvas
var bitmapTwo = offscreen.transferToImageBitmap();
two.transferFromImageBitmap(bitmapTwo);
</pre>

<h3 id="Asynchronous_display_of_frames_produced_by_an_OffscreenCanvas">Asynchronous display of frames produced by an <code>OffscreenCanvas</code></h3>

<p>Another way to use the <code>OffscreenCanvas</code> API, is to call <a href="/ja/docs/Web/API/HTMLCanvasElement/transferControlToOffscreen"><code>transferControlToOffscreen()</code></a> on a <a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> element, either on a <a href="/en-US/docs/Web/API/Web_Workers_API">worker</a> or the main thread, which will return an <code>OffscreenCanvas</code> object from an <a href="/ja/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a> object from the main thread. Calling <a href="/ja/docs/Web/API/OffscreenCanvas/getContext"><code>getContext()</code></a> will then obtain a <code>RenderingContext</code> from that <code>OffscreenCanvas</code>.</p>

<p>main.js (main thread code):</p>

<pre class="brush: js notranslate">var htmlCanvas = document.getElementById(&quot;canvas&quot;);
var offscreen = htmlCanvas.transferControlToOffscreen();

var worker = new Worker(&quot;offscreencanvas.js&quot;);
worker.postMessage({canvas: offscreen}, [offscreen]);
</pre>

<p>offscreencanvas.js (worker code):</p>

<pre class="brush: js notranslate">onmessage = function(evt) {
  var canvas = evt.data.canvas;
  var gl = canvas.getContext(&quot;webgl&quot;);

  // ... some drawing using the gl context ...
};
</pre>

<p>You can also use requestAnimationFrame in workers</p>

<pre class="brush: js notranslate">onmessage = function(evt) {
  const canvas = evt.data.canvas;
  const gl = canvas.getContext(&quot;webgl&quot;);

  function render(time) {
    // ... some drawing using the gl context ...
    requestAnimationFrame(render);
  }
  requestAnimationFrame(render);
};</pre>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/scripting.html#the-offscreencanvas-interface" hreflang="en" lang="en">HTML Living Standard<br><small lang="ja">OffscreenCanvas の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div>
<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.OffscreenCanvas"></div>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="https://hacks.mozilla.org/2016/01/webgl-off-the-main-thread/">WebGL Off the Main Thread – Mozilla Hacks</a></li>
 <li><a href="/ja/docs/Web/API/CanvasRenderingContext2D"><code>CanvasRenderingContext2D</code></a></li>
 <li><a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a></li>
 <li><a href="/ja/docs/Web/API/ImageBitmapRenderingContext"><code>ImageBitmapRenderingContext</code></a></li>
 <li><a href="/ja/docs/Web/API/HTMLCanvasElement/transferControlToOffscreen"><code>HTMLCanvasElement.transferControlToOffscreen()</code></a></li>
 <li><a href="/ja/docs/Web/API/WebGLRenderingContext/commit"><code>WebGLRenderingContext.commit()</code></a></li>
</ul>
