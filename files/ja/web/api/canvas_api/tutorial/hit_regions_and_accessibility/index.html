---
title: ヒット領域とアクセシビリティ
slug: Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility
tags:
  - Canvas
  - Graphics
  - Tutorial
translation_of: Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility
---
<div><section id="Quick_Links">
 <ol>
  <li><a href="/ja/docs/Web/API/Canvas_API"><strong>Canvas API</strong></a></li>
  <li class="toggle">
    <details open>
      <summary>Canvas tutorial</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Basic_usage">Basic usage</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes">Drawing shapes</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors">Applying styles and colors</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Drawing_text">Drawing text</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Using_images">Using images</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Transformations">Transformations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Compositing">Compositing and clipping</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Basic_animations">Basic animations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Advanced_animations">Advanced animations</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas">Pixel manipulation</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Hit_regions_and_accessibility">Hit regions and accessibility</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas">Optimizing the canvas</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Finale">Finale</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Examples</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/Canvas_API/A_basic_ray-caster">A basic raycaster</a></li>
        <li><a href="/ja/Add-ons/Code_snippets/Canvas">Canvas code snippets</a></li>
        <li><a href="/ja/docs/Web/API/Canvas_API/Manipulating_video_using_canvas">Manipulating video using canvas</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details open>
      <summary>Interfaces</summary>
      <ol>
        <li><a href="/ja/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasRenderingContext2D"><code>CanvasRenderingContext2D</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasGradient"><code>CanvasGradient</code></a></li>
        <li><a href="/ja/docs/Web/API/CanvasPattern"><code>CanvasPattern</code></a></li>
        <li><a href="/ja/docs/Web/API/ImageBitmap"><code>ImageBitmap</code></a></li>
        <li><a href="/ja/docs/Web/API/ImageData"><code>ImageData</code></a></li>
        <li><a href="/ja/docs/Web/API/TextMetrics"><code>TextMetrics</code></a></li>
        <li><span class="sidebar-icon"><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span> <a href="/ja/docs/Web/API/Path2D"><code>Path2D</code></a></li>
      </ol>
    </details>
  </li>
  <li><strong><a href="/ja/docs/MDN">Documentation:</a></strong></li>
  <li class="toggle">
    <details>
      <summary>Useful lists</summary>
      <ol>
        <li><a href="/ja/docs/tag/Canvas">Pages tagged &quot;Canvas&quot;</a></li>
      </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
      <summary>Contribute</summary>
      <ol>
        <li><a href="/ja/docs/MDN/Doc_status/API/Canvas">Canvas doc status</a></li>
        <li><a href="/ja/docs/MDN">The MDN project</a></li>
      </ol>
    </details>
  </li>
 </ol>
</section> <div style="text-align: right;" class="prevnext">
    <p><a style="float: left;" href="/ja/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas" class="button">« 前のページ</a><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas" class="button">次のページ  »</a></p>
</div></div>

<div class="summary"><a href="/ja/docs/Web/HTML/Element/canvas" title="HTML の &lt;canvas&gt; 要素 と Canvas スクリプティング API や WebGL API を使用して、グラフィックスやアニメーションを描画することができます。"><code>&lt;canvas&gt;</code></a> 自体は単なるビットマップであり、描かれているオブジェクトに関する情報は提供しません。canvas の内容物は、セマンティック HTML のようなアクセシビリティ機能に公開されません。通常、アクセシブルなウェブサイトやアプリでは、canvas の使用を避けるべきでしょう。以下のガイドラインは、canvas をよりアクセシブルにする助けになります。</div>

<h2 id="Fallback_content" name="Fallback_content">フォールバックコンテンツ</h2>

<p><code>&lt;canvas&gt; ... &lt;/canvas&gt;</code> タグの内部にあるコンテンツは、canvas のレンダリングをサポートしないブラウザ向けのフォールバックコンテンツとして使用できます。また支援技術 (スクリーンリーダーなど) ユーザーに対しても、タグ内のサブ DOM を読み上げたり対話することができますので、とても役に立ちます。この方法を示すよい例が <a href="http://www.html5accessibility.com/tests/canvas.html">html5accessibility.com</a> にあります:</p>

<pre class="brush: html">&lt;canvas&gt;
  &lt;h2&gt;Shapes&lt;/h2&gt;
  &lt;p&gt;A rectangle with a black border.
   In the background is a pink circle.
   Partially overlaying the &lt;a href=&quot;http://en.wikipedia.org/wiki/Circle&quot; onfocus=&quot;drawCircle();&quot; onblur=&quot;drawPicture();&quot;&gt;circle&lt;/a&gt;.
   Partially overlaying the circle is a green
   &lt;a href=&quot;http://en.wikipedia.org/wiki/Square&quot; onfocus=&quot;drawSquare();&quot; onblur=&quot;drawPicture();&quot;&gt;square&lt;/a&gt;
   and a purple &lt;a href=&quot;http://en.wikipedia.org/wiki/Triangle&quot; onfocus=&quot;drawTriangle();&quot; onblur=&quot;drawPicture();&quot;&gt;triangle&lt;/a&gt;,
   both of which are semi-opaque, so the full circle can be seen underneath.&lt;/p&gt;
&lt;/canvas&gt; </pre>

<p><a href="https://www.youtube.com/watch?v=ABeIFlqYiMQ">Steve Faulkner による、この例を NVDA がどのように読み上げるかを示した動画</a> もご覧ください。</p>

<h2 id="ARIA_rules" name="ARIA_rules">ARIA ルール</h2>

<p>Accessible Rich Internet Applications <strong>(<a href="/ja/docs/Web/Accessibility/ARIA">ARIA</a>)</strong> は、障がいがある人たちに対してウェブコンテンツやウェブアプリをよりアクセシブルにするための手段を定義しています。canvas 要素の振る舞いや目的を説明するために、ARIA 属性を使用できます。詳しくは <a href="/ja/docs/Web/Accessibility/ARIA">ARIA</a> や <a href="/ja/docs/Web/Accessibility/ARIA/ARIA_Techniques">ARIA techniques</a> をご覧ください。</p>

<pre class="brush: html">&lt;canvas id=&quot;button&quot; tabindex=&quot;0&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot; aria-label=&quot;Start game&quot;&gt;&lt;/canvas&gt;
</pre>

<h2 id="Hit_regions" name="Hit_regions">ヒット領域</h2>

<p>canvas 上の特定の領域内にマウス座標が存在するかは、解決する価値がある一般的な問題です。ヒット領域 API を使用して canvas 内の領域を定義することができます。また、canvas 上のインタラクティブコンテンツをアクセシビリティツールに公開する機能もあります。これによりヒット検出が容易になり、イベントを DOM 要素に送ることができます。この API には、以下の3つのメソッドがあります (これらは現行のウェブブラウザーでまだ実験的です。ブラウザー実装状況を確認してください)。</p>

<dl>
 <dt><a href="/ja/docs/Web/API/CanvasRenderingContext2D/addHitRegion" title="Canvas 2D APIのCanvasRenderingContext2D.addHitRegion()メソッドはビットマップにヒット領域を追加します。これにより、ヒット検出が容易になり、イベントをDOM要素にルートでき、ユーザーはcanvasを見なくても操作できるようになります。"><code>CanvasRenderingContext2D.addHitRegion()</code></a> <span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></dt>
 <dd>canvas にヒット領域を追加します。</dd>
 <dt><a href="/ja/docs/Web/API/CanvasRenderingContext2D/removeHitRegion" title="Canvas 2D APIのCanvasRenderingContext2D.removeHitRegion() メソッドは、canvasから与えられたヒット領域を削除します。"><code>CanvasRenderingContext2D.removeHitRegion()</code></a> <span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></dt>
 <dd>特定の <code>id</code> を持つヒット領域を、canvas から削除します。</dd>
 <dt><a href="/ja/docs/Web/API/CanvasRenderingContext2D/clearHitRegions" title="Canvas 2D APIのCanvasRenderingContext2D.clearHitRegions()メソッドはcanvasからすべてのヒット領域を削除します。"><code>CanvasRenderingContext2D.clearHitRegions()</code></a> <span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></dt>
 <dd>すべてのヒット領域を canvas から削除します。</dd>
</dl>

<p>たとえば以下のように、パスにヒット領域を追加して、その領域にマウスがヒットしたかを判断するために <a href="/ja/docs/Web/API/MouseEvent/region" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>MouseEvent.region</code></a> を確認できます。</p>

<pre class="brush: html">&lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;
&lt;script&gt;
var canvas = document.getElementById(&quot;canvas&quot;);
var ctx = canvas.getContext(&quot;2d&quot;);

ctx.beginPath();
ctx.arc(70, 80, 10, 0, 2 * Math.PI, false);
ctx.fill();
ctx.addHitRegion({id: &quot;circle&quot;});

canvas.addEventListener(&quot;mousemove&quot;, function(event) {
  if(event.region) {
    alert(&quot;hit region: &quot; + event.region);
  }
});
&lt;/script&gt;</pre>

<p><code>addHitRegion()</code> メソッドには、イベントを要素 (canvas の子孫要素) へ送るための <code>control</code> オプションがあります:</p>

<pre class="brush: js">ctx.addHitRegion({control: element});</pre>

<p>これはたとえば、<a href="/ja/docs/Web/HTML/Element/input" title="HTML の &lt;input&gt; 要素は、ユーザーからデータを受け取るための、ウェブベースのフォーム用の対話的なコントロールを作成するために使用します。"><code>&lt;input&gt;</code></a> 要素へイベントを送るのに有用です。<a href="http://codepen.io/adobe/pen/BhcmK">こちらの codepen demo</a> もご覧ください。</p>

<h2 id="Focus_rings" name="Focus_rings">フォーカスリング</h2>

<p>キーボードで操作するとき、フォーカスリングはページ上のナビゲーションを支援するために役に立つインジケーターです。canvas の描画物にフォーカスリングを描くために、<code>drawFocusIfNeeded</code> プロパティを使用できます。</p>

<dl>
 <dt><a href="/ja/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded" title="Canvas 2D APIのCanvasRenderingContext2D.drawFocusIfNeeded()メソッドは、パラメーターで与えられた要素がフォーカスした時に、現在のパスもしくは与えられたパスの周りにフォーカスリングを描画します。"><code>CanvasRenderingContext2D.drawFocusIfNeeded()</code></a> <span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></dt>
 <dd>指定した要素にフォーカスがあるとき、このメソッドは現在のパスの周囲にフォーカスリングを描きます。</dd>
</dl>

<p>また、たとえばフォーカスがある場合に要素をスクリーン上に見せるために、<code>scrollPathIntoView()</code> メソッドを使用できます。</p>

<dl>
 <dt><a href="/ja/docs/Web/API/CanvasRenderingContext2D/scrollPathIntoView" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>CanvasRenderingContext2D.scrollPathIntoView()</code></a> <span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></dt>
 <dd>現在のパスまたは指定したパスを表示するようにスクロールします。</dd>
</dl>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="https://www.w3.org/WAI/PF/HTML/wiki/Canvas_Accessibility_Use_Cases">Canvas accessibility use cases</a></li>
 <li><a href="https://www.w3.org/html/wg/wiki/AddedElementCanvas">Canvas element accessibility issues</a></li>
 <li><a href="http://www.paciellogroup.com/blog/2012/06/html5-canvas-accessibility-in-firefox-13/">HTML5 Canvas Accessibility in Firefox 13 – by Steve Faulkner</a></li>
 <li><a href="https://html.spec.whatwg.org/multipage/scripting.html#best-practices">Best practices for interactive canvas elements</a></li>
</ul>

<div><div style="text-align: right;" class="prevnext">
    <p><a style="float: left;" href="/ja/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas" class="button">« 前のページ</a><a href="/ja/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas" class="button">次のページ  »</a></p>
</div></div>
