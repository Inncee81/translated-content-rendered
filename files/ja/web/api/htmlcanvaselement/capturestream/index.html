---
title: HTMLCanvasElement.captureStream()
slug: Web/API/HTMLCanvasElement/captureStream
tags:
  - Canvas
  - Experimental
  - HTMLCanvasElement
  - Interface
  - Media
  - Media Capture DOM Elements
  - Method
  - Reference
  - Web
translation_of: Web/API/HTMLCanvasElement/captureStream
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/Media_Streams_API">Media Streams API</a></strong></li><li><strong><a href="/ja/docs/Web/API/HTMLCanvasElement"><code>HTMLCanvasElement</code></a></strong></li><li class="toggle"><details open><summary>プロパティ</summary><ol><li><a href="/ja/docs/Web/API/HTMLCanvasElement/height"><code>height</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/height$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span title="これは非推奨 API です。未だ動作しているかも知れませんが、将来的に削除される可能性があります。"><i class="icon-thumbs-down-alt"> </i></span></span><a href="/ja/docs/Web/API/HTMLCanvasElement/mozOpaque"><code>mozOpaque</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/mozOpaque$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement/width"><code>width</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/width$translate">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>メソッド</summary><ol><li><span class="sidebar-icon"><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><em><code>captureStream()</code></em></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement/getContext"><code>getContext()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/getContext$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/ja/docs/Web/API/HTMLCanvasElement/mozFetchAsStream"><code>mozFetchAsStream()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/mozFetchAsStream$translate">[翻訳する]</a></s></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span></span><a href="/ja/docs/Web/API/HTMLCanvasElement/mozGetAsFile"><code>mozGetAsFile()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/mozGetAsFile$translate">[翻訳する]</a></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement/toBlob"><code>toBlob()</code></a></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement/toDataURL"><code>toDataURL()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/toDataURL$translate">[翻訳する]</a></li><li><span class="sidebar-icon"><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span></span><a href="/ja/docs/Web/API/HTMLCanvasElement/transferControlToOffscreen"><code>transferControlToOffscreen()</code></a> <a style="opacity: 0.5;" href="/ja/docs/Web/API/HTMLCanvasElement/transferControlToOffscreen$translate">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>継承</summary><ol><li><a href="/ja/docs/Web/API/HTMLElement"><code>HTMLElement</code></a></li><li><a href="/ja/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/ja/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/ja/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>イベント</summary><ol><li><a href="/ja/docs/Web/Events/inactive"><code>inactive</code></a></li><li><a href="/ja/docs/Web/Events/active"><code>active</code></a></li><li><a href="/ja/docs/Web/Events/ended"><code>ended</code></a></li><li><a href="/ja/docs/Web/Events/mute"><code>mute</code></a></li><li><a href="/ja/docs/Web/Events/unmute"><code>unmute</code></a></li><li><a href="/ja/docs/Web/Events/overconstrained"><code>overconstrained</code></a></li><li><a href="/ja/docs/Web/Events/ratechange"><code>ratechange</code></a></li><li><a href="/ja/docs/Web/Events/removetrack"><code>removetrack</code></a></li><li><a href="/ja/docs/Web/Events/addtrack"><code>addtrack</code></a></li><li><a href="/ja/docs/Web/Events/started"><code>started</code></a></li><li><a href="/ja/docs/Web/Events/devicechange"><code>devicechange</code></a></li></ol></details></li><li class="toggle"><details open><summary>Media Capture and Streams に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/AudioStreamTrack"><code>AudioStreamTrack</code></a></li><li><a href="/ja/docs/Web/API/BlobEvent"><code>BlobEvent</code></a></li><li><a href="/ja/docs/Web/API/CanvasCaptureMediaStream"><code>CanvasCaptureMediaStream</code></a></li><li><a href="/ja/docs/Web/API/ConstrainBoolean"><code>ConstrainBoolean</code></a></li><li><a href="/ja/docs/Web/API/ConstrainDOMString"><code>ConstrainDOMString</code></a></li><li><a href="/ja/docs/Web/API/ConstrainDouble"><code>ConstrainDouble</code></a></li><li><a href="/ja/docs/Web/API/ConstrainLong"><code>ConstrainLong</code></a></li><li><a href="/ja/docs/Web/API/DoubleRange"><code>DoubleRange</code></a></li><li><a href="/ja/docs/Web/API/HTMLCanvasElement/captureStream"><code>HTMLCanvasElement.captureStream()</code></a></li><li><a href="/ja/docs/Web/API/LongRange"><code>LongRange</code></a></li><li><a href="/ja/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></li><li><a href="/ja/docs/Web/API/MediaStream"><code>MediaStream</code></a></li><li><a href="/ja/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a></li><li><a href="/ja/docs/Web/API/MediaStreamTrackEvent"><code>MediaStreamTrackEvent</code></a></li><li><a href="/ja/docs/Web/API/MediaTrackCapabilities"><code>MediaTrackCapabilities</code></a></li><li><a href="/ja/docs/Web/API/MediaTrackConstraints"><code>MediaTrackConstraints</code></a></li><li><a href="/ja/docs/Web/API/MediaTrackSettings"><code>MediaTrackSettings</code></a></li><li><a href="/ja/docs/Web/API/MediaTrackSupportedConstraints"><code>MediaTrackSupportedConstraints</code></a></li><li><a href="/ja/docs/Web/API/NavigatorUserMedia"><code>NavigatorUserMedia</code></a></li><li><a href="/ja/docs/Web/API/NavigatorUserMediaError"><code>NavigatorUserMediaError</code></a></li><li><a href="/ja/docs/Web/API/VideoStreamTrack"><code>VideoStreamTrack</code></a></li><li><a href="/ja/docs/Web/API/navigator/mediaDevices.getUserMedia"><code>navigator.mediaDevices.getUserMedia()</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><span title="これは実験段階の API です。製品内のコードで使用しないようご注意ください。"><i class="icon-beaker"> </i></span> <strong>これは<a href="/ja/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">実験的な機能</a>です。</strong>本番で使用する前に<a href="#Browser_compatibility">ブラウザー実装状況</a>をチェックしてください。</p>
</div></div>

<p><code><strong>HTMLCanvasElement</strong></code><strong><code>.captureStream()</code></strong> メソッドは、canvas の前面をリアルタイムにキャプチャした動画を <a href="/ja/docs/Web/API/CanvasCaptureMediaStream" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>CanvasCaptureMediaStream</code></a> として返すメソッドです。</p>

<h2 id="構文">構文</h2>

<pre class="syntaxbox"><var>MediaStream</var> = <var>canvas</var>.captureStream(<var>frameRate</var>);
</pre>

<h3 id="引数">引数</h3>

<dl>
 <dt><code>frameRate</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>キャプチャする際のフレームレートを倍精度浮動小数点数で指定します。指定しなかった場合、canvas が変化するたびにフレームが新しくキャプチャされます。0 を指定した場合、フレームが 1 枚だけキャプチャされます。</dd>
</dl>

<h3 id="戻り値">戻り値</h3>

<p><a href="/ja/docs/Web/API/MediaStream" title="MediaStream インターフェイスはメディアコンテンツを表現します。stream は音声やビデオトラックのようないくつかのトラックから構成されます。"><code>MediaStream</code></a> オブジェクトへの参照を返します。</p>

<h2 id="使用例">使用例</h2>

<pre class="brush: js">// キャプチャしたい canvas 要素を取得
var canvasElt = document.querySelector(&apos;canvas&apos;);

// ストリームの取得
var stream = canvasElt.captureStream(25); // 25 FPS

// 取得したストリームに対して何らかの処理を行う
// 例：RTCPeerConnection を使って別のコンピュータに送信
// ここで pc は既に生成された RTCPeerConnection オブジェクト
pc.addStream(stream);
</pre>

<h2 id="仕様">仕様</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">策定状況</th>
   <th scope="col">備考</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a lang="en" href="https://w3c.github.io/mediacapture-fromelement/#widl-HTMLCanvasElement-captureStream-CanvasCaptureMediaStream-double-frameRate" class="external" hreflang="en">Media Capture from DOM Elements<br><small lang="ja">HTMLCanvasElement.captureStream() の定義</small></a></td>
   <td><span class="spec-WD">草案</span></td>
   <td>初期定義</td>
  </tr>
 </tbody>
</table>

<h2 id="ブラウザ実装状況">ブラウザ実装状況</h2>

<p></p><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">現在、互換性データを可読形式の JSON フォーマットに置き換えているところです。</a></strong>
            この互換性一覧は古い形式を使っており、これに含まれるデータの置き換えが済んでいません。
            <strong><a href="/ja/docs/MDN/Contribute/Structures/Compatibility_tables">手助けしていただける場合は、こちらから！</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>デスクトップ</a></li>
        <li><a>モバイル</a></li>
    </ul>
</div><p></p>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td>51.0</td>
   <td><a href="/en-US/Firefox/Releases/43">43</a> (43)<sup>[1]</sup></td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td>36.0</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>機能</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Mobile</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>基本サポート</td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td>51.0</td>
   <td>51.0</td>
   <td>43.0 (43)</td>
   <td><span style="color: #f00;">未サポート</span></td>
   <td>38</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Firefox 41 / 42 では機能がデフォルトで無効となっています。 有効にする場合<code>は canvas.capturestream.enabled</code> の設定項目を <code>true</code> に変更してください。</p>

<h2 id="関連情報">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/API/CanvasCaptureMediaStream"><code>CanvasCaptureMediaStream</code></a> - 戻り値のインターフェイス</li>
 <li><a href="/ja/docs/Web/API/HTMLMediaElement/captureStream"><code>HTMLMediaElement.captureStream()</code></a> - media 要素からストリームをキャプチャするメソッド</li>
 <li><a href="/ja/docs/Web/API/MediaStream"><code>MediaStream</code></a></li>
 <li><a href="/ja/docs/Web/API/Media_Capture and Streams API"><code>Media Capture and Streams API</code></a></li>
</ul>
