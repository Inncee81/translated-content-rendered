---
title: CloseEvent
slug: Web/API/CloseEvent
tags:
  - API
  - Web
  - WebSocket
  - WebSockets
  - インターフェース
  - リファレンス
translation_of: Web/API/CloseEvent
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/ja/docs/Web/API/Websockets_API">Websockets API</a></strong></li><li><strong><a href="/ja/docs/Web/API/CloseEvent"><code>CloseEvent</code></a></strong></li><li class="toggle"><details open><summary>コンストラクター</summary><ol><li><a href="/ja/docs/Web/API/CloseEvent/CloseEvent"><code>CloseEvent()</code></a> <a href="/ja/docs/Web/API/CloseEvent/CloseEvent$translate" style="opacity: 0.5;">[翻訳する]</a></li></ol></details></li><li class="toggle"><details open><summary>継承</summary><ol><li><a href="/ja/docs/Web/API/Event"><code>Event</code></a></li></ol></details></li><li class="toggle"><details open><summary>Websockets API に関連するページ</summary><ol><li><a href="/ja/docs/Web/API/MessageEvent"><code>MessageEvent</code></a></li><li><a href="/ja/docs/Web/API/WebSocket"><code>WebSocket</code></a></li></ol></details></li></ol></section></div>

<p><code>CloseEvent</code> は、 <a href="/ja/docs/Glossary/WebSockets">WebSockets</a> を使用して接続が閉じられたときにクライアントに送信されます。これは <code>WebSocket</code> オブジェクトの <code>onclose</code> 属性で指定されたリスナーに配信されます。</p>

<h2 id="Constructor" name="Constructor">コンストラクター</h2>

<dl>
 <dt><a href="/ja/docs/Web/API/CloseEvent/CloseEvent"><code>CloseEvent()</code></a></dt>
 <dd>新しい <code>CloseEvent</code> を作成します。</dd>
</dl>

<h2 id="Properties" name="Properties">プロパティ</h2>

<p><em>このインタフェースは親である <a href="/ja/docs/Web/API/Event"><code>Event</code></a> からプロパティを継承します。</em></p>

<dl>
 <dt><a href="/ja/docs/Web/API/CloseEvent/code"><code>CloseEvent.code</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>サーバーが送信したクローズコードを含む <code>unsigned short</code> を返します。以下の値は許可されたステータスコードです。以下の定義は、 IANA のウェブサイト [<a href="https://www.iana.org/assignments/websocket/websocket.xml#close-code-number">Ref</a>] から供給されています。 1xxx コードは WebSocket 内部のみであり、転送されたデータと同じ意味ではありません (アプリケーション層プロトコルが無効な場合など)。 Firefox で指定できるコードは 1000 と 3000〜4999 [<a href="https://searchfox.org/mozilla-central/rev/bf81d741ff5dd11bb364ef21306da599032fd479/dom/websocket/WebSocket.cpp#2533">Source</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1467107">Bug</a>] のみです。
 <table class="standard-table" id="Status_codes">
  <tbody>
   <tr>
    <td class="header">ステータスコード</td>
    <td class="header">名前</td>
    <td class="header">説明</td>
   </tr>
   <tr>
    <td><code>0</code>–<code>999</code></td>
    <td></td>
    <td><strong>予約済みで使用されていません。</strong></td>
   </tr>
   <tr>
    <td><code>1000</code></td>
    <td>Normal Closure</td>
    <td>通常のクロージャ。接続が作成された目的に関係なく、接続は正常に完了しました。</td>
   </tr>
   <tr>
    <td><code>1001</code></td>
    <td>Going Away</td>
    <td>エンドポイントは、サーバーに障害が発生したか、またはブラウザーが接続を作成したページから離れようとしているために接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1002</code></td>
    <td>Protocol Error</td>
    <td>エンドポイントがプロトコルエラーのために接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1003</code></td>
    <td>Unsupported Data</td>
    <td>エンドポイントが受け入れられないタイプのデータを受信したため (たとえば、テキストのみのエンドポイントがバイナリデータを受信したとき)、接続が終了しています。</td>
   </tr>
   <tr>
    <td><code>1004</code></td>
    <td></td>
    <td><strong>予約済。</strong> 意味は将来定義されるかもしれません。</td>
   </tr>
   <tr>
    <td><code>1005</code></td>
    <td>No Status Received</td>
    <td><strong>予約済。</strong>予想されたにもかかわらずステータスコードが提供されなかったことを示します。</td>
   </tr>
   <tr>
    <td><code>1006</code></td>
    <td>Abnormal Closure</td>
    <td><strong>予約済。</strong>ステータスコードが必要なときに、接続が異常終了した (つまり、クローズフレームが送信されていない) ことを示すために使用されます。</td>
   </tr>
   <tr>
    <td><code>1007</code></td>
    <td>Invalid frame payload data</td>
    <td>矛盾したデータ (例えば、テキストメッセージ内の非 UTF-8 データ) を含むメッセージを受信したため、エンドポイントは接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1008</code></td>
    <td>Policy Violation</td>
    <td>エンドポイントはポリシーに違反するメッセージを受信したため、接続を終了しています。これは一般的なステータスコードであり、コード 1003 と 1009 が適切でない場合に使用されます。</td>
   </tr>
   <tr>
    <td><code>1009</code></td>
    <td>Message too big</td>
    <td>大きすぎるデータフレームを受信したため、エンドポイントは接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1010</code></td>
    <td>Missing Extension</td>
    <td>クライアントは、サーバーが1つ以上の拡張をネゴシエートすることを期待していましたがサーバーはそれを行わなかったため、サーバーは接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1011</code></td>
    <td>Internal Error</td>
    <td>サーバーは、予期しない条件が発生し要求の実行を妨げたため、接続を終了しています。</td>
   </tr>
   <tr>
    <td><code>1012</code></td>
    <td>Service Restart</td>
    <td>サーバーが再起動しているため、接続を終了しています。[<a href="https://www.ietf.org/mail-archive/web/hybi/current/msg09670.html">Ref</a>]</td>
   </tr>
   <tr>
    <td><code>1013</code></td>
    <td>Try Again Later</td>
    <td>サーバは、一時的な条件のために接続を終了しています。それはオーバーロードされ、クライアントの一部をキャストしています。[<a href="https://www.ietf.org/mail-archive/web/hybi/current/msg09670.html">Ref</a>]</td>
   </tr>
   <tr>
    <td><code>1014</code></td>
    <td>Bad Gateway</td>
    <td>サーバーがゲートウェイまたはプロキシとして機能し、アップストリームサーバーから無効なレスポンスを受信しました。これは 502 HTTP ステータスコードに似ています。</td>
   </tr>
   <tr>
    <td><code>1015</code></td>
    <td>TLS Handshake</td>
    <td><strong>予約済。</strong>TLS ハンドシェイクの実行に失敗 (サーバー証明書を確認できないなど) したために接続が閉じられたことを示します。</td>
   </tr>
   <tr>
    <td><code>1016</code>–<code>1999</code></td>
    <td></td>
    <td><strong>将来の WebSocket 標準での使用のために予約されています。</strong></td>
   </tr>
   <tr>
    <td><code>2000</code>–<code>2999</code></td>
    <td></td>
    <td><strong>WebSocket 拡張機能で使用するために予約されています。</strong></td>
   </tr>
   <tr>
    <td><code>3000</code>–<code>3999</code></td>
    <td></td>
    <td>ライブラリとフレームワークで使用できます。 アプリケーションによって使用<strong>されない可能性があります</strong>。先着順で IANA に登録できます。</td>
   </tr>
   <tr>
    <td><code>4000</code>–<code>4999</code></td>
    <td></td>
    <td>アプリケーションで使用することができます。</td>
   </tr>
  </tbody>
 </table>
 </dd>
 <dt><a href="/ja/docs/Web/API/CloseEvent/reason"><code>CloseEvent.reason</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>サーバーが接続を終了した理由を示す <a href="/ja/docs/Web/API/DOMString"><code>DOMString</code></a> を返します。これは特定のサーバーとサブプロトコルに固有です。</dd>
 <dt><a href="/ja/docs/Web/API/CloseEvent/wasClean"><code>CloseEvent.wasClean</code></a> <span class="readOnly readOnlyInline notecard inline" title="This value may not be changed.">読取専用 </span></dt>
 <dd>接続がきれいに閉じられたかどうかを示す <a href="/ja/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a> を返します。</dd>
</dl>

<h2 id="Methods" name="Methods">メソッド</h2>

<p><em>このインターフェースは親である <a href="/ja/docs/Web/API/Event"><code>Event</code></a> からメソッドを継承しています。</em></p>

<dl>
 <dt><a href="/ja/docs/Web/API/CloseEvent/initCloseEvent"><code>CloseEvent.initCloseEvent()</code></a> <span class="icon-only-inline" title="この API は標準化されていません。"><i class="icon-warning-sign"> </i></span> <span class="icon-only-inline" title="これは廃止されたAPIであり、今後の動作は保障されていません。ご注意下さい。"><i class="icon-trash"> </i></span></dt>
 <dd>作成された <code>CloseEvent</code> の値を初期化します。イベントがすでにディスパッチされている場合、このメソッドは何も行いません。このメソッドをもう使用しないでください。代わりに、<a href="/ja/docs/Web/API/CloseEvent/CloseEvent"><code>CloseEvent()</code></a> コンストラクタを使用してください。</dd>
</dl>

<h2 id="Specification" name="Specification">仕様書</h2>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">仕様書</th>
   <th scope="col">状態</th>
   <th scope="col">備考</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a class="external" href="https://html.spec.whatwg.org/multipage/web-sockets.html#the-closeevent-interface" hreflang="en" lang="en">HTML Living Standard<br><small lang="ja">CloseEvent の定義</small></a></td>
   <td><span class="spec-Living">現行の標準</span></td>
   <td>初回定義</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">ブラウザーの互換性</h2>

<div class="hidden">このページの互換性一覧表は構造化データから生成されています。データに協力していただけるのであれば、 <a class="external" href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> をチェックアウトしてプルリクエストを送信してください。</div>

<div class="bc-data" id="bcd:api.CloseEvent"></div>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="/ja/docs/Web/API/WebSocket"><code>WebSocket</code></a></li>
</ul>
