---
title: Firefox 21 for developers
slug: Mozilla/Firefox/Releases/21
tags:
  - Firefox
  - Firefox 21
translation_of: Mozilla/Firefox/Releases/21
---
<p>Gecko 21 を搭載した Firefox 21 は米国時間 2013 年 5 月 14 日にリリースされました。このページでは、開発者に影響する Firefox 20 の変更点をまとめています。</p>

<h2 id="Changes_for_Web_developers" name="Changes_for_Web_developers">Web 開発者向けの変更点一覧</h2>

<h3 id="HTML">HTML</h3>

<ul>
 <li><a href="/ja/docs/Web/HTML/Element/style" title="HTML の &lt;style> 要素は、文書あるいは文書の一部分のスタイル情報を含みます。"><code>&lt;style&gt;</code></a> 要素に <code><a href="/ja/docs/Web/HTML/Element/style#attr-scoped">scoped</a></code> 属性を追加しました。これは、ドキュメントの他の部分から隔離されたスタイルを含めることを可能にします。このようなスタイルは、Firefox 20 で導入した <a href="/ja/docs/Web/CSS/:scope" title=":scope は CSS の疑似クラスで、セレクターが選択する対象の参照点である要素を表します。"><code>:scope</code></a> CSS 擬似要素を使用して選択できます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=508725" title="FIXED: Implement HTML 5 scoped attribute on STYLE tag">バグ 508725</a>)。</li>
 <li>新たな HTML 要素 <a href="/ja/docs/Web/HTML/Element/main" title="HTML の &lt;main> 要素は、文書の &lt;body> の主要な内容を表します。主要な内容とは、文書の中心的な主題、またはアプリケーションの中心的な機能に直接関連または拡張した内容の範囲のことです。"><code>&lt;main&gt;</code></a> を実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=820508" title="FIXED: Add support for &lt;main> element">バグ 820508</a>)。</li>
</ul>

<h3 id="JavaScript">JavaScript</h3>

<ul>
 <li>旧式の JavaScript 拡張である <a href="/ja/docs/E4X" title="/ja/docs/E4X">E4X</a> を削除しました。Gecko しか実装せず、有意な牽引力は得られませんでした (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=788293" title="FIXED: Remove E4X from SpiderMonkey">バグ 788293</a>)。</li>
 <li><a href="https://developer.mozilla.org/ja/docs/JavaScript/Reference/Global_Objects/parseInt" title="JavaScript/Reference/Global_Objects/parseInt">parseInt</a> は、先頭が "0" の文字列を 8 進数として扱わないようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=786135" title='FIXED: Make parseInt("042") === 42, now that other engines are moving that way'>バグ 786135</a>)。</li>
</ul>

<h3 id="CSS">CSS</h3>

<ul>
 <li><a href="/ja/docs/Web/CSS/user-select" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>-moz-user-select</code></a> の値 <code>none</code> は、値 <code>-moz-none</code> と同じ動作になりました。Gecko が WebKit (Chrome, Safari)、Presto (Opera)、Trident (Internet Explorer) に合わせています (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=816298" title='FIXED: Change "-moz-user-select:none" to behave like WebKit, IE, and Opera (and "-moz-user-select:-moz-none")'>バグ 816298</a>)。</li>
 <li>XHTML コンテンツで <a href="/ja/docs/Web/CSS/hyphens" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>-moz-hyphens</code></a> の値 <code>auto</code> は、言語が明示的に宣言されていないときに間違ったハイフネーションルールを適用していました。これは (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=702121" title="FIXED: Incorrect hyphenation patterns used by CSS moz-hyphens in XHTML content (en-US patterns used, regardless of lang declaration)">バグ 702121</a>) で修正されました。</li>
 <li>CSS <a href="/ja/docs/Web/CSS/-moz-orient" title="CSS の -moz-orient プロパティは、適用される要素の向きを指定します。"><code>-moz-orient</code></a> プロパティに値 <code>auto</code> を追加しました。値 <code>auto</code> は <a href="/ja/docs/Web/HTML/Element/meter" title="HTML の &lt;meter> 要素は、既知の範囲内のスカラー値、または小数値を表します。"><code>&lt;meter&gt;</code></a> や <a href="/ja/docs/Web/HTML/Element/progress" title="HTML の &lt;progress> 要素は、タスクの進捗状況を表示します。プログレスバーとしてよく表示されます。"><code>&lt;progress&gt;</code></a> に適用されたときに、<code>horizontal</code> と同等です (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=835883" title="FIXED: Give the -moz-orient property an 'auto' value, and make that its initial value">バグ 835883</a>)。</li>
</ul>

<h3 id="DOM">DOM</h3>

<ul>
 <li><a href="/ja/docs/Web/API/Window/location" title="Window.location 読み取り専用プロパティは、document の現在位置についての情報を持つ Location オブジェクトを返します。"><code>window.location</code></a> に <code>origin</code> プロパティを追加しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=828261" title="FIXED: Implement `window.location.origin`.">バグ 828261</a>)。</li>
 <li><code>&lt;input type="time"&gt;</code> 向けに <code>valueAsDate</code> メソッドと <code>valueAsNumber</code> メソッドを追加しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=781570" title="FIXED: implement valueAsNumber and valueAsDate for input &lt;input type=time>">バグ 781570</a>)。</li>
 <li><code>&lt;input type="time"&gt;</code> に <code>min</code> 属性と <code>max</code> 属性が適用されるようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=781572" title="FIXED: implement the min and max attribute for &lt;input type=time>">バグ 781572</a>)。</li>
 <li>ボリュームコントロールのために、新たな keyCode をサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=674739" title="FIXED: Implement DOM3 KeyboardEvent types for audio">バグ 674739</a>)。</li>
 <li>AS/400 など昔のキーボードのレイアウト向けに、新たな keyCode を Windows および Linux でサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=833719" title="FIXED: Some function keys are not working since Firefox Version 15">バグ 833719</a>)。</li>
 <li>Windows で、OEM 特有のキー向けのさまざまな keyCode 値を再びサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=833719" title="FIXED: Some function keys are not working since Firefox Version 15">バグ 833719</a>)。</li>
 <li>関数 <a href="/ja/docs/DOM/window.crypto.getRandomValues" title="/ja/docs/DOM/window.crypto.getRandomValues"><code>window.crypto.getRandomValues</code></a> を実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=440046" title="FIXED: expose secure PRNG in the DOM (window.crypto.getRandomValues)">バグ 440046</a>)。</li>
</ul>

<h3 id="SVG">SVG</h3>

<ul>
 <li><a href="/ja/docs/Web/CSS/paint-order" title="CSS の paint-order プロパティで、テキストコンテンツやシェイプが描画されるときの塗りつぶしと輪郭 (およびマーカーの描画) の順序を制御することができます。"><code>paint-order</code></a> プロパティを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=828805" title="FIXED: implement paint-order property from SVG 2">バグ 828805</a>)。</li>
</ul>

<h3 id="Networking">Networking</h3>

<ul>
 <li>CSP 実装を CSP 1.0 仕様 (勧告候補になりました) に準拠させるよう更新する作業を続けています:
  <ul>
   <li>仕様書に準拠した <code>Content-Security-Policy</code> HTTP ヘッダを (実験的な <code>X-Content-Security-Policy</code> に加えて) サポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=783049" title="FIXED: CSP : use existing/old parser for X-Content-Security-Policy header, new/CSP 1.0 spec compliant parser for Content-Security-Policy header">バグ 783049</a>。<strong>注意</strong>: 新たなヘッダのパッチは Firefox 21 で投入しましたが、ビルド時は無効にしています (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=842657" title="FIXED: Flip the pref to enable the CSP 1.0 parser for Firefox">バグ 842657</a>)。</li>
  </ul>
 </li>
</ul>

<h3 id="Worker">Worker</h3>

<ul>
 <li><a href="/ja/docs/Web/API/Window/URL/createObjectURL" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>URL.createObjectURL</code></a> 関数と <a href="/ja/docs/Web/API/Window/URL/revokeObjectURL" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>URL.revokeObjectURL</code></a> 関数が、<a href="/ja/docs/DOM/Worker/Functions_available_to_workers" title="/ja/docs/DOM/Worker/Functions_available_to_workers">Worker で利用可能な関数</a>に加わりました。</li>
</ul>

<h2 id="Changes_for_add-on_and_Mozilla_developers" name="Changes_for_add-on_and_Mozilla_developers">アドオン開発者と Mozilla 開発者向けの変更点</h2>

<ul>
 <li>FUEL アプリケーションは Livemark Service を利用できません (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=834492" title="FIXED: Drop livemarks support from FUEL">バグ 834492</a>)。Livemark Service は非推奨になり段階的に廃止され、新たな非同期インターフェイスを採用します。</li>
 <li><code>resource:///modules/</code> と <code>resource://gre/modules/</code> は異なるものになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=755724" title="FIXED: Split platform and app resources up so that they can be loaded individually">バグ 755724</a>)。これは、metro 版の Firefox における作業のために行った変更です。<code>resource:///modules/</code> を使用してモジュールを読み込んでいる場合は、そうではなく <code>resource://gre/modules/</code> を使用したいのではないかを確認するべきです。また、一部のモジュールが Firefox から Toolkit に移動したことに注意してください (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=840287" title="FIXED: Work - Move NewTabUtils.jsm from /browser/modules to /toolkit/modules">バグ 840287</a> および <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=811548" title="FIXED: Work - Moving browser/components/thumbnails/ into toolkit">バグ 811548</a> で、<code>NewTabUtils.jsm</code> および thumbnail モジュールがそれぞれ移動しました)。</li>
 <li>Add-on SDK を Firefox に内蔵しました。(<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=731779" title="Integrate the Add-on SDK loader and API libraries into Firefox">バグ 731779</a>)</li>
 <li>多くの非推奨 API を参照していた古い API を削除しました:
  <ul>
   <li><code>mozIAsyncFavicons</code> で置き換え:
    <ul>
     <li><code>nsIFaviconService::setFaviconUrlForPage</code></li>
     <li><code>nsIFaviconService::setFaviconData</code></li>
     <li><code>nsIFaviconService::getFaviconData</code></li>
     <li><code>nsIFaviconService::getFaviconForPage</code></li>
     <li><code>nsIFaviconService::setAndLoadFaviconForPage</code></li>
     <li><code>nsIFaviconService::getFaviconImageForPage</code></li>
     <li><code>nsIFaviconService::getFaviconDataAsDataURL</code></li>
    </ul>
   </li>
   <li><code>mozIAsyncLivemarks</code> で置き換え:
    <ul>
     <li><code>nsILivemarkService::*</code></li>
     <li><code>PlacesUtils.itemIsLivemark</code></li>
     <li><code>PlacesUtils.nodeIsLivemarkContainer</code></li>
     <li><code>PlacesUtils.nodeIsLivemarkItem</code></li>
    </ul>
   </li>
   <li>第 3 引数のみ削除:
    <ul>
     <li><code>PlacesUIUtils.showBookmarkDialog</code></li>
    </ul>
   </li>
   <li>Places でこれ以上の実装はありませんので、代わりに <code>mozIAsyncHistory</code> を使用してください:
    <ul>
     <li><code>nsIGlobalHistory2::addURI</code></li>
     <li><code>nsIGlobalHistory2::isVisited</code></li>
     <li><code>nsIGlobalHistory2::setPageTitle</code></li>
    </ul>
   </li>
   <li>不要になりましたので、<code>onDeleteURI</code> または <code>onItemRemoved</code> を使用してください:
    <ul>
     <li><code>nsINavHistoryObserver::OnBeforeDeleteURI</code></li>
     <li><code>nsINavBookmarkObserver::OnBeforeItemRemoved</code></li>
    </ul>
   </li>
   <li>正しく実装されていません:
    <ul>
     <li><code>nsINavHistoryFullVisitResultNode</code></li>
    </ul>
   </li>
   <li>非推奨であり、代わりに <code>mozIAsyncHistory::updatePlaces</code> を使用してください:
    <ul>
     <li><code>nsINavHistoryService::AddVisit</code></li>
    </ul>
   </li>
  </ul>
 </li>
 <li>壊れやすいハックを行うことなく HTTP チャネルのリダイレクトを可能にする、nsIHttpChannel.redirectTo を追加しました。</li>
</ul>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="http://www.mozilla.jp/firefox/21.0/releasenotes/">Firefox 21 リリースノート</a></li>
 <li><a href="https://www.fxsitecompat.com/ja/versions/21/">Firefox 21 サイト互換性情報</a></li>
 <li><a href="https://dev.mozilla.jp/2013/04/firefox-21-addon-compatibility/">Firefox 21 アドオン互換性情報</a></li>
</ul>

<h3 id="Older_versions" name="Older_versions">過去のバージョン</h3>

<div class="multiColumnList">
<ul>
<li><a href="/ja/docs/Mozilla/Firefox/Releases/20">Firefox 20 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/19">Firefox 19 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/18">Firefox 18 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/17">Firefox 17 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/16">Firefox 16 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/15">Firefox 15 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/14">Firefox 14 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/13">Firefox 13 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/12">Firefox 12 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/11">Firefox 11 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/10">Firefox 10 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/9">Firefox 9 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/8">Firefox 8 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/7">Firefox 7 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/6">Firefox 6 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/5">Firefox 5 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/4">Firefox 4 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/3.6">Firefox 3.6 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/3.5">Firefox 3.5 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/3">Firefox 3 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/2">Firefox 2 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/1.5">Firefox 1.5 for developers</a></li></ul>
</div>
