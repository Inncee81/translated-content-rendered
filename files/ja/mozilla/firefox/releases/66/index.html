---
title: Firefox 66 for developers
slug: Mozilla/Firefox/Releases/66
tags:
  - '66'
  - Firefox
  - Mozilla
  - Release
translation_of: Mozilla/Firefox/Releases/66
---
<section class="Quick_links" id="Quick_Links">
  <ol>
    <li class="toggle">
        <details>
            <summary>Firefox developer release notes</summary>
            <ol>
              <li><a href="/ja/docs/Mozilla/Firefox/Releases">Firefox developer release notes</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Add-ons</summary>
            <ol>
              <li><a href="/ja/Add-ons/WebExtensions">Browser extensions</a></li>
              <li><a href="/ja/Add-ons/Themes">Themes</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Firefox internals</summary>
            <ol>
              <li><a href="/ja/docs/Mozilla/">Mozilla project</a></li>
              <li><a href="/ja/docs/Mozilla/Gecko">Gecko</a></li>
              <li><a href="/ja/docs/Mozilla/Firefox/Headless_mode">Headless mode</a></li>
              <li><a href="/ja/docs/Mozilla/JavaScript_code_modules">JavaScript code modules</a></li>
              <li><a href="/ja/docs/Mozilla/js-ctypes">JS-ctypes</a></li>
              <li><a href="/ja/docs/Mozilla/MathML_Project">MathML project</a></li>
              <li><a href="/ja/docs/Mozilla/MFBT">MFBT</a></li>
              <li><a href="/ja/docs/Mozilla/Projects">Mozilla projects</a></li>
              <li><a href="/ja/docs/Mozilla/Preferences">Preference system</a></li>
              <li><a href="/ja/docs/Mozilla/WebIDL_bindings">WebIDL bindings</a></li>
              <li><a href="/ja/docs/Mozilla/Tech/XPCOM">XPCOM</a></li>
              <li><a href="/ja/docs/Mozilla/Tech/XUL">XUL</a></li>
            </ol>
        </details>
    </li>
    <li class="toggle">
        <details>
            <summary>Building and contributing</summary>
            <ol>
              <li><a href="/ja/docs/Mozilla/Developer_guide/Build_Instructions">Build instructions</a></li>
              <li><a href="/ja/docs/Mozilla/Developer_guide/Build_Instructions/Configuring_Build_Options">Configuring build options</a></li>
              <li><a href="/ja/docs/Mozilla/Developer_guide/Build_Instructions/How_Mozilla_s_build_system_works">How the build system works</a></li>
              <li><a href="/ja/docs/Mozilla/Developer_guide/Source_Code/Mercurial">Mozilla source code</a></li>
              <li><a href="/ja/docs/Mozilla/Localization">Localization</a></li>
              <li><a href="/ja/docs/Mozilla/Mercurial">Mercurial</a></li>
              <li><a href="/ja/docs/Mozilla/QA">Quality assurance</a></li>
              <li><a href="/ja/docs/Mozilla/Using_Mozilla_code_in_other_projects">Using Mozilla code in other projects</a></li>
            </ol>
        </details>
    </li>
  </ol>
</section>

<p class="summary">Firefox 66 は、米国時間 2019 年 3 月 19 日 にリリースされました。このページでは、開発者に影響する Firefox 66 の変更点をまとめています。</p>

<h2 id="Changes_for_web_developers" name="Changes_for_web_developers">ウェブ開発者向けの変更点一覧</h2>

<h3 id="Developer_Tools" name="Developer_Tools">開発者ツール</h3>

<ul>
 <li><a href="/ja/docs/Tools/Web_Console">ウェブコンソール</a> のオートコンプリートのポップアップから、JavaScript の getter を実行できるようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1499289" title="FIXED: Allow to invoke getters in the autocomplete popup">バグ 1499289</a>)。</li>
 <li><a href="/ja/docs/Tools/Responsive_Design_Mode">レスポンシブデザインモード</a> で動作しなくなっていた、Window の <a href="/ja/docs/Web/API/Window/alert" title="Window.alert() メソッドは、オプションの指定されたコンテンツと OK ボタンを持つ警告ダイアログを表示します。"><code>alert()</code></a>、<a href="/ja/docs/Web/API/Window/prompt" title="ユーザにテキストを入力することを促すメッセージを持つダイアログを表示します。"><code>prompt()</code></a>、<a href="/ja/docs/Web/API/Window/confirm" title="Window.confirm() メソッドは、メッセージと、OK, キャンセルの 2 つのボタンを持つモーダルダイアログを表示します。"><code>confirm()</code></a> メソッドが再び動作するようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1273997" title="FIXED: alert, prompt, confirm don't work inside the viewport">バグ 1273997</a>)。</li>
 <li>コンソールの出力を右クリックして "<strong>表示メッセージをクリップボードにエクスポートする</strong>" を選択すると、コンソールの出力をクリップボードにコピーできます。</li>
</ul>

<h3 id="HTML" name="HTML">HTML</h3>

<ul>
 <li><code>file:</code> URL から読み込んだ UTF-8 エンコードされた HTML (およびプレーンテキスト) ファイルについて、<code>&lt;meta charset="utf-8"&gt;</code> または UTF-8 BOM がないものもサポートしました。このようなファイルをサーバーにアップロードする前に、ローカル環境で作業しやすくするためです。サーバーでは、このようなファイルに <code>Content-Type</code> HTTP ヘッダーで <code>charset=utf-8</code> を送信しなければなりません。ローカルファイルで使用する検出方法は、ネットワーク環境の逐次読み込みで問題が発生します (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1071816" title="FIXED: Support loading BOMless UTF-8 text/plain files from file: URLs">バグ 1071816</a>)。</li>
</ul>

<h4 id="Removals" name="Removals">廃止</h4>

<ul>
 <li><a href="/ja/docs/Web/HTML/Element/input" title="HTML の &lt;input> 要素は、ユーザーからデータを受け取るための、ウェブベースのフォーム用の対話的なコントロールを作成するために使用します。"><code>&lt;input&gt;</code></a> 要素から <code>x-moz-errormessage</code> 属性を削除しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1513890" title="FIXED: Remove 'x-moz-errormessage' attribute">バグ 1513890</a>)。独自の検証メッセージを実装するには、代わりに <a href="/ja/docs/Web/API/Constraint_validation" title="この項目についての文書はまだ書かれていません。書いてみませんか？">Constraint validation 機能</a> を使用してください。</li>
</ul>

<h3 id="CSS" name="CSS">CSS</h3>

<ul>
 <li><a href="https://drafts.csswg.org/css-scroll-anchoring/">Scroll anchoring</a> を、デスクトップ版 Firefox に実装しました (モバイル版は未実装です)。<a href="/ja/docs/Web/CSS/overflow-anchor" title="overflow-anchor は CSS のプロパティで、コンテンツの移動を最小化するためにスクロール位置を調整する、ブラウザーのスクロールアンカリングの動作をオプトアウトする方法を提供します。"><code>overflow-anchor</code></a> プロパティを含みます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1305957" title='FIXED: Page scroll position is not consistent while content is loading (implement "scroll anchoring")'>バグ 1305957</a>)。</li>
 <li><a href="/ja/docs/Web/CSS/Attribute_selectors">属性セレクター</a> で、大文字・小文字の区別に関する修飾子 <code>s</code> をサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1512386" title="FIXED: Case-sensitive attribute selectors (from Selectors level 4)">バグ 1512386</a>)。</li>
 <li>いくつかの <a href="/ja/docs/Web/CSS/CSS_Logical_Properties">論理的プロパティ</a> ショートハンドと、フローに関係する border radius プロパティを実装しました:
  <ul>
   <li><a href="/ja/docs/Web/CSS/padding-block" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>padding-block</code></a> および <a href="/ja/docs/Web/CSS/padding-inline" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>padding-inline</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1519847" title="FIXED: [css-logical] Implement the padding-block/inline shorthands">バグ 1519847</a>)。</li>
   <li><a href="/ja/docs/Web/CSS/margin-block" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>margin-block</code></a> および <a href="/ja/docs/Web/CSS/margin-inline" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>margin-inline</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1519944" title="FIXED: [css-logical] Implement the margin-block/inline shorthands">バグ 1519944</a>)。</li>
   <li><a href="/ja/docs/Web/CSS/inset" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>inset</code></a>、<a href="/ja/docs/Web/CSS/inset-block" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>inset-block</code></a>、<a href="/ja/docs/Web/CSS/inset-inline" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>inset-inline</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1520229" title="FIXED: [css-logical] Implement the inset/inset-block/inline shorthands">バグ 1520229</a>)。</li>
   <li><a href="/ja/docs/Web/CSS/border-block-color" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-block-color</code></a>、<a href="/ja/docs/Web/CSS/border-block-style" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-block-style</code></a>、<a href="/ja/docs/Web/CSS/border-block-width" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-block-width</code></a>、<a href="/ja/docs/Web/CSS/border-inline-color" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-inline-color</code></a>、<a href="/ja/docs/Web/CSS/border-inline-style" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-inline-style</code></a>、<a href="/ja/docs/Web/CSS/border-inline-width" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-inline-width</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1520236" title="FIXED: [css-logical] Implement the border-{block,inline}-{color,style,width} shorthands">バグ 1520236</a>)。</li>
   <li><a href="/ja/docs/Web/CSS/border-block" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-block</code></a>、<a href="/ja/docs/Web/CSS/border-inline" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-inline</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1520396" title="FIXED: [css-logical] Implement the border-block/border-inline shorthands">バグ 1520396</a>)。</li>
   <li><a href="/ja/docs/Web/CSS/border-start-start-radius" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-start-start-radius</code></a>、<a href="/ja/docs/Web/CSS/border-start-end-radius" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-start-end-radius</code></a>、<a href="/ja/docs/Web/CSS/border-end-start-radius" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-end-start-radius</code></a>、<a href="/ja/docs/Web/CSS/border-end-end-radius" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>border-end-end-radius</code></a> (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1520684" title="FIXED: [css-logical] Implement the flow-relative border-radius properties">バグ 1520684</a>)。</li>
  </ul>
 </li>
 <li><a href="/ja/docs/Web/CSS/@media/overflow-inline" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>overflow-inline</code></a> および <a href="/ja/docs/Web/CSS/@media/overflow-block" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>overflow-block</code></a> メディアクエリーを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1422235" title="FIXED: Implement overflow media queries">バグ 1422235</a>)。</li>
 <li>仕様書で公表された規則に従って、<a href="/ja/docs/Web/CSS/grid-template-columns" title="CSS の grid-template-columns プロパティは、グリッド列のライン名とトラックのサイズ変更機能を定義します。"><code>grid-template-columns</code></a> および <a href="/ja/docs/Web/CSS/grid-template-rows" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>grid-template-rows</code></a> のアニメーションを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1348519" title="FIXED: [css-grid] Implement animation for grid-template-columns/rows">バグ 1348519</a>)。</li>
 <li>テーブルのセルや列の幅で、パーセンテージを使用した <a href="/ja/docs/Web/CSS/calc" title="CSS の calc() 関数は、 CSS のプロパティ値を指定する際に計算を行うことができるものです。 &lt;length>, &lt;frequency>, &lt;angle>, &lt;time>, &lt;percentage>, &lt;number>, &lt;integer> が利用できる場所ならば使用できます。"><code>calc</code></a> をサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=957915" title="FIXED: Support calc() with percentages for table cell and column widths">バグ 957915</a>)。</li>
 <li><code>min-content</code> および <code>max-content</code> キーワードが、接頭辞なしで使用可能になりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1322780" title="FIXED: Unprefix min-content and max-content keywords">バグ 1322780</a>)。これらは以下のプロパティに設定できます:
  <ul>
   <li><a href="/ja/docs/Web/CSS/width" title="CSS の width プロパティは、要素の幅を設定します。既定では、このプロパティはコンテンツ領域の幅を設定しますが、 box-sizing を border-box に設定すると、境界領域の幅を設定します。"><code>width</code></a></li>
   <li><a href="/ja/docs/Web/CSS/height" title="CSS の height プロパティは、要素の高さを指定します。既定では、このプロパティはコンテンツ領域の高さを定義します。しかし、 box-sizing が border-box に設定されていた場合は、 境界領域の高さを定義します。"><code>height</code></a></li>
   <li><a href="/ja/docs/Web/CSS/flex-basis" title="CSS の flex-basis プロパティは、フレックスアイテムの主要部分の初期の寸法を設定します。 box-sizing で設定していない限り、このプロパティはコンテンツボックスの寸法を定義します。"><code>flex-basis</code></a></li>
   <li><a href="/ja/docs/Web/CSS/min-width" title="min-width は、要素の最小幅を指定する CSS プロパティです。 width プロパティの 使用値 が、min-width で指定した値を下回らないようにします。"><code>min-width</code></a></li>
   <li><a href="/ja/docs/Web/CSS/max-width" title="max-width は要素に与えられる幅の上限を指定する為に用いる CSS プロパティです。このプロパティは、 width プロパティの値が max-width で指定された値より大きくなることを防ぎます。"><code>max-width</code></a></li>
   <li><a href="/ja/docs/Web/CSS/min-height" title="CSS の min-height プロパティは要素の最小の高さを設定するのに使われます。height プロパティの 使用値 は、min-height に指定した値よりも小さくなりません。"><code>min-height</code></a></li>
   <li><a href="/ja/docs/Web/CSS/max-height" title="CSS の max-height プロパティは要素の最大の高さを設定するのに使われます。height プロパティの使用値は、max-height に設定した値よりも大きくなりません。"><code>max-height</code></a></li>
   <li><a href="/ja/docs/Web/CSS/min-block-size" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>min-block-size</code></a></li>
   <li><a href="/ja/docs/Web/CSS/min-inline-size" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>min-inline-size</code></a></li>
   <li><a href="/ja/docs/Web/CSS/max-block-size" title="CSS の max-block-size プロパティは、 writing-mode で指定された書字方向とは逆の向きの要素の最大寸法を指定します。"><code>max-block-size</code></a></li>
   <li><a href="/ja/docs/Web/CSS/max-inline-size" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>max-inline-size</code></a></li>
   <li><a href="/ja/docs/Web/CSS/block-size" title="block-size CSS プロパティは、要素ブロックの writing-mode に応じた水平または垂直方向のサイズを定義します。これは、writing-mode に指定された値に依存し、width または height プロパティに相当します。"><code>block-size</code></a></li>
   <li><a href="/ja/docs/Web/CSS/inline-size" title="inline-size CSS プロパティは、要素ブロックの writing-mode に応じた水平または垂直方向のサイズを定義します。これは、writing-mode に指定された値に依存し、width または height プロパティに相当します。"><code>inline-size</code></a></li>
  </ul>
 </li>
</ul>

<h3 id="SVG" name="SVG">SVG</h3>

<p><em>変更なし。</em></p>

<h4 id="Removals_2" name="Removals_2">廃止</h4>

<ul>
 <li><code><a href="/ja/docs/XML_introduction/xml:base">xml:base</a></code> 属性のサポートを廃止しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=903372" title="FIXED: Remove support for xml:base">バグ 903372</a>)。</li>
</ul>

<h3 id="JavaScript" name="JavaScript">JavaScript</h3>

<p><em>変更なし。</em></p>

<h3 id="APIs" name="APIs">API</h3>

<h4 id="New_APIschanges" name="New_APIschanges">API の追加と変更</h4>

<ul>
 <li>Release 版の Firefox 66 を公開した後すみやかに、音声の自動再生がデフォルトでブロックされます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1487844" title="FIXED: Flip block autoplay prefs to turn the feature on">バグ 1487844</a>。ロールアウトについては <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1535667" title="FIXED: Gradual rollout of block autoplay on release 66">バグ 1535667</a> をご覧ください)。この機能は、すべてのユーザーへ段階的に適用されます。</li>
</ul>

<h4 id="DOM" name="DOM">DOM</h4>

<ul>
 <li><a href="/ja/docs/Web/API/HTMLSlotElement/assignedElements" title="assignedElements() は HTMLSlotElement インターフェイスのプロパティで、このスロットに割り当てられた一連の要素を返します (そしてそれ以外の要素を除きます)。 flatten オプションが true に設定されていた場合は、このスロットの子孫である他のスロットに割り当てられた要素も返します。割り当てられたノードが見つからない場合は、スロットの代替コンテンツを返します。"><code>HTMLSlotElement.assignedElements()</code></a> メソッドを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1425685" title="FIXED: Implement &lt;slot>'s assignedElements()">バグ 1425685</a>)。</li>
 <li><a href="/ja/docs/Web/API/TextEncoder/encodeInto" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>TextEncoder.encodeInto()</code></a> メソッドを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1514664" title="FIXED: Implement TextEncoder.encodeInto() for faster JS/Wasm interop">バグ 1514664</a>)。</li>
</ul>

<h4 id="DOM_events" name="DOM_events">DOM イベント</h4>

<ul>
 <li><a href="/ja/docs/Web/API/InputEvent/inputType" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>InputEvent.inputType</code></a> プロパティを実装しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1447239" title="FIXED: [Input Events] Implement InputEvent.inputType">バグ 1447239</a>)。</li>
 <li><a href="/ja/docs/Web/API/Window/event" title="Window の読み取り専用プロパティである event は、現在サイトのコードが処理している Event を返します。イベントハンドラーのコンテキスト外では、値が常に undefined になります。"><code>Window.event</code></a> および <a href="/ja/docs/Web/API/Event/returnValue" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>Event.returnValue</code></a> プロパティ (元は IE の独自機能であり、互換性の理由でほかのブラザーもサポートしました) を、Firefox 66 で再導入しました。それぞれバージョン 63 や 64 で追加した後、互換性の問題で再び削除していました。</li>
 <li>バージョン 66 より、<code><a href="/ja/docs/Web/Reference/Events/keypress" title="/ja/docs/Web/Reference/Events/keypress">keypress</a></code> イベントオブジェクトの <a href="/ja/docs/Web/API/KeyboardEvent/keyCode" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>KeyboardEvent.keyCode</code></a> プロパティが 0 であるとき、値が <a href="/ja/docs/Web/API/KeyboardEvent/charCode" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>KeyboardEvent.charCode</code></a> と同じになります。逆に <code>charCode</code> が 0 であるときは、<code>keyCode</code> と同じ値になります。このミラーリング動作はほかのブラウザーと一致しており、これに関連する互換性の問題のほとんどが解決すると思われます。ただし 一部の JavaScript ライブラリーで、ブラウザー検出によって新たな問題が発生する可能性があります。仕様書の用語では、<em>split model</em> から <em>conflated model</em> に切り替えました (UI Event 仕様書の <a href="https://w3c.github.io/uievents/#determine-keypress-keyCode">How to determine keyCode for keypress events</a> をご覧ください)。</li>
</ul>

<h4 id="Media_Web_Audio_and_WebRTC" name="Media_Web_Audio_and_WebRTC">メディア、Web Audio、WebRTC</h4>

<ul>
 <li>新しい <a href="/ja/docs/Web/Media/Formats/Video_codecs#AV1">AV1 動画コーデック</a> を macOS および Windows (Intel プロセッサー用) で、デフォルトで有効にしました。Linux は Firefox 67 でサポートする予定です (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1521181" title="FIXED: Pref on RDD/AV1 for OSX">バグ 1521181</a>、<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1452146" title="FIXED: Flip AV1 pref (media.av1.enabled) for Windows to true">バグ 1452146</a>、<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1534814" title="FIXED: Pref on RDD/AV1 for Linux">バグ 1534814</a>)。</li>
 <li><a href="/ja/docs/Web/API/MediaDevices" title="MediaDevices インターフェイスは、カメラやマイク、同様に画面共有のような接続されたメディア入力デバイスへのアクセスを提供します。要するに、メディアデータのソースであるハードウェアにアクセスすることができるようになります。"><code>MediaDevices</code></a> の <a href="/ja/docs/Web/API/MediaDevices/getDisplayMedia" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>getDisplayMedia()</code></a> メソッド (<code>navigator.mediaDevices.getDisplayMedia()</code> として使用可能) を追加して、仕様書に一致させました。このメソッドは、スクリーンまたはスクリーンの一部を <a href="/ja/docs/Web/API/MediaStream" title="MediaStream インターフェイスはメディアコンテンツを表現します。stream は音声やビデオトラックのようないくつかのトラックから構成されます。"><code>MediaStream</code></a> として取得して、操作または共有できます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1321221" title="FIXED: Implement getDisplayMedia for screen capture to comply with spec changes">バグ 1321221</a>)。</li>
 <li>スクリーンやウィンドウの内容を取得するための、Firefox 独自の <a href="/ja/docs/Web/API/MediaDevices/getUserMedia" title="MediaDevices.getUserMedia() メソッドは、要求された種類のメディアを含むトラックを持つ MediaStream を生成するメディア入力を使用する許可をユーザーに求めます。このストリームには、例えば、動画トラック (カメラ、ビデオ録画機器、スクリーン共有サービスなどのような、ハードウェアまたは仮想ビデオソースによって生み出される)、音声トラック (同様に、マイク、A/D 変換器などの物理的または仮想オーディオソースによって生み出される)、その他の可能な種別を含めることができます。"><code>getUserMedia()</code></a> に基づくメソッドを最終的に非推奨にする取り組みの一部として、非標準の <code>mediaSource</code> 定数を値 <code>screen</code> および <code>window</code> と同等に扱うようになりました。どちらも、ユーザーが選択するスクリーンやウィンドウのリストを提供します (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1474376" title='FIXED: Make mediaSource legacy constraint values "screen" and "window" mean the same'>バグ 1474376</a>)。</li>
 <li>ローカル出力の <a href="/ja/docs/Web/API/RTCRTPStreamStats" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>RTCRTPStreamStats</code></a> オブジェクトに <a href="/ja/docs/Web/API/RTCRtpStreamStats/qpSum" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>qpSum</code></a> を追加しました。これは、ビデオトラックで送受信するすべてのフレームの量子化パラメーターの合計を表します。この値が高ければ、ストリームはより圧縮されていると考えられます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1347070" title="FIXED: Add qpSum to local outbound RTCRTPStreamStats">バグ 1347070</a>)。</li>
 <li>将来の Firefox で Feature Policy をサポートするための取り組みで、コンテンツに適切なオリジンが存在しない状況では <a href="/ja/docs/Web/API/MediaDevices/getUserMedia" title="MediaDevices.getUserMedia() メソッドは、要求された種類のメディアを含むトラックを持つ MediaStream を生成するメディア入力を使用する許可をユーザーに求めます。このストリームには、例えば、動画トラック (カメラ、ビデオ録画機器、スクリーン共有サービスなどのような、ハードウェアまたは仮想ビデオソースによって生み出される)、音声トラック (同様に、マイク、A/D 変換器などの物理的または仮想オーディオソースによって生み出される)、その他の可能な種別を含めることができます。"><code>getUserMedia()</code></a> を使用できなくなりました。例えばサンドボックス化された <a href="/ja/docs/Web/HTML/Element/iframe" title="HTML のインラインフレーム要素 (&lt;iframe>) は、入れ子になった閲覧コンテキストを表現し、現在の HTML ページに他のページを埋め込むことができます。"><code>&lt;iframe&gt;</code></a>、ユーザーがアドレスバーに入力した <code>data</code> URL から呼び出した場合です。詳しくは <a href="/ja/docs/Web/API/MediaDevices/getUserMedia#Security" title="MediaDevices.getUserMedia() メソッドは、要求された種類のメディアを含むトラックを持つ MediaStream を生成するメディア入力を使用する許可をユーザーに求めます。このストリームには、例えば、動画トラック (カメラ、ビデオ録画機器、スクリーン共有サービスなどのような、ハードウェアまたは仮想ビデオソースによって生み出される)、音声トラック (同様に、マイク、A/D 変換器などの物理的または仮想オーディオソースによって生み出される)、その他の可能な種別を含めることができます。">Security</a> in <a href="/ja/docs/Web/API/MediaDevices/getUserMedia" title="MediaDevices.getUserMedia() メソッドは、要求された種類のメディアを含むトラックを持つ MediaStream を生成するメディア入力を使用する許可をユーザーに求めます。このストリームには、例えば、動画トラック (カメラ、ビデオ録画機器、スクリーン共有サービスなどのような、ハードウェアまたは仮想ビデオソースによって生み出される)、音声トラック (同様に、マイク、A/D 変換器などの物理的または仮想オーディオソースによって生み出される)、その他の可能な種別を含めることができます。">MediaDevices.getUserMedia()</a> をご覧ください (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1371741" title="FIXED: Disallow getUserMedia on nullprincipals (sandboxed iframes, top-level data urls).">バグ 1371741</a>)。</li>
</ul>

<h4 id="Removals_3" name="Removals_3">廃止</h4>

<ul>
 <li>WebRTC の古い <a href="/ja/docs/Web/API/PeerConnection/getStats" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>PeerConnection.getStats()</code></a> メソッドと、これに関連付けられた型を削除しました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1328194" title="FIXED: Remove legacy PeerConnection.getStats and associated legacy stats type">バグ 1328194</a>)。</li>
</ul>

<h3 id="Networking" name="Networking">ネットワーク</h3>

<ul>
 <li><a href="/ja/docs/Web/HTTP/Headers/Accept" title="HTTP の Accept リクエストヘッダーは、クライアントが理解できるコンテンツタイプを MIME タイプで伝えます。 コンテンツネゴシエーションを使用して、サーバーは提案のうちの一つを選択し、それを使用してクライアントに Content-Type レスポンスヘッダーで選択を伝えます。ブラウザーはリクエストを行う場面に応じて適切な値をこのヘッダーに設定します。 CSS スタイルシートを取得するときは、画像、動画、スクリプトを取得するときとは異なる値をリクエストで設定します。"><code>Accept</code></a> ヘッダーの既定値が <code>*/*</code> になりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1417463" title="FIXED: consider changing default accept header to */*">バグ 1417463</a>)。</li>
</ul>

<h3 id="Security" name="Security">セキュリティ</h3>

<p><em>変更なし。</em></p>

<h3 id="Plugins" name="Plugins">プラグイン</h3>

<p><em>変更なし。</em></p>

<h3 id="WebDriver_conformance_(Marionette)" name="WebDriver_conformance_(Marionette)">WebDriver conformance (Marionette)</h3>

<h4 id="API_changes" name="API_changes">API の変更点</h4>

<ul>
 <li>新しいブラウジングコンテキストを開く操作をサポートするため <code>WebDriver:NewWindow</code> を追加しました。ウィンドウまたはタブのいずれかを開くことができます (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1504756" title='FIXED: Implement "WebDriver:NewWindow" command'>バグ 1504756</a>)。</li>
 <li>指定した要素が現在のブラウジングコンテキストに含まれていない場合に、<code>WebDriver:SwitchToFrame</code> で <code>no such element</code> エラーが発生するようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1517196" title="FIXED: Invalid frame id doesn't cause a &quot;no such frame&quot; error to be raised">バグ 1517196</a>)。</li>
 <li><code>WebDriver:ExecuteScript</code> および <code>WebDriver:ExecuteAsyncScript</code> が、仕様書に準拠しない <code>scriptTimeout</code> 引数をサポートしないようになりました。代わりに <code>WebDriver:SetTimeout</code> または <code>timeouts</code> 機能を使用してください (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1510929" title='FIXED: Remove "script_timeout" parameter from Execute (Async) Script'>バグ 1510929</a>)。
  <ul>
   <li>さらに、不定のスクリプトタイムアウトをサポートしました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1128997" title="FIXED: Support indefinite script timeout">バグ 1128997</a>)。</li>
  </ul>
 </li>
 <li><code>WebDriver:SetWindowRect</code> が、応答でウィンドウの状態を返さないようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1517587" title='FIXED: "WebDriver:SetWindowRect" should not return window state'>バグ 1517587</a>)。</li>
</ul>

<h4 id="Bug_fixes" name="Bug_fixes">バグ修正</h4>

<ul>
 <li><code>WebDriver:TakeScreenshot</code> が、ビューポートの寸法に代わって <a href="/ja/docs/Web/API/Document/documentElement" title="Document.documentElement は、その document のルート要素 (例えば、 HTML 文書の場合は &lt;html> 要素) である Element を返します。"><code>Document.documentElement</code></a> の <a href="/ja/docs/Web/API/Element/clientWidth" title="Element.clientWidth プロパティは、 CSS やインラインレイアウトボックスのない要素にはゼロになります。そうでなければ、ピクセル単位で要素の内側の寸法を表します。要素のパディングは含みますが、境界線、マージン、 (もしあれば) 垂直スクロールバーは含みません。"><code>Element.clientWidth</code></a> および <a href="/ja/docs/Web/API/Element/clientHeight" title="概要"><code>Element.clientHeight</code></a> プロパティを使用するようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1385706" title="FIXED: WebDriver:TakeScreenshot uses document element’s clientWidth/clientHeight instead of viewport dimensions">バグ 1385706</a>)。</li>
 <li>ウィンドウ操作コマンドがプラットフォームをまたいで確かに動作するようにするため、さまざまな修正を行いました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1522408" title="FIXED: &quot;WebDriver:MinimizeWindow&quot; and &quot;WebDriver:FullscreenWindow&quot; don't initially restore normal window state">バグ 1522408</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1478358" title='FIXED: "WebDriver:SetWindowRect" throws invalid TimeoutError if window is resized to a not reachable dimension'>バグ 1478358</a>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1489955" title="FIXED: Sporadic hangs in WebDriver:SetWindowRect">バグ 1489955</a>)。</li>
</ul>

<h2 id="Changes_for_add-on_developers" name="Changes_for_add-on_developers">アドオン開発者向けの変更点</h2>

<h3 id="API_changes_2" name="API_changes_2">API の変更点</h3>

<h4 id="Menus" name="Menus">メニュー</h4>

<ul>
 <li><a href="/ja/docs/Mozilla/Add-ons/WebExtensions/API/menus/ContextType" title="この項目についての文書はまだ書かれていません。書いてみませんか？"><code>type</code></a> が "bookmark" である拡張機能のメニュー項目が、ブックマークサイドバー (<kbd>Ctrl</kbd> + <kbd>B</kbd>) およびライブラリーウィンドウ (<kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>B</kbd>) にも表示されるようになりました (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1419195" title="FIXED: WebExtension bookmarks context menu items should appear in bookmarks sidebar and library window">バグ 1419195</a>)。</li>
</ul>

<h3 id="Manifest_changes" name="Manifest_changes">マニフェストの変更点</h3>

<p><em>変更なし。</em></p>

<h2 id="See_also" name="See_also">関連情報</h2>

<ul>
 <li><a href="https://www.mozilla.org/en-US/firefox/66.0/releasenotes/">Firefox 66.0, See All New Features, Updates and Fixes</a></li>
 <li><a href="https://www.fxsitecompat.com/versions/66/">Firefox 66 サイト互換性情報</a></li>
</ul>

<h2 id="Older_versions" name="Older_versions">過去のバージョン</h2>

<div class="multiColumnList">
<ul>
<li><a href="/ja/docs/Mozilla/Firefox/Releases/65">Firefox 65 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/64">Firefox 64 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/63">Firefox 63 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/62">Firefox 62 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/61">Firefox 61 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/60">Firefox 60 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/59">Firefox 59 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/58">Firefox 58 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/57">Firefox 57 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/56">Firefox 56 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/55">Firefox 55 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/54">Firefox 54 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/53">Firefox 53 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/52">Firefox 52 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/51">Firefox 51 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/50">Firefox 50 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/49">Firefox 49 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/48">Firefox 48 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/47">Firefox 47 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/46">Firefox 46 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/45">Firefox 45 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/44">Firefox 44 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/43">Firefox 43 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/42">Firefox 42 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/41">Firefox 41 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/40">Firefox 40 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/39">Firefox 39 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/38">Firefox 38 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/37">Firefox 37 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/36">Firefox 36 for developers</a></li><li><a href="/ja/docs/Mozilla/Firefox/Releases/35">Firefox 35 for developers</a></li></ul>
</div>
