---
title: IDBDatabase.transaction()
slug: Web/API/IDBDatabase/transaction
tags:
  - Almacenamiento
  - Base de datos
  - Referencia
  - metodo
  - transacción
translation_of: Web/API/IDBDatabase/transaction
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/es/docs/Web/API/IndexedDB_API">IndexedDB API</a></strong></li><li><strong><a href="/es/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></strong></li><li class="toggle"><details open><summary>Propiedades</summary><ol><li><a href="/es/docs/Web/API/IDBDatabase/name"><code>name</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/name$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/objectStoreNames"><code>objectStoreNames</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/objectStoreNames$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/onabort"><code>onabort</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/onabort$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/onclose"><code>onclose</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/onclose$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/onerror"><code>onerror</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/onerror$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/onversionchange"><code>onversionchange</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/onversionchange$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/version"><code>version</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/version$translate">[Traducir]</a></li></ol></details></li><li class="toggle"><details open><summary>Métodos</summary><ol><li><a href="/es/docs/Web/API/IDBDatabase/close"><code>close()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/close$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/createObjectStore"><code>createObjectStore()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/createObjectStore$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/IDBDatabase/deleteObjectStore"><code>deleteObjectStore()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/IDBDatabase/deleteObjectStore$translate">[Traducir]</a></li><li><em><code>transaction()</code></em></li></ol></details></li><li class="toggle"><details open><summary>Herencia</summary><ol><li><a href="/es/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Eventos</summary><ol><li><a href="/es/docs/Web/Events/upgradeneeded"><code>upgradeneeded</code></a></li><li><a href="/es/docs/Web/Events/complete"><code>complete</code></a></li><li><a href="/es/docs/Web/Events/abort"><code>abort</code></a></li><li><a href="/es/docs/Web/Events/success"><code>success</code></a></li><li><a href="/es/docs/Web/Events/error"><code>error</code></a></li><li><a href="/es/docs/Web/Events/blocked"><code>blocked</code></a></li><li><a href="/es/docs/Web/Events/versionchange"><code>versionchange</code></a></li><li><a href="/es/docs/Web/Events/close"><code>close</code></a></li></ol></details></li><li class="toggle"><details open><summary>Páginas relacionadas a IndexedDB</summary><ol><li><a href="/es/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li><li><a href="/es/docs/Web/API/IDBCursorSync"><code>IDBCursorSync</code></a></li><li><a href="/es/docs/Web/API/IDBCursorWithValue"><code>IDBCursorWithValue</code></a></li><li><a href="/es/docs/Web/API/IDBDatabaseException"><code>IDBDatabaseException</code></a></li><li><a href="/es/docs/Web/API/IDBDatabaseSync"><code>IDBDatabaseSync</code></a></li><li><a href="/es/docs/Web/API/IDBEnvironment"><code>IDBEnvironment</code></a></li><li><a href="/es/docs/Web/API/IDBEnvironmentSync"><code>IDBEnvironmentSync</code></a></li><li><a href="/es/docs/Web/API/IDBFactory"><code>IDBFactory</code></a></li><li><a href="/es/docs/Web/API/IDBFactorySync"><code>IDBFactorySync</code></a></li><li><a href="/es/docs/Web/API/IDBIndex"><code>IDBIndex</code></a></li><li><a href="/es/docs/Web/API/IDBIndexSync"><code>IDBIndexSync</code></a></li><li><a href="/es/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li><li><a href="/es/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li><li><a href="/es/docs/Web/API/IDBObjectStoreSync"><code>IDBObjectStoreSync</code></a></li><li><a href="/es/docs/Web/API/IDBOpenDBRequest"><code>IDBOpenDBRequest</code></a></li><li><a href="/es/docs/Web/API/IDBRequest"><code>IDBRequest</code></a></li><li><a href="/es/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li><li><a href="/es/docs/Web/API/IDBTransactionSync"><code>IDBTransactionSync</code></a></li><li><a href="/es/docs/Web/API/IDBVersionChangeEvent"><code>IDBVersionChangeEvent</code></a></li><li><a href="/es/docs/Web/API/IDBVersionChangeRequest"><code>IDBVersionChangeRequest</code></a></li></ol></details></li></ol></section><p></p>

<div>
<p>El método <strong><code>transaction()</code></strong> <em><strong><code>[transacción]</code></strong></em> de la interfaz <a href="/es/docs/Web/API/IDBDatabase" title="Inherits from: EventTarget"><code>IDBDatabase</code></a> retorna inmediatamente un objeto de transacción<span style="line-height: 1.5;"> (<a href="/es/docs/Web/API/IDBTransaction" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>IDBTransaction</code></a>) que contiene el método <a href="/es/docs/Web/API/IDBTransaction/objectStore" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>IDBTransaction.objectStore</code></a>, el cual puedes usar para acceder a tu almacén de objetos.</span></p>

<p></p><div class="note notecard"><strong>Nota:</strong> Esta característica está disponible en <a href="/es/docs/Web/API/Web_Workers_API">Web Workers</a>.</div><p></p>
</div>

<h2 id="Sintáxis">Sintáxis</h2>

<pre class="brush: js">var transaccion = db.transaction([&quot;toDoList&quot;], &quot;readwrite&quot;);</pre>

<h3 id="Retorna">Retorna</h3>

<p>Un objeto <a href="/es/docs/Web/API/IDBTransaction" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>IDBTransaction</code></a>.</p>

<h3 id="Excepciones">Excepciones</h3>

<p>Éste método puede invocar una excepción <a href="/es/docs/Web/API/DOMException" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>DOMException</code></a> de alguno de los siguientes tipos:</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Excepción</th>
   <th scope="col">Descripción</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code><a href="/en-US/docs/">InvalidStateError</a></code></td>
   <td>
    <p>El método <code>close()</code> ha sido llamado previamente en esta instancia de <a href="/es/docs/Web/API/IDBDatabase" title="Inherits from: EventTarget"><code>IDBDatabase</code></a>.</p>
   </td>
  </tr>
  <tr>
   <td><code>NotFoundError</code></td>
   <td>Un almacén de objetos especificado en el parámetro <code>storeNames</code> ha sido borrado o removido.</td>
  </tr>
  <tr>
   <td><code>TypeError</code></td>
   <td>El valor para el parámetro <code>mode</code> es inválido.</td>
  </tr>
  <tr>
   <td><code>InvalidAccessError</code></td>
   <td>La función fue llamada con una lista vacía de nombres de almacenes.<br>
     </td>
  </tr>
 </tbody>
</table>

<h2 id="Ejemplo">Ejemplo</h2>

<p>En este ejemplo abrimos la conexión a una base de datos, luego usamos <code>transaction()</code> para abrir una transacción en dicha base de datos. Para un ejemplo completo, vea nuestra aplicación <a style="line-height: 1.5;" href="https://github.com/mdn/to-do-notifications/">To-do Notifications</a> <span style="line-height: 1.5;">(</span><a style="line-height: 1.5;" href="http://mdn.github.io/to-do-notifications/">ver ejemplo en vivo</a><span style="line-height: 1.5;">).</span></p>

<pre class="brush: js">var db;

// Abrimos nuestra base de datos:
var DBOpenRequest = window.indexedDB.open(&quot;toDoList&quot;, 4);

DBOpenRequest.onsuccess = function(event) {
  note.innerHTML += &apos;&lt;li&gt;Base de datos inicializada.&lt;/li&gt;&apos;;

  // almacenar el resultado de la apertura de la base de datos en la variable db. Esto es bastante usado más abajo:
  db = DBOpenRequest.result;

  // ejecutar la función displayData() para popular la lista de tareas con los datos &quot;to-do&quot; que existen actualmente en la Base de Datos Indizada (IDB):
  displayData();

};

// abrir una transacción lectura/escritura, lista para añadir los datos:
var transaction = db.transaction([&quot;toDoList&quot;], &quot;readwrite&quot;);

// reportar cuando haya éxito al abrir la transacción
transaction.oncomplete = function(event) {
  note.innerHTML += &apos;&lt;li&gt;Transacción completa: modificación a la base de datos finalizada.&lt;/li&gt;&apos;;
};

transaction.onerror = function(event) {
  note.innerHTML += &apos;&lt;li&gt;Transacción no abierta debido a un error. No se permite duplicar ítems.&lt;/li&gt;&apos;;
};

// después deberías continuar y hacerle algo a esta base de datos a través del almacén de objetos:
var objectStore = transaction.objectStore(&quot;toDoList&quot;);
// etc.</pre>

<h2 id="Parámetros">Parámetros</h2>

<dl>
 <dt>storeNames</dt>
 <dd>Son los nombres de los almacenes de objetos e índices que están en el ámbito de la nueva transacción, declarados como un arreglo de cadenas de texto. Especifíca solamente aquellos a los que necesitas acceso.<br>
 Si necesitas acceder a un solo almacén, puedes especificar su nombre como una cadena. Por tanto las siguientes líneas son equivalentes:</dd>
 <dd>
 <pre><code class="brush:js;">var transaction = db.transaction([&apos;my-store-name&apos;]);
var transaction = db.transaction(&apos;my-store-name&apos;);</code></pre>
 </dd>
 <dd>Si necesitas acceder a todos los almacenes de objetos en la base de datos, puedes usar la propiedad <a href="/es/docs/Web/API/IDBDatabase/objectStoreNames" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>IDBDatabase.objectStoreNames</code></a>:
 <pre><code class="brush:js;">var transaction = db.transaction(db.objectStoreNames);</code></pre>
 </dd>
 <dd>Pasar un arreglo vació como parámetro  arrojará una excepción.</dd>
 <dt>mode</dt>
 <dd><em>Opcional</em>. Los tipos de acceso que pueden desempeñarse en la transacción. Las transacciones son abiertas en uno de tres modos: <code>readonly <em>[sólo lectura], </em>readwrite <em>[lectura/escritura],</em></code> y <code>readwriteflush <em>[descarga de lectura/escritura]</em></code> (no-estándar, sólo para Firefox). El modo <code>versionchange <em>[cambio de versión] </em></code>no puede ser especificado aquí. Si no provees un parámetro, el modo predeterminado será <code>readonly <em>[sólo lectura]</em></code>. Para evitar ralentizar las cosas, no abras una transacción <code>readwrite <em>[lectura/escritura]</em></code> a menos que realmente necesites escribir en la base de datos.</dd>
 <dd>Si necesitas abrir un almacén de objetos en modo <code>readwrite</code> para cambiar los datos, usa lo siguiente:
 <pre class="brush:js;">var transaction = db.transaction(&apos;my-store-name&apos;, &quot;readwrite&quot;);</pre>

 <p>Desde Firefox 40, las transacciones de IndexedDB tienen garantías de durabilidad relajadas para aumentar el rendimiento (ver <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1112702" title="FIXED: Switch IndexedDB transactions to be non-durable by default">error 1112702</a>), lo cual es el mismo comportamiento de otros navegadores que soportan IndexedDB. Es decir, anteriormente en una transacción <code>readwrite</code> el evento <a href="/es/docs/Web/API/IDBTransaction/oncomplete" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>IDBTransaction.oncomplete</code></a> era invocado sólo cuando se garantizaba que todos los datos habían sido vaciados al disco duro. En Firefox 40+ el evento <code>complete</code> es accionado después de indicársele al Sistema Operativo que escriba los datos al disco pero esta confirmación podría suceder poco antes de que los datos hayan sido verdaderamente escritos en él. Si bien dicho evento puede entonces ser entregado un poco antes de tiempo, de cualquier modo, existe una pequeña probabilidad de que la entera transacción se pierda si el SO se bloquea o si ha ocurrido una pérdida de energía antes de que los datos efectivamente se descarguen al disco duro. Como esas catastróficas circunstancias son más bien raras, la mayoría de los consumidores no deberían preocuparse demasiado.</p>

 <div class="note">
 <p><strong>Nota</strong>: En Firefox, si deseas asegurar la durabilidad por alguna razón (por ejemplo, que estés almacenando datos críticos que no puedan ser recalculados después) puedes forzar una transacción a descargar al disco antes de invocar el evento <code>complete</code> creando una transacción que use un modo experimental <code>readwriteflush</code>  (no-estándar) (ver <a href="/es/docs/Web/API/IDBDatabase/transaction" title="Un objeto IDBTransaction."><code>IDBDatabase.transaction</code></a>). Esto actualmente es experimental, y puede usarse únicamente si la configuración <code>dom.indexedDB.experimental</code> es igual a <code>true</code> en <code>about:config</code>.</p>
 </div>
 </dd>
</dl>

<h2 id="Especificación"><span style="font-size: 2.14285714285714rem;">Especificación</span></h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Especificación</th>
   <th scope="col">Estado</th>
   <th scope="col">Comentario</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/IndexedDB/#widl-IDBDatabase-transaction-IDBTransaction-DOMString-sequence-DOMString--storeNames-IDBTransactionMode-mode" class="external" hreflang="en">Indexed Database API<br><small lang="es">La definición de &apos;transaction()&apos; en esta especificación.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Compatibilidad con Navegadores</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/es/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Escritorio</a></li>
        <li><a>Móvil</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Soporte básico</td>
   <td>23<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/es/docs/Web/Guide/Prefixes" title="The name of this feature is prefixed with &apos;webkit&apos; as this browser considers it experimental">webkit</a></span><br>
    24</td>
   <td>10 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/es/docs/Web/Guide/Prefixes" title="The name of this feature is prefixed with &apos;moz&apos; as this browser considers it experimental">moz</a></span><br>
    <a href="/en-US/Firefox/Releases/16" title="Publicado en 2012-10-09.">16.0</a> (16.0)</td>
   <td>10, parcial</td>
   <td>15</td>
   <td>7.1</td>
  </tr>
  <tr>
   <td>Disponible en workers <em>[obreros web]</em></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibilidad desconocida, por favor actualízala.">?</span></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibilidad desconocida, por favor actualízala.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Característica</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Móvil (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Phone</th>
   <th>Opera Móvil</th>
   <th>Safari Móvil</th>
   <th>Chrome para Android</th>
  </tr>
  <tr>
   <td>Soporte básico</td>
   <td>4.4</td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td>22.0 (22.0)</td>
   <td>1.0.1</td>
   <td>10</td>
   <td>22</td>
   <td>8</td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
  </tr>
  <tr>
   <td>Disponible en workers <em>[obreros web]</em></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibilidad desconocida, por favor actualízala.">?</span></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibilidad desconocida, por favor actualízala.">?</span></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="Ver_también">Ver también</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB">Usando IndexedDB</a></li>
 <li>Iniciando transacciones: <a href="/es/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li>
 <li>Usando transacciones: <a href="/es/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li>
 <li>Configurar un rango de llaves: <a href="/es/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li>
 <li>Recuperando y haciendo cambios a tus datos: <a href="/es/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></li>
 <li>Usando cursores: <a href="/es/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li>
 <li>Ejemplo de referencia: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" class="external">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" class="external">ver ejemplo en vivo</a>).</li>
</ul>
