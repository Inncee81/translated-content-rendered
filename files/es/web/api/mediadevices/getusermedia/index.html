---
title: MediaDevices.getUserMedia()
slug: Web/API/MediaDevices/getUserMedia
translation_of: Web/API/MediaDevices/getUserMedia
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/es/docs/Web/API/WebRTC_API">WebRTC API</a></strong></li><li><strong><a href="/es/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></strong></li><li class="toggle"><details open><summary>Propiedades</summary><ol><li><a href="/es/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/MediaDevices/ondevicechange$translate">[Traducir]</a></li></ol></details></li><li class="toggle"><details open><summary>Métodos</summary><ol><li><a href="/es/docs/Web/API/MediaDevices/enumerateDevices"><code>enumerateDevices()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/MediaDevices/enumerateDevices$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/MediaDevices/getDisplayMedia$translate">[Traducir]</a></li><li><a href="/es/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints()</code></a> <a style="opacity: 0.5;" href="/es/docs/Web/API/MediaDevices/getSupportedConstraints$translate">[Traducir]</a></li><li><em><code>getUserMedia()</code></em></li></ol></details></li><li class="toggle"><details open><summary>Herencia</summary><ol><li><a href="/es/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Eventos</summary><ol><li><a href="/es/docs/Web/Events/addstream"><code>addstream</code></a></li><li><a href="/es/docs/Web/Events/icecandidate"><code>icecandidate</code></a></li><li><a href="/es/docs/Web/Events/iceconnectionstatechange"><code>iceconnectionstatechange</code></a></li><li><a href="/es/docs/Web/Events/icegatheringstatechange"><code>icegatheringstatechange</code></a></li><li><a href="/es/docs/Web/Events/negotiationneeded"><code>negotiationneeded</code></a></li><li><a href="/es/docs/Web/Events/removestream"><code>removestream</code></a></li><li><a href="/es/docs/Web/Events/signalingstatechange"><code>signalingstatechange</code></a></li><li><a href="/es/docs/Web/Events/datachannel"><code>datachannel</code></a></li><li><a href="/es/docs/Web/Events/close"><code>close</code></a></li><li><a href="/es/docs/Web/Events/error"><code>error</code></a></li><li><a href="/es/docs/Web/Events/message"><code>message</code></a></li><li><a href="/es/docs/Web/Events/open"><code>open</code></a></li><li><a href="/es/docs/Web/Events/tonechange"><code>tonechange</code></a></li><li><a href="/es/docs/Web/Events/identityresult"><code>identityresult</code></a></li><li><a href="/es/docs/Web/Events/idpassertionerror"><code>idpassertionerror</code></a></li><li><a href="/es/docs/Web/Events/idpvalidationerror"><code>idpvalidationerror</code></a></li><li><a href="/es/docs/Web/Events/peeridentity"><code>peeridentity</code></a></li><li><a href="/es/docs/Web/Events/isolationchange"><code>isolationchange</code></a></li></ol></details></li><li class="toggle"><details open><summary>Páginas relacionadas a WebRTC</summary><ol><li><a href="/es/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="/es/docs/Web/API/RTCCertificate"><code>RTCCertificate</code></a></li><li><a href="/es/docs/Web/API/RTCDTMFSender"><code>RTCDTMFSender</code></a></li><li><a href="/es/docs/Web/API/RTCDTMFToneChangeEvent"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="/es/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a></li><li><a href="/es/docs/Web/API/RTCDataChannelEvent"><code>RTCDataChannelEvent</code></a></li><li><a href="/es/docs/Web/API/RTCDtlsTransport"><code>RTCDtlsTransport</code></a></li><li><a href="/es/docs/Web/API/RTCErrorEvent"><code>RTCErrorEvent</code></a></li><li><a href="/es/docs/Web/API/RTCIceCandidate"><code>RTCIceCandidate</code></a></li><li><a href="/es/docs/Web/API/RTCIceTransport"><code>RTCIceTransport</code></a></li><li><a href="/es/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a></li><li><a href="/es/docs/Web/API/RTCPeerConnectionIceErrorEvent"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="/es/docs/Web/API/RTCPeerConnectionIceEvent"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="/es/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></li><li><a href="/es/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></li><li><a href="/es/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></li><li><a href="/es/docs/Web/API/RTCSctpTransport"><code>RTCSctpTransport</code></a></li><li><a href="/es/docs/Web/API/RTCSessionDescription"><code>RTCSessionDescription</code></a></li><li><a href="/es/docs/Web/API/RTCStatsEvent"><code>RTCStatsEvent</code></a></li><li><a href="/es/docs/Web/API/RTCStatsReport"><code>RTCStatsReport</code></a></li><li><a href="/es/docs/Web/API/RTCTrackEvent"><code>RTCTrackEvent</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><span title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span> <strong>Esta es una <a href="/en-US/docs/MDN/Contribute/Guidelines/Conventions_definitions#Experimental">tecnología experimental</a></strong><br>Comprueba la <a href="#Browser_compatibility">Tabla de compabilidad de navegadores</a> cuidadosamente antes de usarla en producción.</p>
</div></div>

<p>El método <code><strong>MediaDevices.getUserMedia()</strong></code> solicita al usuario permisos para usar un dispositivo de entrada de vídeo y/o uno de audio como una cámara o compartir la pantalla y/o micrófono. Si el usuario proporciona los permisos, entonces le retornará un <a href="/es/docs/Web/API/Promise" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>Promise</code></a> que es resuelto por el resultado del objeto <code><a href="/en-US/docs/WebRTC/MediaStream_API#LocalMediaStream">MediaStream</a></code>. Si el usuario niega el permiso, o si el recurso multimedia no es válido, entonces el promise es rechazado con <code>PermissionDeniedError</code> o <code>NotFoundError</code> respectivamente. Nótese que es posible que el promise retornado no sea ni resuelto ni rechazado, ya que no se requiere que el usuario tome una decisión.</p>

<h2 id="Sintaxis">Sintaxis</h2>

<pre class="syntaxbox">var <em>gumPromise</em> = <em>MediaDevices</em>.getUserMedia(<em>constraints</em>);</pre>

<p>Generalmente, accederás al objeto singleton <a href="/es/docs/Web/API/MediaDevices" title="The MediaDevices interface provides access to connected media input devices like cameras and microphones, as well as screensharing."><code>MediaDevices</code></a> usando <a href="/es/docs/Web/API/Navigator/mediaDevices" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>navigator.mediaDevices</code></a>, de esta forma:</p>

<pre><code>navigator.mediaDevices.getUserMedia(myConstraints).then(function(mediaStream) {
  /* usar el flujo de datos */
}).catch(function(err) {
  /* manejar el error */
});</code></pre>

<h3 id="Parámetros">Parámetros</h3>

<dl>
 <dt><code>constraints</code></dt>
 <dd>
 <p>Es un objeto <a href="/es/docs/Web/API/MediaStreamConstraints" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>MediaStreamConstraints</code></a> que especifica los tipos de recursos a solicitar, junto con cualquier requerimiento para cada tipo.</p>

 <p>El parámetro constraints es un objeto <code>MediaStreamConstaints</code> con dos miembros: <code>video</code> y <code>audio</code>, que describen los tipos de recurso solicitados. Debe especificarse uno o ambos. Si el navegador no puede encontrar todas las pistas de recursos con los tipos especificados que reúnan las restricciones dadas, entonces el promise retornado es rechazado con <code>NotFoundError</code>.</p>

 <p>Lo siguiente realiza la petición de tanto audio como vídeo sin requerimientos específicos:</p>

 <pre class="brush: js">{ audio: true, video: true }</pre>

 <p>Mientras que la información acerca de las cámaras y micrófonos de los usuarios se encuentran inaccesibles por razones de privacidad, una aplicación puede solicitar la cámara y las capacidades del micrófono que este requiera, usando restricciones adicionales. El siguiente código es para mosrtar una resolución de una cámara de 1280x720.</p>

 <pre class="brush: js">{
  audio: true,
  video: { width: 1280, height: 720 }
}</pre>

 <p>El navegador tratará de respetar esto, pero puede devolver otras resoluciones si una coincidencia exacta no está disponible o si el usuario la reemplaza.</p>

 <p>Para <em>conseguir </em>otras resoluciones, puede utilizar las propiedaes <code>min</code>, <code>max</code>, or <code>exact</code> (también conocido como min == max). El siguiente ejemplo le muestra cómo solicitar una resolución mínima de 1280x720.</p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { min: 1280 },
    height: { min: 720 }
  }
}</pre>

 <p>Si no existe una cámara con una resolución mínima para trabajar, entonces la promesa devuelta será rechazada con NotFoundError, y no se le pedirá al usuario.</p>

 <p>La razón de esto es debido a que las propiedades <code>min</code>, <code>max</code>, y <code>exact </code>son inherentemente obligatorias, mientras que los valores planos y una propiedad llamada <em>ideal </em>no lo son. He aquí un ejemplo más completo:</p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { min: 1024, ideal: 1280, max: 1920 },
    height: { min: 776, ideal: 720, max: 1080 }
  }
}</pre>

 <p>Un valor perteneciente a la propiedad <code>ideal, </code>cuando es usada, tiene gravedad, lo que significa que el navegador tratará de encontrar la configuración (una cámara, si tienes más de una), con la distancia de aptitud más pequeña (<a href="http://w3c.github.io/mediacapture-main/#methods-5">fitness distance</a>) de los valores ideales dados.</p>

 <p>Los valores planos son inherentemente ideales, lo que significa que de los ejemplos mostrados anteriormente, podrían haberse escrito de la siguiente manera:</p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { ideal: 1280 },
    height: { ideal: 720 }
  }
}</pre>

 <p>No todas las restricciones son números. Por ejemplo, en dispositivos móviles, los siguientes preferirán la cámara frontal (si está disponible) sobre la posterior:</p>

 <pre class="brush: js">{ audio: true, video: { facingMode: &quot;user&quot; } }</pre>

 <p>Para <em>solicitar </em>la cámara frontal, use:</p>

 <pre class="brush: js">{ audio: true, video: { facingMode: { exact: &quot;environment&quot; } } }</pre>
 </dd>
</dl>

<h3 id="Valor_de_retorno">Valor de retorno</h3>

<p>Un <a href="/es/docs/Web/JavaScript/Referencia/Objetos_globales/Promise" title="El objeto Promise (Promesa) es usado para computaciones asíncronas. Una promesa representa un valor que puede estar disponible ahora, en el futuro, o nunca."><code>Promise</code></a> que resuelve a un objeto <a href="/es/docs/Web/API/MediaStream" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>MediaStream</code></a>.</p>

<h3 id="Errores">Errores</h3>

<p>Los rechazos de la promesa devuelta se realizan con un objeto <a href="/es/docs/Web/API/MediaStreamError" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>MediaStreamError</code></a> que está modelado en <a href="/es/docs/Web/API/DOMException" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>DOMException</code></a>. Los errores más relevantes son:</p>

<dl>
 <dt><code>SecurityError</code></dt>
 <dd>Permiso para usar un dispositivo fue denegado por el usuario o por el sistema.</dd>
 <dt><code>NotFoundError</code></dt>
 <dd>No se encontraron pistas multimedia del tipo especificado que satisfagan las restricciones especificadas.</dd>
</dl>

<h2 id="Ejemplos"><strong>Ejemplos</strong></h2>

<h3 id="Usando_la_Promesa_(Promise)">Usando la Promesa (Promise)</h3>

<p>Este ejemplo asigna el objeto <a href="/es/docs/Web/API/MediaStream" title="La documentación acerca de este tema no ha sido escrita todavía . ¡Por favor  considera contribuir !"><code>MediaStream</code></a> al elemento apropiado.</p>

<pre>var p = navigator.mediaDevices.getUserMedia({ audio: true, video: true });

p.then(function(mediaStream) {
  var video = document.querySelector(&apos;video&apos;);
  video.src = window.URL.createObjectURL(mediaStream);
  video.onloadedmetadata = function(e) {
    // Do something with the video here.
  };
});

p.catch(function(err) { console.log(err.name); }); // always check for errors at the end.</pre>

<h3 id="Ancho_y_alto">Ancho y alto</h3>

<p>He aquí un ejemplo del uso de <code>mediaDevices.getUserMedia(), </code>incluyendo un polyfill para hacer frente a los navegadores más antiguos.</p>

<pre class="brush: js">var promisifiedOldGUM = function(constraints, successCallback, errorCallback) {

  // First get ahold of getUserMedia, if present
  var getUserMedia = (navigator.getUserMedia ||
      navigator.webkitGetUserMedia ||
      navigator.mozGetUserMedia);

  // Some browsers just don&apos;t implement it - return a rejected promise with an error
  // to keep a consistent interface
  if(!getUserMedia) {
    return Promise.reject(new Error(&apos;getUserMedia is not implemented in this browser&apos;));
  }

  // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise
  return new Promise(function(successCallback, errorCallback) {
    getUserMedia.call(navigator, constraints, successCallback, errorCallback);
  });

}

// Older browsers might not implement mediaDevices at all, so we set an empty object first
if(navigator.mediaDevices === undefined) {
  navigator.mediaDevices = {};
}

// Some browsers partially implement mediaDevices. We can&apos;t just assign an object
// with getUserMedia as it would overwrite existing properties.
// Here, we will just add the getUserMedia property if it&apos;s missing.
if(navigator.mediaDevices.getUserMedia === undefined) {
  navigator.mediaDevices.getUserMedia = promisifiedOldGUM;
}


// Prefer camera resolution nearest to 1280x720.
var constraints = { audio: true, video: { width: 1280, height: 720 } };

navigator.mediaDevices.getUserMedia(constraints)
.then(function(stream) {
  var video = document.querySelector(&apos;video&apos;);
  video.src = window.URL.createObjectURL(stream);
  video.onloadedmetadata = function(e) {
    video.play();
  };
})
.catch(function(err) {
  console.log(err.name + &quot;: &quot; + err.message);
});
</pre>

<h3 id="Cuadros_por_segundo">Cuadros por segundo</h3>

<p>Pocos frame-rates ó cuadros por segundo pueden ser deseables  en algunos casos, como transmisiones  WebRTC con restricciones de ancho de banda.</p>

<pre class="brush: js">var constraints = { video: { frameRate: { ideal: 10, max: 15 } } };
</pre>

<h3 id="Camara_frontal_y_camara_trasera">Camara frontal y camara trasera</h3>

<p>En telefonos moviles.</p>

<pre class="brush: js">var front = false;
document.getElementById(&apos;flip-button&apos;).onclick = function() { front = !front; };

var constraints = { video: { facingMode: (front? &quot;user&quot; : &quot;environment&quot;) } };
</pre>

<h2 id="Permisos">Permisos</h2>

<p>Para usar <code>getUserMedia()</code> en una app instalable (por ejemplo, una <a href="/en-US/Apps/Build/Building_apps_for_Firefox_OS/Firefox_OS_app_beginners_tutorial">Firefox OS app</a>), necesitas especificar uno o ambos de los siguientes campos dentro de tu archivo manifest:</p>

<pre class="brush: js">&quot;permissions&quot;: {
  &quot;audio-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture audio using getUserMedia()&quot;
  },
  &quot;video-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture video using getUserMedia()&quot;
  }
}</pre>

<p>Ver <a href="/en-US/Apps/Developing/App_permissions#audio-capture">permission: audio-capture</a> y  <a href="/en-US/Apps/Developing/App_permissions#video-capture">permission: video-capture</a> para más información.</p>

<h2 id="Especificaciones">Especificaciones</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://w3c.github.io/mediacapture-main/#dom-mediadevices-getusermedia" class="external" hreflang="en">Media Capture and Streams<br><small lang="es">La definición de &apos;MediaDevices.getUserMedia()&apos; en esta especificación.</small></a></td>
   <td><span class="spec-CR">Candidate Recommendation</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilidad_con_navegadores">Compatibilidad con navegadores</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">We&apos;re converting our compatibility data into a machine-readable JSON format</a></strong>.
            This compatibility table still uses the old format,
            because we haven&apos;t yet converted the data it contains.
            <strong><a href="/es/docs/MDN/Contribute/Structures/Compatibility_tables">Find out how you can help!</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Escritorio</a></li>
        <li><a>Móvil</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Stream API</td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span><sup>[1][3]</sup><br>
    47</td>
   <td>36<sup>[2]</sup></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td><span style="color: #888;" title="Por favor actualiza esto con la versión más reciente que de soporte.">(Yes)</span><sup>[1]</sup></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android</th>
   <th>Android Webview</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
   <th>Chrome for Android </th>
  </tr>
  <tr>
   <td>Stream API</td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td>36<sup>[2]</sup></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
   <td><span style="color: #f00;">Sin soporte</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] Viejas versiones de Chrome y Opera implementan <code>navigator.webkitGetUserMedia</code>, la versión prefijada <a href="/es/docs/Web/API/Navigator/getUserMedia" title="Pide al usuario permiso para usar un dispositivo multimedia como una cámara o micrófono. Si el usuario concede este permiso, el successCallback es invocado en la aplicación llamada con un objeto LocalMediaStream como argumento."><code>navigator.getUserMedia</code></a> del metodo.</p>

<p>En Chrome, esta promise-based interfaz esta unicamente disponible mediante el <a href="https://github.com/webrtc/adapter">adapter.js</a> polyfill, o usando la bandera <a>chrome://flags/#enable-experimental-web-platform-features</a>.</p>

<p>Chrome usa una sintaxis de restricciones desactualizada, pero la sintaxis descrita aquí esta disponible mediante el  <a href="https://github.com/webrtc/adapter">adapter.js</a> polyfill.</p>

<p>[2] Viejas versiones de  Firefox implementan <code>navigator.mozGetUserMedia</code>, la versión prefijada  <a href="/es/docs/Web/API/Navigator/getUserMedia" title="Pide al usuario permiso para usar un dispositivo multimedia como una cámara o micrófono. Si el usuario concede este permiso, el successCallback es invocado en la aplicación llamada con un objeto LocalMediaStream como argumento."><code>navigator.getUserMedia</code></a> del método.</p>

<p>Esta promise-based interfaz y  la sintaxis de restricciones descrita aquí esta disponible  en Firefox 38. Versiones anteriores (32-37) usaban una sitaxis de restriciones desactualizada, pero la sintaxis descrita aquí, tanto como la promise-based interfaz, esta disponible mediante <a href="https://github.com/webrtc/adapter">adapter.js</a> polyfill.</p>

<p>Opera usa una sintaxis de restricciones desactualizada, pero la sintaxis descrita aquí esta disponible mediante <a href="https://github.com/webrtc/adapter">adapter.js</a> polyfill.</p>

<p>[3] Chrome lanza un  error si la página que sirve el script es cargada desde un origen inseguro (i.e. HTTP).</p>

<h2 id="Ver_También">Ver También</h2>

<ul>
 <li>The older <a href="/en-US/docs/Web/API/Navigator/getUserMedia">navigator.getUserMedia</a> legacy API.</li>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices">navigator.enumerateDevices</a> - learn the types and number of devices the user has available.</li>
 <li><a href="/en-US/docs/WebRTC">WebRTC</a> - the introductory page to the API</li>
 <li><a href="/en-US/docs/WebRTC/MediaStream_API">MediaStream API</a> - the API for the media stream objects</li>
 <li><a href="/en-US/docs/WebRTC/taking_webcam_photos">Taking webcam photos</a> - a tutorial on using <code>getUserMedia() for taking photos rather than video.</code></li>
</ul>
