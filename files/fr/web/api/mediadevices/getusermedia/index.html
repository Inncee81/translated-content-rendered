---
title: MediaDevices.getUserMedia()
slug: Web/API/MediaDevices/getUserMedia
translation_of: Web/API/MediaDevices/getUserMedia
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/WebRTC_API">WebRTC API</a></strong></li><li><strong><a href="/fr/docs/Web/API/MediaDevices"><code>MediaDevices</code></a></strong></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/MediaDevices/ondevicechange"><code>ondevicechange</code></a> <a style="opacity: 0.5;" href="/fr/docs/Web/API/MediaDevices/ondevicechange$translate">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/MediaDevices/enumerateDevices"><code>enumerateDevices()</code></a> <a style="opacity: 0.5;" href="/fr/docs/Web/API/MediaDevices/enumerateDevices$translate">[Traduire]</a></li><li><a href="/fr/docs/Web/API/MediaDevices/getDisplayMedia"><code>getDisplayMedia()</code></a> <a style="opacity: 0.5;" href="/fr/docs/Web/API/MediaDevices/getDisplayMedia$translate">[Traduire]</a></li><li><a href="/fr/docs/Web/API/MediaDevices/getSupportedConstraints"><code>getSupportedConstraints()</code></a> <a style="opacity: 0.5;" href="/fr/docs/Web/API/MediaDevices/getSupportedConstraints$translate">[Traduire]</a></li><li><em><code>getUserMedia()</code></em></li></ol></details></li><li class="toggle"><details open><summary>Héritage :</summary><ol><li><a href="/fr/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Événements</summary><ol><li><a href="/fr/docs/Web/Events/addstream"><code>addstream</code></a></li><li><a href="/fr/docs/Web/Events/icecandidate"><code>icecandidate</code></a></li><li><a href="/fr/docs/Web/Events/iceconnectionstatechange"><code>iceconnectionstatechange</code></a></li><li><a href="/fr/docs/Web/Events/icegatheringstatechange"><code>icegatheringstatechange</code></a></li><li><a href="/fr/docs/Web/Events/negotiationneeded"><code>negotiationneeded</code></a></li><li><a href="/fr/docs/Web/Events/removestream"><code>removestream</code></a></li><li><a href="/fr/docs/Web/Events/signalingstatechange"><code>signalingstatechange</code></a></li><li><a href="/fr/docs/Web/Events/datachannel"><code>datachannel</code></a></li><li><a href="/fr/docs/Web/Events/close"><code>close</code></a></li><li><a href="/fr/docs/Web/Events/error"><code>error</code></a></li><li><a href="/fr/docs/Web/Events/message"><code>message</code></a></li><li><a href="/fr/docs/Web/Events/open"><code>open</code></a></li><li><a href="/fr/docs/Web/Events/tonechange"><code>tonechange</code></a></li><li><a href="/fr/docs/Web/Events/identityresult"><code>identityresult</code></a></li><li><a href="/fr/docs/Web/Events/idpassertionerror"><code>idpassertionerror</code></a></li><li><a href="/fr/docs/Web/Events/idpvalidationerror"><code>idpvalidationerror</code></a></li><li><a href="/fr/docs/Web/Events/peeridentity"><code>peeridentity</code></a></li><li><a href="/fr/docs/Web/Events/isolationchange"><code>isolationchange</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à WebRTC</summary><ol><li><a href="/fr/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="/fr/docs/Web/API/RTCCertificate"><code>RTCCertificate</code></a></li><li><a href="/fr/docs/Web/API/RTCDTMFSender"><code>RTCDTMFSender</code></a></li><li><a href="/fr/docs/Web/API/RTCDTMFToneChangeEvent"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a></li><li><a href="/fr/docs/Web/API/RTCDataChannelEvent"><code>RTCDataChannelEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCDtlsTransport"><code>RTCDtlsTransport</code></a></li><li><a href="/fr/docs/Web/API/RTCErrorEvent"><code>RTCErrorEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCIceCandidate"><code>RTCIceCandidate</code></a></li><li><a href="/fr/docs/Web/API/RTCIceTransport"><code>RTCIceTransport</code></a></li><li><a href="/fr/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a></li><li><a href="/fr/docs/Web/API/RTCPeerConnectionIceErrorEvent"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCPeerConnectionIceEvent"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></li><li><a href="/fr/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></li><li><a href="/fr/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></li><li><a href="/fr/docs/Web/API/RTCSctpTransport"><code>RTCSctpTransport</code></a></li><li><a href="/fr/docs/Web/API/RTCSessionDescription"><code>RTCSessionDescription</code></a></li><li><a href="/fr/docs/Web/API/RTCStatsEvent"><code>RTCStatsEvent</code></a></li><li><a href="/fr/docs/Web/API/RTCStatsReport"><code>RTCStatsReport</code></a></li><li><a href="/fr/docs/Web/API/RTCTrackEvent"><code>RTCTrackEvent</code></a></li></ol></details></li></ol></section></div>

<p><span class="notranslate"><span class="seoSummary">La méthode <code><strong>MediaDevices.getUserMedia()</strong></code> invite l&apos;utilisateur à autoriser l&apos;utilisation d&apos;une entrée multimédia qui produit un </span></span> <span class="seoSummary"><a href="/fr/docs/Web/API/MediaStream" title="L&apos;interface MediaStream représente le contenu d&apos;un flux de média. Un flux est composé de plusieurs pistes, tel que des pistes vidéos ou audio."><code>MediaStream</code></a></span> <span class="notranslate"><span class="seoSummary"> avec des pistes contenant les types de médias demandés.</span></span> <span class="notranslate"> Ce flux peut inclure, par exemple, une piste vidéo (produite par une source matérielle ou vidéo virtuelle telle qu&apos;une caméra, un dispositif d&apos;enregistrement vidéo, un service de partage d&apos;écran, etc.), une piste audio (de la même manière, produite par une source physique ou Source audio virtuelle comme un microphone, convertisseur A / D ou similaire) et éventuellement d&apos;autres types de piste.</span></p>

<p><span class="notranslate">Il renvoie un </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> qui est résolu avec succès si l&apos;utilisateur donne son autorisation;</span> <span class="notranslate"> </span> <a href="/fr/docs/Web/API/MediaStream" title="L&apos;interface MediaStream représente le contenu d&apos;un flux de média. Un flux est composé de plusieurs pistes, tel que des pistes vidéos ou audio."><code>MediaStream</code></a> <span class="notranslate"> est fourni à ce moment-là.</span> <span class="notranslate"> Si l&apos;utilisateur refuse ou si le média correspondant n&apos;est pas disponible, le </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> est rejetée avec respectivement <code>PermissionDeniedError</code> ou <code>NotFoundError</code>.</span></p>

<div class="note notecard">
<p><span class="notranslate">Il est possible que le </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> renvoyé ne soit <em>ni</em> résolu ni rejeté, car l&apos;utilisateur n&apos;est pas tenu de faire un choix.</span> .</p>
</div>

<p><span class="notranslate">Généralement, vous accédez à l&apos;objet </span> <a href="/fr/docs/Web/API/MediaDevices" title="The MediaDevices interface provides access to connected media input devices like cameras and microphones, as well as screensharing."><code>MediaDevices</code></a> <span class="notranslate"> avec </span> <a href="/fr/docs/Web/API/Navigator/mediaDevices" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>navigator.mediaDevices</code></a> <span class="notranslate"> , comme ceci:</span></p>

<pre class="brush: js">navigator.mediaDevices.getUserMedia(constraints).then(function(stream) {
  /* use the stream */
}).catch(function(err) {
  /* handle the error */
});</pre>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="syntaxbox">var <em>promise</em> = navigator.mediaDevices.getUserMedia(<em>constraints</em>);
</pre>

<h3 id="Paramètres"><span class="notranslate">Paramètres</span></h3>

<dl>
 <dt><code>constraints</code></dt>
 <dd>
 <p><span class="notranslate">Un objet </span> <a href="/fr/docs/Web/API/MediaStreamConstraints" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>MediaStreamConstraints</code></a> <span class="notranslate"> spécifiant les types de supports à demander, ainsi que toutes les exigences pour chaque type.</span></p>

 <p><span class="notranslate">Le paramètre constraints est un objet <code>MediaStreamConstraints</code> avec deux membres: <code>video</code> et <code>audio</code> , décrivant les types de média demandés.</span> <span class="notranslate"> L&apos;un ou l&apos;autre ou les deux doivent être spécifiés.</span> <span class="notranslate"> Si le navigateur ne trouve pas toutes les pistes multimédia avec les types spécifiés qui répondent aux contraintes fournies, la promesse renvoyée est rejetée avec <code>NotFoundError</code> .</span></p>

 <p><span class="notranslate">Les demandes suivantes sont audio et vidéo sans aucune exigence spécifique:</span></p>

 <pre class="brush: js">{ audio: true, video: true }</pre>

 <p><span class="notranslate">Si <code>true</code> est spécifié pour un type de média, le flux résultant est <em>requis</em> pour obtenir ce type de piste.</span> <span class="notranslate"> Si on ne peut pas l&apos;obtenir pour une raison quelconque, l&apos;appel à <code>getUserMedia()</code> entraînera une erreur.</span></p>

 <p><span class="notranslate">Alors que les informations sur les caméras et les microphones d&apos;un utilisateur sont inaccessibles pour des raisons de confidentialité, une application peut demander les capacités de caméra et de microphone dont elle a besoin en utilisant des contraintes supplémentaires.</span> <span class="notranslate"> Ce qui suit exprime une préférence pour la résolution de la caméra 1280x720:</span></p>

 <pre class="brush: js">{
  audio: true,
  video: { width: 1280, height: 720 }
}</pre>

 <p id="successCallback"><span class="notranslate">Le navigateur essaiera d&apos;honorer cela, mais peut renvoyer d&apos;autres résolutions si une correspondance exacte n&apos;est pas disponible, ou si l&apos;utilisateur l&apos;annule.</span></p>

 <p><span class="notranslate">Pour <em>exiger</em> une capacité, utilisez les mots-clés <code>min</code> , <code>max</code> ou <code>exact</code> (aka <code>min == max</code> ).</span> <span class="notranslate"> Ce qui suit exige une résolution minimale de 1280x720:</span></p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { min: 1280 },
    height: { min: 720 }
  }
}</pre>

 <p><span class="notranslate">Si aucune caméra n&apos;existe avec cette résolution ou plus haut, le </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> retourné sera rejeté avec <code>OverconstrainedError</code>.</span></p>

 <p><span class="notranslate">La raison de la différence de comportement est que les mots clés <code>min</code> , <code>max</code> et <code>exact</code> sont intrinsèquement obligatoires, alors que les valeurs simples et un mot-clé appelé <code>ideal</code> ne le sont pas.</span> <span class="notranslate"> Voici un exemple plus complet:</span></p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { min: 1024, ideal: 1280, max: 1920 },
    height: { min: 776, ideal: 720, max: 1080 }
  }
}</pre>

 <p><span class="notranslate">Une valeur <code>ideal</code> , lorsqu&apos;elle est utilisée, a une gravité, ce qui signifie que le navigateur essaiera de trouver le réglage (et la caméra, si vous en avez plus d&apos;une), avec les valeurs les plus proches des valeurs idéales données.</span></p>

 <p><span class="notranslate">Les valeurs simples sont par nature idéales, ce qui signifie que le premier de nos exemples de résolution ci-dessus aurait pu être écrit comme ceci:</span></p>

 <pre class="brush: js">{
  audio: true,
  video: {
    width: { ideal: 1280 },
    height: { ideal: 720 }
  }
}</pre>

 <p><span class="notranslate">Toutes les contraintes ne sont pas des nombres.</span> <span class="notranslate"> Par exemple, sur les appareils mobiles, les éléments suivants préfèrent la caméra avant (si celle-ci est disponible) sur l&apos;arrière:</span></p>

 <pre class="brush: js">{ audio: true, video: { facingMode: &quot;user&quot; } }</pre>

 <p><span class="notranslate">Pour <em>exiger</em> la caméra arrière, utilisez:</span></p>

 <pre class="brush: js">{ audio: true, video: { facingMode: { exact: &quot;environment&quot; } } }</pre>
 </dd>
</dl>

<h3 id="Valeur_de_retour"><span class="notranslate">Valeur de retour</span></h3>

<p><span class="notranslate">Un </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> qui reçoit en objet </span> <a href="/fr/docs/Web/API/MediaStream" title="L&apos;interface MediaStream représente le contenu d&apos;un flux de média. Un flux est composé de plusieurs pistes, tel que des pistes vidéos ou audio."><code>MediaStream</code></a> <span class="notranslate"> lorsque les médias demandés ont été obtenus avec succès.</span></p>

<h3 id="Erreurs">Erreurs</h3>

<p><span class="notranslate">Les rejets du </span> <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" title="Le code source de cet exemple interactif est disponible dans un dépôt GitHub. Si vous souhaitez contribuez à ces exemples, n&apos;hésitez pas à cloner https://github.com/mdn/interactive-examples et à envoyer une pull request !"><code>Promise</code></a> <span class="notranslate"> retourné sont effectués en passant un objet erreur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=fr&amp;prev=search&amp;rurl=translate.google.fr&amp;sl=en&amp;sp=nmt4&amp;u=https://developer.mozilla.org/en-US/docs/Web/API/DOMException&amp;usg=ALkJrhgnRUAs3RQR8I7ulOitmhRQUlVEUA" title="L&apos;interface DOMException représente un événement anormal (appelé exception) qui se produit en raison de l&apos;appel d&apos;une méthode ou de l&apos;accès à une propriété d&apos;une API Web."><code>DOMException</code></a> au gestionnaire d&apos;erreurs.</span> <span class="notranslate"> Les erreurs possibles sont:</span></p>

<dl>
 <dt><code>AbortError</code></dt>
 <dd><span class="notranslate">Bien que l&apos;utilisateur et le système d&apos;exploitation aient tous deux accédé à l&apos;équipement matériel, et qu&apos;aucun problème de matériel ne causerait un <code>NotReadableError</code> , un problème s&apos;est produit, ce qui a empêché l&apos;utilisation du périphérique.</span></dd>
 <dt><code>NotAllowedError</code></dt>
 <dd><span class="notranslate">L&apos;utilisateur a spécifié que l&apos;instance de navigation actuelle n&apos;a pas accès au périphérique;</span> <span class="notranslate"> Ou l&apos;utilisateur a refusé l&apos;accès pour la session en cours;</span> <span class="notranslate"> Ou l&apos;utilisateur a refusé tout l&apos;accès aux périphériques multimédias utilisateurs dans le monde entier.</span>
 <div class="note notecard"><span class="notranslate">Les versions plus anciennes de la spécification ont utilisé <code>SecurityError</code> pour cela à la place;</span> <span class="notranslate"> <code>SecurityError</code> a pris une nouvelle signification.</span></div>
 </dd>
 <dt><code>NotFoundError</code></dt>
 <dd><span class="notranslate">Aucune piste multimédia du type spécifié n&apos;a été trouvée satisfaisant les contraintes données.</span></dd>
 <dt><code>NotReadableError</code></dt>
 <dd><span class="notranslate">Bien que l&apos;utilisateur ait autorisé l&apos;utilisation des appareils correspondants, une erreur matérielle s&apos;est produite sur le système d&apos;exploitation, le navigateur ou le niveau de la page Web qui a empêché l&apos;accès au périphérique.</span></dd>
 <dt><code>OverConstrainedError</code></dt>
 <dd><span class="notranslate">Aucun dispositif candidat répondant aux critères demandés.</span> <span class="notranslate"> L&apos;erreur est un objet de type <code>OverconstrainedError</code> et possède une propriété de <code>constraint</code> dont la valeur de chaîne est le nom d&apos;une contrainte impossible à honorer et une propriété <code>message</code> contenant une chaîne lisible par l&apos;homme expliquant le problème.</span>
 <div class="note notecard"><span class="notranslate">Étant donné que cette erreur peut se produire même lorsque l&apos;utilisateur n&apos;a pas encore autorisé l&apos;utilisation du périphérique sous-jacent, il peut être utilisé comme surface d&apos;empreinte digitale.</span></div>
 </dd>
 <dt><code>SecurityError</code></dt>
 <dd><span class="notranslate">Le support multimédia utilisateur est désactivé sur le </span> <a href="/fr/docs/Web/API/Document" title="L&apos;interface Document représente n&apos;importe quelle page Web chargée dans le navigateur et sert de point d&apos;entrée dans le contenu de la page Web, qui est l&apos;arborescence DOM. L&apos;arborescence DOM inclut des éléments tels que &lt;body&gt; (corps) et &lt;table&gt; (tableau), parmi beaucoup d&apos;autres. Il fournit des fonctionnalités globales au document, comme le moyen d&apos;obtenir l&apos;URL de la page et de créer de nouveaux éléments dans le document."><code>Document</code></a> <span class="notranslate"> sur lequel <code>getUserMedia()</code> été appelé.</span> <span class="notranslate"> Le mécanisme par lequel le support média utilisateur est activé/désactivé est laissé à la discrétion de l&apos;utilisateur.</span></dd>
 <dt><code>TypeError</code></dt>
 <dd><span class="notranslate">La liste des contraintes spécifiées est vide ou toutes les contraintes sont définies comme <code>false</code> .</span></dd>
</dl>

<h2 id="Exemples"><span class="notranslate"><strong>Exemple</strong>s</span></h2>

<h3 id="Largeur_et_hauteur"><span class="notranslate">Largeur et hauteur</span></h3>

<p><span class="notranslate">Cet exemple donne une préférence pour la résolution de la caméra et attribue l&apos;objet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=fr&amp;prev=search&amp;rurl=translate.google.fr&amp;sl=en&amp;sp=nmt4&amp;u=https://developer.mozilla.org/en-US/docs/Web/API/MediaStream&amp;usg=ALkJrhipdR5n2jQ-BGrPTomESH_A7nof4g" title="L&apos;interface MediaStream représente un flux de contenu multimédia. Un flux se compose de plusieurs pistes telles que des pistes vidéo ou audio. Chaque piste est spécifiée comme une instance de MediaStreamTrack."><code>MediaStream</code></a> résultant à un élément vidéo.</span></p>

<pre>// Prefer camera resolution nearest to 1280x720.
var constraints = { audio: true, video: { width: 1280, height: 720 } };

navigator.mediaDevices.getUserMedia(constraints)
.then(function(mediaStream) {
  var video = document.querySelector(&apos;video&apos;);
  video.srcObject = mediaStream;
  video.onloadedmetadata = function(e) {
    video.play();
  };
})
.catch(function(err) { console.log(err.name + &quot;: &quot; + err.message); }); // always check for errors at the end.
</pre>

<h3 id="Utilisation_de_la_nouvelle_API_dans_les_navigateurs_plus_anciens"><span class="notranslate">Utilisation de la nouvelle API dans les navigateurs plus anciens</span></h3>

<p><span class="notranslate">Voici un exemple d&apos;utilisation de <code>navigator.mediaDevices.getUserMedia()</code> , avec un adaptateur pour faire face aux navigateurs plus anciens.</span> <span class="notranslate"> Notez que cet adaptater ne corrige pas les différences existantes dans la syntaxe des contraintes, ce qui signifie que les contraintes ne fonctionneront pas bien dans les navigateurs.</span> <span class="notranslate"> Il est recommandé d&apos;utiliser l&apos;adaptateur</span> <a href="https://github.com/webrtc/adapter">adapter.js</a> <span class="notranslate"> a la place, qui gère les contraintes.</span></p>

<pre class="brush: js">// Older browsers might not implement mediaDevices at all, so we set an empty object first
if (navigator.mediaDevices === undefined) {
  navigator.mediaDevices = {};
}

// Some browsers partially implement mediaDevices. We can&apos;t just assign an object
// with getUserMedia as it would overwrite existing properties.
// Here, we will just add the getUserMedia property if it&apos;s missing.
if (navigator.mediaDevices.getUserMedia === undefined) {
  navigator.mediaDevices.getUserMedia = function(constraints) {

    // First get ahold of the legacy getUserMedia, if present
    var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

    // Some browsers just don&apos;t implement it - return a rejected promise with an error
    // to keep a consistent interface
    if (!getUserMedia) {
      return Promise.reject(new Error(&apos;getUserMedia is not implemented in this browser&apos;));
    }

    // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise
    return new Promise(function(resolve, reject) {
      getUserMedia.call(navigator, constraints, resolve, reject);
    });
  }
}

navigator.mediaDevices.getUserMedia({ audio: true, video: true })
.then(function(stream) {
  var video = document.querySelector(&apos;video&apos;);
  // Older browsers may not have srcObject
  if (&quot;srcObject&quot; in video) {
    video.srcObject = stream;
  } else {
    // Avoid using this in new browsers, as it is going away.
    video.src = window.URL.createObjectURL(stream);
  }
  video.onloadedmetadata = function(e) {
    video.play();
  };
})
.catch(function(err) {
  console.log(err.name + &quot;: &quot; + err.message);
});
</pre>

<h3 id="Taux_d&apos;images">Taux d&apos;images</h3>

<p><span class="notranslate">Des cadences inférieures peuvent être souhaitables dans certains cas, comme les transmissions WebRTC avec des restrictions de bande passante.</span></p>

<pre class="brush: js">var constraints = { video: { frameRate: { ideal: 10, max: 15 } } };
</pre>

<h3 id="Caméra_avant_et_arrière"><span class="notranslate">Caméra avant et arrière</span></h3>

<p><span class="notranslate">Sur les téléphones portables.</span></p>

<pre class="brush: js">var front = false;
document.getElementById(&apos;flip-button&apos;).onclick = function() { front = !front; };

var constraints = { video: { facingMode: (front? &quot;user&quot; : &quot;environment&quot;) } };
</pre>

<h2 id="Permissions">Permissions</h2>

<p><span class="notranslate">Pour utiliser <code>getUserMedia()</code> dans une application installable (par exemple, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=fr&amp;prev=search&amp;rurl=translate.google.fr&amp;sl=en&amp;sp=nmt4&amp;u=https://developer.mozilla.org/en-US/Apps/Build/Building_apps_for_Firefox_OS/Firefox_OS_app_beginners_tutorial&amp;usg=ALkJrhjjqOGYUEn75gZx3AcoQDArrosa9Q">application Firefox OS</a> ), vous devez spécifier un ou les deux champs suivants dans votre fichier manifeste:</span></p>

<pre class="brush: js">&quot;permissions&quot;: {
  &quot;audio-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture audio using getUserMedia()&quot;
  },
  &quot;video-capture&quot;: {
    &quot;description&quot;: &quot;Required to capture video using getUserMedia()&quot;
  }
}</pre>

<p><span class="notranslate">Voir </span> <a href="https://developer.mozilla.org/en-US/Apps/Developing/App_permissions#audio-capture">permission: audio-capture</a> <span class="notranslate"> et </span> <a href="https://developer.mozilla.org/en-US/Apps/Developing/App_permissions#video-capture">permission: video-capture</a> <span class="notranslate"> pour plus d&apos;informations.</span></p>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://w3c.github.io/mediacapture-main/#dom-mediadevices-getusermedia" class="external" hreflang="en">Media Capture and Streams<br><small lang="fr">La définition de &apos;MediaDevices.getUserMedia()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-CR">Candidat au statut de recommandation</span></td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">Nous convertissons les données de compatibilité dans un format JSON</a></strong>.
            Ce tableau de compatibilité utilise encore l&apos;ancien format
            car nous n&apos;avons pas encore converti les données qu&apos;il contient.
            <strong><a href="/fr/docs/MDN/Contribute/Structures/Compatibility_tables">Vous pouvez nous aider en contribuant !</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Ordinateur</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Chrome</th>
   <th>Edge</th>
   <th>Firefox (Gecko)</th>
   <th>Microsoft Edge</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>53.0<sup>[1][3]</sup></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><a href="/en-US/Firefox/Releases/36">36</a> (36)<sup>[2][4]</sup></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
   <td>40<sup>[1]</sup></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
  <tr>
   <td>Promises</td>
   <td>53.0</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><a href="/en-US/Firefox/Releases/38">38</a> (38)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Feature</th>
   <th>Android Webview</th>
   <th>Chrome for Android</th>
   <th>Edge</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Basic support</td>
   <td>53.0<sup>[1][3]</sup></td>
   <td>53.0<sup>[1][3]</sup></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>36.0 (36) <sup>[2]</sup></td>
   <td><span style="color: #f00;">Pas de support</span></td>
   <td>40<sup>[1]</sup></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
  <tr>
   <td>Promises</td>
   <td>53.0</td>
   <td>53.0</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td>38.0 (38)</td>
   <td><span style="color: #f00;">Pas de support</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #f00;">Pas de support</span></td>
  </tr>
 </tbody>
</table>
</div>

<p>[1] <span class="notranslate"> Les versions plus anciennes de Chrome et Opera implémentent <code>navigator.webkitGetUserMedia</code> , la version préfixée de la méthode </span> <a href="/fr/docs/Web/API/Navigator/getUserMedia" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>navigator.getUserMedia</code></a> <span class="notranslate"> .</span></p>

<p><span class="notranslate">De la version 47 à la 52, l&apos;interface promise n&apos;est disponible que via  </span> <a href="https://github.com/webrtc/adapter">adapter.js</a><span class="notranslate">, ou en utilisant les options flag</span> <a>chrome://flags/#enable-experimental-web-platform-features</a> <span class="notranslate">.</span> <span class="notranslate"> À partir de la version 53, l&apos;interface promise est activée par défaut, même si cette interface n&apos;est toujours pas disponible via le <code>navigator</code> .</span></p>

<p>[2] <span class="notranslate">Les anciennes versions de Firefox implémentent <code>navigator.mozGetUserMedia()</code> , la version préfixée de la méthode </span> <a href="/fr/docs/Web/API/Navigator/getUserMedia" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>navigator.getUserMedia</code></a> <span class="notranslate"> .</span></p>

<p><span class="notranslate">La version prometteuse de cette méthode et la syntaxe de contrainte décrites ici sont disponibles à partir de Firefox 38. Les versions antérieures (32-37) ont utilisé une syntaxe de contrainte périmée, mais la syntaxe décrite ici, ainsi que l&apos;interface promise est Disponible à l&apos;aide de </span> <a href="https://github.com/webrtc/adapter">adapter.js</a> <span class="notranslate">.</span></p>

<p><span class="notranslate">Firefox 49 comprend des modifications pour mettre les </span> <a href="#Errors">erreurs</a> <span class="notranslate"> possibles à jour avec la spécification, y compris la modification de la signification de <code>SecurityError</code> .</span> <span class="notranslate"> De plus, si les pistes vidéo et audio sont demandées, <code>getUserMedia()</code> échoue maintenant pour ne pas pouvoir accéder aux deux.</span> <span class="notranslate"> Auparavant, il créerait un flux qui disposait de la partie réussie des médias.</span> <span class="notranslate"> Par exemple, si l&apos;utilisateur dispose d&apos;un microphone mais pas d&apos;appareil photo (ou refusé l&apos;accès à la caméra), les versions précédentes de Firefox renverraient un flux avec une piste audio mais pas de vidéo.</span> <span class="notranslate"> Maintenant, cela entraîne correctement une erreur.</span></p>

<p><span class="notranslate">Opera utilise une syntaxe de contrainte périmée, mais la syntaxe décrite ici est disponible via </span> <a href="https://github.com/webrtc/adapter">adapter.js</a>.</p>

<p>[3] <span class="notranslate">Chrome lance une erreur si la page qui sert le script est chargée d&apos;origine non sécurisée (c&apos;est-à-dire HTTP).</span></p>

<p>[4] <span class="notranslate">Avant Firefox 55, <code>getUserMedia()</code> renvoie incorrectement <code>NotSupportedError</code> lorsque la liste des contraintes spécifiées est vide ou que toutes les contraintes sont définies comme <code>false</code> .</span> <span class="notranslate"> À partir de Firefox 55, cette situation appelle correctement le gestionnaire d&apos;échec avec un <code>TypeError</code> .</span></p>

<h2 id="Voir_également"><span class="notranslate">Voir également</span></h2>

<ul>
 <li><span class="notranslate">L&apos;ancien API</span> <a href="/fr/docs/Web/API/Navigator/getUserMedia"><code>navigator.getUserMedia()</code></a>.</li>
 <li><a href="/fr/docs/Web/API/MediaDevices/enumerateDevices"><code>mediaDevices.enumerateDevices()</code></a>: <span class="notranslate">Apprenez les types et le nombre de périphériques que l&apos;utilisateur dispose.</span></li>
 <li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></li>
 <li><a href="/en-US/docs/Web/API/Media_Streams_API">Media Capture and Streams API (Media Streams)</a></li>
 <li><a href="/en-US/docs/Web/API/WebRTC_API/Taking_still_photos">Taking webcam photos</a>: <span class="notranslate">un didacticiel sur l&apos;utilisation de <code>getUserMedia()</code> pour prendre des photos plutôt que de la vidéo.</span></li>
</ul>
