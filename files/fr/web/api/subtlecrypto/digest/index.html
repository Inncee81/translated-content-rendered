---
title: SubtleCrypto.digest()
slug: Web/API/SubtleCrypto/digest
translation_of: Web/API/SubtleCrypto/digest
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/Web_Crypto_API">Web Crypto API</a></strong></li><li><strong><a href="/fr/docs/Web/API/SubtleCrypto"><code>SubtleCrypto</code></a></strong></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/SubtleCrypto/decrypt"><code>decrypt()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/decrypt$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/deriveBits"><code>deriveBits()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/deriveBits$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/deriveKey"><code>deriveKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/deriveKey$translate" style="opacity: 0.5;">[Traduire]</a></li><li><em><code>digest()</code></em></li><li><a href="/fr/docs/Web/API/SubtleCrypto/encrypt"><code>encrypt()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/encrypt$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/exportKey"><code>exportKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/exportKey$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/generateKey"><code>generateKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/generateKey$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/importKey"><code>importKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/importKey$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/sign"><code>sign()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/sign$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/unwrapKey"><code>unwrapKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/unwrapKey$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/verify"><code>verify()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/verify$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/SubtleCrypto/wrapKey"><code>wrapKey()</code></a> <a href="/fr/docs/Web/API/SubtleCrypto/wrapKey$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à Web Crypto API</summary><ol><li><a href="/fr/docs/Web/API/Crypto"><code>Crypto</code></a></li><li><a href="/fr/docs/Web/API/CryptoKey"><code>CryptoKey</code></a></li><li><a href="/fr/docs/Web/API/CryptoKeyPair"><code>CryptoKeyPair</code></a></li><li><a href="/fr/docs/Web/API/RandomSource"><code>RandomSource</code></a></li><li><a href="/fr/docs/Web/API/Window/crypto"><code>Window.crypto</code></a></li></ol></details></li></ol></section><div class="secureContexts notecard"><p><strong>Contexte sécurisé</strong><br>Cette fonctionnalité est uniquement disponible dans des <a href="/fr/docs/Web/Security/Secure_Contexts">contextes sécurisés</a> (HTTPS), pour certains <a href="#Compatibilité_des_navigateurs">navigateurs qui la prennent en charge</a>.</p></div></div>

<p>La méthode <code><strong>digest()</strong></code> de l&apos;interface <a href="/fr/docs/Web/API/SubtleCrypto"><code>SubtleCrypto</code></a> génère un <a href="/fr/docs/Glossaire/Condensat">digest</a> de la donnée fournie. Un condensé est une petite valeur de taille fixe issue d&apos;une donnée de taille variable. Les condensés cryptographiques doivent résister à la collision, ce qui signifie qu&apos;il doit être très difficile d&apos;obtenir le même condensé à partir de deux entrés différentes.</p>

<p>Il prend en argument un identifiant pour l&apos;algorithme de condensé et les données à traiter. Il retourne une <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"><code>Promise</code></a> qui contiendra le condensé.</p>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="syntaxbox notranslate">const digest = <em>crypto</em><code>.subtle.digest(<em>algorithm</em>, <em>data</em>)</code>;
</pre>

<h3 id="Paramètres">Paramètres</h3>

<ul>
 <li><em><code>algorithm</code></em> est une <a href="/fr/docs/Web/API/DOMString"><code>DOMString</code></a> indiquant la fonction de condensé à utiliser. Les valeurs possibles sont:

  <ul>
   <li><code>SHA-1</code> (ne pas utiliser pour des applications cryptographiques)</li>
   <li><code>SHA-256</code></li>
   <li><code>SHA-384</code></li>
   <li><code>SHA-512</code>.</li>
  </ul>
 </li>
 <li><em><code>data</code></em> est un <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/ArrayBuffer"><code>ArrayBuffer</code></a> ou un <a href="/fr/docs/Web/API/ArrayBufferView"><code>ArrayBufferView</code></a> contenant les données à traiter.</li>
</ul>

<h3 id="Valeur_retournée">Valeur retournée</h3>

<ul>
 <li><code><em>digest</em></code> est une <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"><code>Promise</code></a> pour accéder <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/ArrayBuffer"><code>ArrayBuffer</code></a> au condensé.</li>
</ul>

<h2 id="Algorithmes_supportés">Algorithmes supportés</h2>

<p>Les algorithmes de condensé, aussi connue sous le nom de <a href="/fr/docs/Glossaire/Fonction_de_hachage_cryptographique">fonctions de hachage cryptographique</a>, transforme un bloque de données de longueur arbitraire dans un résultat de taille fixe, souvent plus petit que l&apos;entré. Ils ont de nombreuses utilisations en cryptographie.</p>

<h3 id="SHA-1">SHA-1</h3>

<p>Cet algorithme est spécifié dans <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, section 6.1, et produit un résultat de 160 bits de long.</p>

<div class="warning notecard">
<p><strong>Avertissement:</strong> Cet algorithme est maintenant considérer comme vulnérable et ne doit pas être utilisé pour des applications cryptographiques.</p>
</div>

<h3 id="SHA-256">SHA-256</h3>

<p>Cet algorithme est spécifié dans <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, section 6.2, et produit un résultat de 256 bits de long.</p>

<h3 id="SHA-384">SHA-384</h3>

<p>Cet algorithme est spécifié dans <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, section 6.5, et produit un résultat de 384 bits de long.</p>

<h3 id="SHA-512">SHA-512</h3>

<p>Cet algorithme est spécifié dans <a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf">FIPS 180-4</a>, section 6.4, et produit un résultat de 512 bits de long.</p>

<div class="note notecard">
<p>Indice: Si vous cherchez à créer un condensé pour authentifié un message (<a href="/fr/docs/Glossary/HMAC">HMAC</a>), vous aurez plutôt besoin de <a href="/en-US/docs/Web/API/SubtleCrypto/sign#HMAC">SubtleCrypto.sign()</a>.</p>
</div>

<h2 id="Exemples">Exemples</h2>

<h3 id="Exemple_basique">Exemple basique</h3>

<p>Cet exemple encode un message, puis calcule le condensé avec SHA-256, enfin affiche la longueur du résultat.</p>

<pre class="brush: js notranslate">const text = &apos;Un obscur message venant du le système S-K, votre majesté. Ses habitants le nomment la planète Terre.&apos;;

async function digestMessage(message) {
  const encoder = new TextEncoder();
  const data = encoder.encode(message);
  const hash = await crypto.subtle.digest(&apos;SHA-256&apos;, data);
  return hash;
}

const digestBuffer = await digestMessage(text);
console.log(digestBuffer.byteLength);
</pre>

<h3 id="Convertir_un_condensé_vers_une_chaîne_hexadécimale">Convertir un condensé vers une chaîne hexadécimale</h3>

<p>Le condensé est retourné sous forme d&apos;un <code>ArrayBuffer</code>, mais la comparaison et l&apos;affichage se fait souvent avec des chaînes hexadécimales. Cet exemple calcule un condensé puis converti l&apos;<code>ArrayBuffer</code> vers une chaîne hexadécimale.</p>

<pre class="brush: js notranslate">const text = &apos;Un obscur message venant du le système S-K, votre majesté. Ses habitants le nomment la planète Terre.&apos;;

async function digestMessage(message) {
  const msgUint8 = new TextEncoder().encode(message);                           // encode comme (utf-8) Uint8Array
  const hashBuffer = await crypto.subtle.digest(&apos;SHA-256&apos;, msgUint8);           // fait le condensé
  const hashArray = Array.from(new Uint8Array(hashBuffer));                     // convertit le buffer en tableau d&apos;octet
  const hashHex = hashArray.map(b =&gt; b.toString(16).padStart(2, &apos;0&apos;)).join(&apos;&apos;); // convertit le tableau en chaîne hexadélimale
  return hashHex;
}

const digestHex = await digestMessage(text);
console.log(digestHex);
</pre>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécifications</th>
   <th scope="col">Statue</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.w3.org/TR/WebCryptoAPI/#dfn-SubtleCrypto-method-digest" hreflang="en" lang="en">Web Cryptography API<br><small lang="fr">La définition de &apos;SubtleCrypto.digest()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td>Définition intiale</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilité_des_navigateurs">Compatibilité des navigateurs</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.SubtleCrypto.digest"></div>

<div class="note notecard">
<p> Dans Chrome 60, une fonctionnalité a été ajoutée qui désactive <strong>crypto.subtle</strong> pour les connexions non TLS.</p>
</div>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features">(en) Chromium secure origins specification</a></li>
 <li><a href="https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf" rel="noopener">(en) FIPS 180-4</a> spécifie les algorithmes de condensé de la famille SHA.</li>
</ul>
