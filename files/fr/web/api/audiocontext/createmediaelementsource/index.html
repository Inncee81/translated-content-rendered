---
title: AudioContext.createMediaElementSource()
slug: Web/API/AudioContext/createMediaElementSource
translation_of: Web/API/AudioContext/createMediaElementSource
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/Web_Audio_API">Web Audio API</a></strong></li><li><strong><a href="/fr/docs/Web/API/AudioContext"><code>AudioContext</code></a></strong></li><li class="toggle"><details open><summary>Constructeur</summary><ol><li><a href="/fr/docs/Web/API/AudioContext/AudioContext"><code>AudioContext()</code></a> <a href="/fr/docs/Web/API/AudioContext/AudioContext$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/AudioContext/baseLatency"><code>baseLatency</code></a> <a href="/fr/docs/Web/API/AudioContext/baseLatency$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/AudioContext/outputLatency"><code>outputLatency</code></a> <a href="/fr/docs/Web/API/AudioContext/outputLatency$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/AudioContext/close"><code>close()</code></a> <a href="/fr/docs/Web/API/AudioContext/close$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/fr/docs/Web/API/AudioContext/createJavaScriptNode"><code>createJavaScriptNode()</code></a> <a href="/fr/docs/Web/API/AudioContext/createJavaScriptNode$translate" style="opacity: 0.5;">[Traduire]</a></s></li><li><em><code>createMediaElementSource()</code></em></li><li><a href="/fr/docs/Web/API/AudioContext/createMediaStreamDestination"><code>createMediaStreamDestination()</code></a> <a href="/fr/docs/Web/API/AudioContext/createMediaStreamDestination$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/AudioContext/createMediaStreamSource"><code>createMediaStreamSource()</code></a> <a href="/fr/docs/Web/API/AudioContext/createMediaStreamSource$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/AudioContext/createMediaStreamTrackSource"><code>createMediaStreamTrackSource()</code></a> <a href="/fr/docs/Web/API/AudioContext/createMediaStreamTrackSource$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/fr/docs/Web/API/AudioContext/createWaveTable"><code>createWaveTable()</code></a> <a href="/fr/docs/Web/API/AudioContext/createWaveTable$translate" style="opacity: 0.5;">[Traduire]</a></s></li><li><a href="/fr/docs/Web/API/AudioContext/getOutputTimestamp"><code>getOutputTimestamp()</code></a> <a href="/fr/docs/Web/API/AudioContext/getOutputTimestamp$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/AudioContext/resume"><code>resume()</code></a> <a href="/fr/docs/Web/API/AudioContext/resume$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/AudioContext/suspend"><code>suspend()</code></a> <a href="/fr/docs/Web/API/AudioContext/suspend$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Héritage :</summary><ol><li><a href="/fr/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à Web Audio API</summary><ol><li><a href="/fr/docs/Web/API/AnalyserNode"><code>AnalyserNode</code></a></li><li><a href="/fr/docs/Web/API/AudioBuffer"><code>AudioBuffer</code></a></li><li><a href="/fr/docs/Web/API/AudioBufferSourceNode"><code>AudioBufferSourceNode</code></a></li><li><a href="/fr/docs/Web/API/AudioContextOptions"><code>AudioContextOptions</code></a></li><li><a href="/fr/docs/Web/API/AudioDestinationNode"><code>AudioDestinationNode</code></a></li><li><a href="/fr/docs/Web/API/AudioListener"><code>AudioListener</code></a></li><li><a href="/fr/docs/Web/API/AudioNode"><code>AudioNode</code></a></li><li><a href="/fr/docs/Web/API/AudioNodeOptions"><code>AudioNodeOptions</code></a></li><li><a href="/fr/docs/Web/API/AudioParam"><code>AudioParam</code></a></li><li><a href="/fr/docs/Web/API/AudioProcessingEvent"><code>AudioProcessingEvent</code></a></li><li><a href="/fr/docs/Web/API/AudioScheduledSourceNode"><code>AudioScheduledSourceNode</code></a></li><li><a href="/fr/docs/Web/API/AudioWorklet"><code>AudioWorklet</code></a></li><li><a href="/fr/docs/Web/API/AudioWorkletGlobalScope"><code>AudioWorkletGlobalScope</code></a></li><li><a href="/fr/docs/Web/API/AudioWorkletNode"><code>AudioWorkletNode</code></a></li><li><a href="/fr/docs/Web/API/AudioWorkletProcessor"><code>AudioWorkletProcessor</code></a></li><li><a href="/fr/docs/Web/API/BaseAudioContext"><code>BaseAudioContext</code></a></li><li><a href="/fr/docs/Web/API/BiquadFilterNode"><code>BiquadFilterNode</code></a></li><li><a href="/fr/docs/Web/API/ChannelMergerNode"><code>ChannelMergerNode</code></a></li><li><a href="/fr/docs/Web/API/ChannelSplitterNode"><code>ChannelSplitterNode</code></a></li><li><a href="/fr/docs/Web/API/ConstantSourceNode"><code>ConstantSourceNode</code></a></li><li><a href="/fr/docs/Web/API/ConvolverNode"><code>ConvolverNode</code></a></li><li><a href="/fr/docs/Web/API/DelayNode"><code>DelayNode</code></a></li><li><a href="/fr/docs/Web/API/DynamicsCompressorNode"><code>DynamicsCompressorNode</code></a></li><li><a href="/fr/docs/Web/API/GainNode"><code>GainNode</code></a></li><li><a href="/fr/docs/Web/API/IIRFilterNode"><code>IIRFilterNode</code></a></li><li><a href="/fr/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a></li><li><a href="/fr/docs/Web/API/MediaStreamAudioDestinationNode"><code>MediaStreamAudioDestinationNode</code></a></li><li><a href="/fr/docs/Web/API/MediaStreamAudioSourceNode"><code>MediaStreamAudioSourceNode</code></a></li><li><a href="/fr/docs/Web/API/OfflineAudioCompletionEvent"><code>OfflineAudioCompletionEvent</code></a></li><li><a href="/fr/docs/Web/API/OfflineAudioContext"><code>OfflineAudioContext</code></a></li><li><a href="/fr/docs/Web/API/OscillatorNode"><code>OscillatorNode</code></a></li><li><a href="/fr/docs/Web/API/PannerNode"><code>PannerNode</code></a></li><li><a href="/fr/docs/Web/API/PeriodicWave"><code>PeriodicWave</code></a></li><li><a href="/fr/docs/Web/API/StereoPannerNode"><code>StereoPannerNode</code></a></li><li><a href="/fr/docs/Web/API/WaveShaperNode"><code>WaveShaperNode</code></a></li></ol></details></li></ol></section>

<div>
<p>La méthode <code>createMediaElementSource()</code> de l’interface <a href="/fr/docs/Web/API/AudioContext"><code>AudioContext</code></a> est utilisée pour créer un nouvel objet <a href="/fr/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a> d’après un élément HTML <a href="/fr/docs/Web/HTML/Element/audio" title="L&apos;élément HTML &lt;audio&gt; est utilisé afin d&apos;intégrer un contenu sonore dans un document. Il peut contenir une ou plusieurs sources audio représentées avec l&apos;attribut src ou l&apos;élément &lt;source&gt;. S&apos;il y a plusieurs sources, l&apos;agent utilisateur choisira celle qui convient le mieux."><code>&lt;audio&gt;</code></a> ou <a href="/fr/docs/Web/HTML/Element/video" title="L&apos;élément HTML &lt;video&gt; intègre un contenu vidéo dans un document."><code>&lt;video&gt;</code></a> existant, permettant ainsi de jouer et de manipuler l’audio de cet élément.</p>
</div>

<p>Pour plus de détails à propos des nœuds source audio des éléments média, constultez la page de référence de <a href="/fr/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a>.</p>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="brush: js notranslate">var audioCtx = new AudioContext();
var source = audioCtx.createMediaElementSource(myMediaElement);</pre>

<h3 id="Paramètres">Paramètres</h3>

<dl>
 <dt><code>myMediaElement</code></dt>
 <dd>Un objet <a href="/fr/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a> que vous voulez injecter dans un graphe de traitement audio pour le manipuler.</dd>
</dl>

<h3 id="Valeur_de_retour">Valeur de retour</h3>

<p>Un <a href="/fr/docs/Web/API/MediaElementAudioSourceNode"><code>MediaElementAudioSourceNode</code></a>.</p>

<h2 id="Exemple">Exemple</h2>

<p>Cet exemple simple crée une source depuis un élément <a href="/fr/docs/Web/HTML/Element/audio" title="L&apos;élément HTML &lt;audio&gt; est utilisé afin d&apos;intégrer un contenu sonore dans un document. Il peut contenir une ou plusieurs sources audio représentées avec l&apos;attribut src ou l&apos;élément &lt;source&gt;. S&apos;il y a plusieurs sources, l&apos;agent utilisateur choisira celle qui convient le mieux."><code>&lt;audio&gt;</code></a> grâce à <code>createMediaElementSource()</code>, puis passe le signal audio à travers un <a href="/fr/docs/Web/API/GainNode"><code>GainNode</code></a> avant de l’injecter dans le <a href="/fr/docs/Web/API/AudioDestinationNode"><code>AudioDestinationNode</code></a> pour la lecture. Quand le pointeur de la souris est déplacé, la fonction <code>updatePage()</code> est invoquée, et calcule le gain actuel comme rapport de la position Y de la souris divisée par la hauteur totale de la fenêtre. Vous pouvez ainsi augmenter ou diminuer le volume de la musique jouée, en déplaçant le pointeur de la souris vers le haut ou vers le bas.</p>

<div class="note">
<p><strong>Note</strong> : Vous pouvez également <a href="http://mdn.github.io/webaudio-examples/media-source-buffer/">voir cet exemple en temps réel</a>, ou <a href="https://github.com/mdn/webaudio-examples/tree/master/media-source-buffer">examiner le code source</a>.</p>
</div>

<pre class="brush: js notranslate">var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
var myAudio = document.querySelector(&apos;audio&apos;);
var pre = document.querySelector(&apos;pre&apos;);
var myScript = document.querySelector(&apos;script&apos;);

pre.innerHTML = myScript.innerHTML;

// Crée un MediaElementAudioSourceNode
// et y injecte le HTMLMediaElement
var source = audioCtx.createMediaElementSource(myAudio);

// Crée un nœud gain
var gainNode = audioCtx.createGain();

// Crée les variables pour stocker la position Y du pointeur
// et la HAUTEUR de l’écran
var CurY;
var HEIGHT = window.innerHeight;

// Récupère les nouvelles coordonnées du pointeur quand la souris est déplacée
// et définit la nouvelle valeur de gain

document.onmousemove = updatePage;

function updatePage(e) {
    CurY = (window.Event) ? e.pageY : event.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);

    gainNode.gain.value = CurY/HEIGHT;
}


// connecte le AudioBufferSourceNode au nœud gain
// et le nœud gain à la destination, de sorte qu’on puisse jouer la
// musique et ajuster le volume avec le curseur de la souris
source.connect(gainNode);
gainNode.connect(audioCtx.destination);</pre>

<div class="note">
<p><strong>Note </strong>: Du fait de l’appel à <code>createMediaElementSource()</code>, la lecture de l’audio du <a href="/fr/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a> est redirigée dans le graphe de traitement de l’AudioContext. Ainsi, jouer / mettre en pause le média est toujours possible via l’API des éléments média ou via les contrôles du lecteur.</p>
</div>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a class="external" href="https://webaudio.github.io/web-audio-api/#widl-AudioContext-createMediaElementSource-MediaElementAudioSourceNode-HTMLMediaElement-mediaElement" hreflang="en" lang="en">Web Audio API<br><small lang="fr">La définition de &apos;createMediaElementSource()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-WD">Version de travail</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilité_des_navigateurs">Compatibilité des navigateurs</h2>

<div>
<div class="hidden">Le tableau de compatibilité dans cette page est généré depuis des données structurées. Si vous souhaitez contribuer aux données, veuillez consulter <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> et nous envoyer une pull request.</div>

<div class="bc-data" id="bcd:api.AudioContext.createMediaElementSource"></div>
</div>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/fr/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Utiliser la Web Audio API</a></li>
</ul>
