---
title: CacheStorage.keys()
slug: Web/API/CacheStorage/keys
tags:
  - API
  - CacheStorage
  - Experimental
  - Méthodes
  - Reference
  - Service Workers
  - ServiceWorker
  - keys
translation_of: Web/API/CacheStorage/keys
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/Service_Worker_API">Service Worker API</a></strong></li><li><strong><a href="/fr/docs/Web/API/CacheStorage"><code>CacheStorage</code></a></strong></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/CacheStorage/delete"><code>delete()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/CacheStorage/has"><code>has()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><em><code>keys()</code></em></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/CacheStorage/match"><code>match()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/CacheStorage/open"><code>open()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à Service Workers API</summary><ol><li><a href="/fr/docs/Web/API/Cache"><code>Cache</code></a></li><li><a href="/fr/docs/Web/API/Client"><code>Client</code></a></li><li><a href="/fr/docs/Web/API/Clients"><code>Clients</code></a></li><li><a href="/fr/docs/Web/API/ExtendableEvent"><code>ExtendableEvent</code></a></li><li><a href="/fr/docs/Web/API/FetchEvent"><code>FetchEvent</code></a></li><li><a href="/fr/docs/Web/API/InstallEvent"><code>InstallEvent</code></a></li><li><a href="/fr/docs/Web/API/Navigator/serviceWorker"><code>Navigator.serviceWorker</code></a></li><li><a href="/fr/docs/Web/API/NotificationEvent"><code>NotificationEvent</code></a></li><li><a href="/fr/docs/Web/API/PeriodicSyncEvent"><code>PeriodicSyncEvent</code></a></li><li><a href="/fr/docs/Web/API/PeriodicSyncManager"><code>PeriodicSyncManager</code></a></li><li><a href="/fr/docs/Web/API/PeriodicSyncRegistration"><code>PeriodicSyncRegistration</code></a></li><li><a href="/fr/docs/Web/API/ServiceWorker"><code>ServiceWorker</code></a></li><li><a href="/fr/docs/Web/API/ServiceWorkerContainer"><code>ServiceWorkerContainer</code></a></li><li><a href="/fr/docs/Web/API/ServiceWorkerGlobalScope"><code>ServiceWorkerGlobalScope</code></a></li><li><a href="/fr/docs/Web/API/ServiceWorkerRegistration"><code>ServiceWorkerRegistration</code></a></li><li><a href="/fr/docs/Web/API/SyncEvent"><code>SyncEvent</code></a></li><li><a href="/fr/docs/Web/API/SyncManager"><code>SyncManager</code></a></li><li><a href="/fr/docs/Web/API/SyncRegistration"><code>SyncRegistration</code></a></li><li><a href="/fr/docs/Web/API/WindowClient"><code>WindowClient</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><strong>Cette fonction est expérimentale</strong><br>Puisque cette fonction est toujours en développement dans certains navigateurs, veuillez consulter le <a href="#Compatibilité_des_navigateurs">tableau de compatibilité</a> pour les préfixes à utiliser selon les navigateurs.<br>Il convient de noter qu&apos;une fonctionnalité expérimentale peut voir sa syntaxe ou son comportement modifié dans le futur en fonction des évolutions de la spécification.</p>
</div>

<p>La méthode <code><strong>keys</strong></code><strong><code>()</code></strong> de l&apos;interface <a href="/fr/docs/Web/API/CacheStorage"><code>CacheStorage</code></a> retourne une <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"><code>Promesse</code></a> qui renvoie une liste content les chaines de caractères correspondant à tous les noms des <a href="/fr/docs/Web/API/Cache"><code>Cache</code></a> suivient par l&apos;objet <a href="/fr/docs/Web/API/CacheStorage"><code>CacheStorage</code></a>. Utilisez cette méthode pour itérer sur une liste de tous les objets <a href="/fr/docs/Web/API/Cache"><code>Cache</code></a>.</p>

<p>Vous pouvez accéder à <code>CacheStorage</code> via la propriété globale <a href="/fr/docs/Web/API/WindowOrWorkerGlobalScope/caches"><code>caches</code></a>.</p>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="syntaxbox notranslate">caches.keys().then(function(<em>keyList</em>) {
  // faire quelque-chose avec votre keylist
});
</pre>

<h3 id="Paramètres">Paramètres</h3>

<p>Aucun.</p>

<h3 id="Retour">Retour</h3>

<p>Une <a href="/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise"><code>Promesse</code></a> qui retourne une liste de noms de <a href="/fr/docs/Web/API/Cache"><code>Cache</code></a> contenus dans un objet <a href="/fr/docs/Web/API/CacheStorage"><code>CacheStorage</code></a>.</p>

<h2 id="Exemples" style="line-height: 30px; font-size: 2.14285714285714rem;">Exemples</h2>

<p>Dans ce fragment de code, nous attendons un évènement, et bloquons avec un <a href="/fr/docs/Web/API/ExtendableEvent/waitUntil"><code>waitUntil()</code></a>, qui nettoie les anciens caches, inutilisés, avant que le nouveau service worker soit activé. Nous avons ici une liste blanche contenant le nom du cache que nous voulons garder. Nous retournons les clés des caches dans l&apos;objet <a href="/fr/docs/Web/API/CacheStorage"><code>CacheStorage</code></a> utilisant <a href="/fr/docs/Web/API/CacheStorage/keys"><code>CacheStorage.keys</code></a>, pour ensuite vérifier que chaque clé est dans la liste blance. Sinon, nous la supprimons avec <code>delete().</code></p>

<pre class="brush: js notranslate">then.addEventListener(&apos;activate&apos;, function(event) {
  var cacheWhitelist = [&apos;v2&apos;];

  event.waitUntil(
    caches.keys().then(function(keyList) {
      return Promise.all(keyList.map(function(key) {
        if (cacheWhitelist.indexOf(key) === -1) {
          return caches.delete(key);
        }
      });
    })
  );
});</pre>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/ServiceWorker/#dom-cachestorage-keys" hreflang="en" lang="en">Service Workers<br><small lang="fr">La définition de &apos;CacheStorage: keys&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-WD">Version de travail</span></td>
   <td>Définition initiale.</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilités_des_navigateurs">Compatibilités des navigateurs</h2>

<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.CacheStorage.keys"></div>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/fr/docs/Web/API/Service_Worker_API/Using_Service_Workers">Utiliser les Service Workers</a></li>
 <li><a href="/fr/docs/Web/API/Cache"><code>Cache</code></a></li>
 <li><a href="/fr/docs/Web/API/WorkerGlobalScope/caches"><code>WorkerGlobalScope.caches</code></a></li>
</ul>
