---
title: HTMLMediaElement.captureStream()
slug: Web/API/HTMLMediaElement/captureStream
tags:
  - API
  - Audio
  - HTML DOM
  - HTMLMediaElement
  - Media
  - Media Capture DOM Elements
  - Method
  - Reference
  - Video
  - captureStream
translation_of: Web/API/HTMLMediaElement/captureStream
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a></strong></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/HTMLMediaElement/audioTracks"><code>audioTracks</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/audioTracks$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/autoplay"><code>autoplay</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/autoplay$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/buffered"><code>buffered</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/buffered$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/controller"><code>controller</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/controller$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/controls"><code>controls</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/controls$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/controlsList"><code>controlsList</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/controlsList$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/crossOrigin"><code>crossOrigin</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/crossOrigin$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/currentSrc"><code>currentSrc</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/currentSrc$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/currentTime"><code>currentTime</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/currentTime$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/defaultMuted"><code>defaultMuted</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/defaultMuted$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/defaultPlaybackRate"><code>defaultPlaybackRate</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/defaultPlaybackRate$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/duration"><code>duration</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/duration$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/ended"><code>ended</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/ended$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/error"><code>error</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/error$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/fr/docs/Web/API/HTMLMediaElement/initialTime"><code>initialTime</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/initialTime$translate" style="opacity: 0.5;">[Traduire]</a></s></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/loop"><code>loop</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/loop$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/mediaGroup"><code>mediaGroup</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/mediaGroup$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/muted"><code>muted</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/muted$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/networkState"><code>networkState</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/networkState$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/onerror"><code>onerror</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/onerror$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/paused"><code>paused</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/paused$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/playbackRate"><code>playbackRate</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/playbackRate$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/readyState"><code>readyState</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/readyState$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/seekable"><code>seekable</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/seekable$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/HTMLMediaElement/sinkId"><code>sinkId</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/sinkId$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/src"><code>src</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/src$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/srcObject"><code>srcObject</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/srcObject$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/textTracks"><code>textTracks</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/textTracks$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/videoTracks"><code>videoTracks</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/videoTracks$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/volume"><code>volume</code></a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/HTMLMediaElement/canPlayType"><code>canPlayType()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/canPlayType$translate" style="opacity: 0.5;">[Traduire]</a></li><li><em><code>captureStream()</code></em></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/fastSeek"><code>fastSeek()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/fastSeek$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/load"><code>load()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/load$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/API/HTMLMediaElement/msInsertAudioEffect"><code>msInsertAudioEffect()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/msInsertAudioEffect$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/pause"><code>pause()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/pause$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/play"><code>play()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="Cette API n&apos;a pas été standardisée."><i class="icon-warning-sign"> </i></span></span><a href="/fr/docs/Web/API/HTMLMediaElement/seekToNextFrame"><code>seekToNextFrame()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/seekToNextFrame$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/HTMLMediaElement/setMediaKeys"><code>setMediaKeys()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/setMediaKeys$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/HTMLMediaElement/setSinkId"><code>setSinkId()</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/setSinkId$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Événements</summary><ol><li><a href="/fr/docs/Web/API/HTMLMediaElement/abort_event"><code>abort</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/canplay_event"><code>canplay</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/canplaythrough_event"><code>canplaythrough</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/durationchange_event"><code>durationchange</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/emptied_event"><code>emptied</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/ended_event"><code>ended</code></a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/error_event"><code>error</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/error_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/loadeddata_event"><code>loadeddata</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/loadeddata_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/loadedmetadata_event"><code>loadedmetadata</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/loadedmetadata_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/loadstart_event"><code>loadstart</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/loadstart_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/pause_event"><code>pause</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/pause_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/play_event"><code>play</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/play_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/progress_event"><code>progress</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/progress_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/ratechange_event"><code>ratechange</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/ratechange_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/seeked_event"><code>seeked</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/seeked_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/seeking_event"><code>seeking</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/seeking_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/stalled_event"><code>stalled</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/stalled_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/suspend_event"><code>suspend</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/suspend_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/timeupdate_event"><code>timeupdate</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/timeupdate_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/volumechange_event"><code>volumechange</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/volumechange_event$translate" style="opacity: 0.5;">[Traduire]</a></li><li><a href="/fr/docs/Web/API/HTMLMediaElement/waiting_event"><code>waiting</code></a> <a href="/fr/docs/Web/API/HTMLMediaElement/waiting_event$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Héritage :</summary><ol><li><a href="/fr/docs/Web/API/HTMLElement"><code>HTMLElement</code></a></li><li><a href="/fr/docs/Web/API/Element"><code>Element</code></a></li><li><a href="/fr/docs/Web/API/Node"><code>Node</code></a></li><li><a href="/fr/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li></ol></section></div>

<p><strong><code>captureStream()</code></strong> est une méthode de l&apos;interface <a href="/fr/docs/Web/API/HTMLMediaElement"><code>HTMLMediaElement</code></a> retournant un objet <a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a> qui diffuse en temps réel l&apos;enregistrement d&apos;un contenu obtenu dans un élément média.</p>

<h2 id="Syntax">Syntax</h2>

<pre class="syntaxbox notranslate">var <em>mediaStream</em> = mediaElement.captureStream()</pre>

<h3 id="Paramètres">Paramètres</h3>

<p>Aucun.</p>

<h3 id="Retours">Retours</h3>

<p>Un objet <a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a> pouvant être utilisé en tant que source pour des données audio et/ou vidéo par d&apos;autres média traitant du code, ou comme source pour <a href="/en-US/docs/Glossary/WebRTC">WebRTC</a>.</p>

<h2 id="Exemple">Exemple</h2>

<p>Dans cet exemple, un écouteur d&apos;événement est mise en place, permettant la capture du contenu d&apos;un élément média avec l&apos;ID <code>&quot;playback&quot;</code> dans un <a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a> lors d&apos;un clic sur un bouton de lancement. La flux peut être utilisée dans d&apos;autres buts—comme une source de diffusion via WebRTC, vous permettant de partager des vidéos pré-enregistrées avec une autre personne lors d&apos;un appel video.</p>

<pre class="brush: js notranslate">document.querySelector(&apos;.playAndRecord&apos;).addEventListener(&apos;click&apos;, function() {
  var playbackElement = document.getElementById(&quot;playback&quot;);
  var captureStream = playbackElement.captureStream();
  playbackElement.play();
});
</pre>

<p>Voir <a href="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">Recording a media element</a> pour des exemples et explications plus détaillées et complexes.</p>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Status</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a class="external" href="https://w3c.github.io/mediacapture-fromelement/#widl-HTMLMediaElement-captureStream-MediaStream" hreflang="en" lang="en">Media Capture from DOM Elements<br><small lang="fr">La définition de &apos;captureStream()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-WD">Version de travail</span></td>
   <td>Déclaration initiale.</td>
  </tr>
 </tbody>
</table>

<h2 id="Compatibilités">Compatibilités</h2>

<div>
<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.HTMLMediaElement.captureStream"></div>

<h3 id="Firefox-notes_spécifiques">Firefox-notes spécifiques</h3>
</div>

<p>Avant Firefox 51, vous ne pouviez pas utiliser <code>captureStream()</code> sur un élément média dont la source était, lui-même, un objet <a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a> (comme un élément <a href="/fr/docs/Web/HTML/Element/video" title="L&apos;élément HTML &lt;video&gt; intègre un contenu vidéo dans un document."><code>&lt;video&gt;</code></a> présentant un flux reçu à travers un <a href="/fr/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a>). Au commencement de  51, ça fonctionne. ce qui veut dire que vous pouvez capturer le flux d&apos;un élément video et utiliser <a href="/fr/docs/Web/API/MediaRecorder"><code>MediaRecorder</code></a> pour l&apos;enregistrer. Voir <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1259788">bug 1259788</a> pour plus de détails.</p>

<p>Cependant, <code>captureStream()</code> reste préfixé <code>mozCaptureStream()</code> sur Firefox pour une bonne raison: il y a quelques etrangetés dans l&apos;implémentation actuelle qui mérite d&apos;être soulignées :</p>

<ul>
 <li>Actuellement, l&apos;implémentation de Firefox fonctionne uniquement (comme décrit dans les spécifications) quand la source de l&apos;élément média est elle-même, donc une instance <a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a>.</li>
 <li>Si la source de l&apos;élément média n&apos;est pas un <code>MediaStream</code>, la sortie de cette méthode n&apos;est pas compatible avec les spécifications, et si vous changez la source après avoir commencé la capture, la sortie de la capture du flux ne peut accepter les nouvelles données source suite à une incompatibilité, donc aucun  <a href="/fr/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a>s sera ajouté de la nouvelle source <code>MediaStream</code> au flux capturé, résultant d&apos;une sortie n&apos;ayant pas capturé la source mise à jour.</li>
 <li>Repasser la source en <code>MediaStream</code> ajoute des pistes au flux et fonctionne de nouveau comme prévu.</li>
 <li>L&apos;appel à <code>mozCaptureMediaStream()</code> sur un élément avec une source <code>MediaStream</code> retourne un flux qui contient uniquement les pistes jouées par un <code>MediaStream</code>.</li>
 <li>Si vous appellez <code>mozCaptureMediaStream()</code> sur un élément média sans source, son mode de compatibilité va se baser sur la première source ayant été ajoutée; Par exemple, Si c&apos;est un <code>MediaStream</code>, alors la capture du flux va seulement fonctionner avec une source MediaStream à partir de ce moment.</li>
 <li>Ce comportement particulier va être supprimer un fois que le support des sources non-<code>MediaStream</code> aura atteint la spécification et que la méthode ne sera plus préfixée. Voir <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1259788#c160">bug 1259788, comment 160</a> pour plus de détails.</li>
</ul>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">Recording a media element</a></li>
 <li><a href="/en-US/docs/Web/API/MediaStream_Recording_API">MediaStream Recording API</a></li>
 <li><a href="/fr/docs/Web/API/HTMLCanvasElement/captureStream"><code>HTMLCanvasElement.captureStream()</code></a></li>
 <li><a href="/fr/docs/Web/API/MediaStream"><code>MediaStream</code></a></li>
 <li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></li>
</ul>
