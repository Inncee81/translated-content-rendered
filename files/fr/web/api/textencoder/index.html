---
title: TextEncoder
slug: Web/API/TextEncoder
tags:
  - API
  - Encoding
  - Experimental
  - Interface
  - Reference
  - TextEncoder
translation_of: Web/API/TextEncoder
---
<section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/Encoding_API">Encoding API</a></strong></li><li><strong><a href="/fr/docs/Web/API/TextEncoder"><code>TextEncoder</code></a></strong></li><li class="toggle"><details open><summary>Constructeur</summary><ol><li><a href="/fr/docs/Web/API/TextEncoder/TextEncoder"><code>TextEncoder()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/TextEncoder/encoding"><code>encoding</code></a> <a href="/fr/docs/Web/API/TextEncoder/encoding$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/TextEncoder/encode"><code>encode()</code></a> <a href="/fr/docs/Web/API/TextEncoder/encode$translate" style="opacity: 0.5;">[Traduire]</a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This is an experimental API that should not be used in production code."><i class="icon-beaker"> </i></span></span><a href="/fr/docs/Web/API/TextEncoder/encodeInto"><code>encodeInto()</code></a> <a href="/fr/docs/Web/API/TextEncoder/encodeInto$translate" style="opacity: 0.5;">[Traduire]</a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à Encoding API</summary><ol><li><a href="/fr/docs/Web/API/TextDecoder"><code>TextDecoder</code></a></li></ol></details></li></ol></section><div class="experimental indicator-warning notecard">
    <p><strong>Cette fonction est expérimentale</strong><br>Puisque cette fonction est toujours en développement dans certains navigateurs, veuillez consulter le <a href="#Compatibilité_des_navigateurs">tableau de compatibilité</a> pour les préfixes à utiliser selon les navigateurs.<br>Il convient de noter qu&apos;une fonctionnalité expérimentale peut voir sa syntaxe ou son comportement modifié dans le futur en fonction des évolutions de la spécification.</p>
</div>

<p><code><strong>TextEncoder</strong></code> prend un flux de points de code en entrée et émet un flux d&apos;octets. Pour une bibliothèque non native plus extensible, voir <a href="/en-US/Add-ons/Code_snippets/StringView" title="/en-US/docs/Web/JavaScript/Typed_arrays/StringView"><code>StringView</code> – une représentation des chaînes de caractères proche de celle de C basée sur les tableaux typés</a>.</p>

<div class="note notecard">
<p><strong>Note</strong>: Firefox, Chrome et Opera ont pour habitude de supporter les types d&apos;encodage autres que <code>utf-8</code> (tels que <code>utf-16</code>, <code>iso-8859-2</code>, <code>koi8</code>, <code>cp1261</code>, et <code>gbk</code>). À partir de Firefox 48 (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1257877">bug 1257877</a>), Chrome 54 (<a href="https://www.chromestatus.com/feature/5630760492990464">ticket</a>) et Opera 41, aucun type d&apos;encodage autre que <code>utf-8</code> n&apos;est disponible, de manière à être en accord avec la <a href="https://www.w3.org/TR/encoding/#dom-textencoder">spécification</a>. Dans tous les cas, passer un type d&apos;encodage au constructeur sera ignoré et un TextEncoder utf-8 sera créé (le <a href="/fr/docs/Web/API/TextDecoder"><code>TextDecoder</code></a> permet toujours d&apos;autres types pour le décodage).</p>
</div>

<div class="note notecard">
<p><strong>Note</strong>: Il y a une prothèse d&apos;émulation d&apos;implantation pour supporter tous les encodages hérités dans <a href="https://github.com/inexorabletash/text-encoding">GitHub</a>.</p>
</div>

<h2 id="Constructeur">Constructeur</h2>

<dl>
 <dt><a href="/fr/docs/Web/API/TextEncoder/TextEncoder"><code>TextEncoder()</code></a></dt>
 <dd>Retourne une nouvel objet <code>TextEncoder</code> qui génèrera un flux d&apos;octets encodés en utf-8.</dd>
</dl>

<h2 id="Propriétés">Propriétés</h2>

<p><em>L&apos;interface <code>TextEncoder</code> n&apos;hérite d&apos;aucune propriété.</em></p>

<dl>
 <dt><a href="/fr/docs/Web/API/TextEncoder/encoding"><code>TextEncoder.encoding</code></a><span class="readOnly readOnlyInline notecard inline" title="Cette valeur ne peut pas être changée.">Lecture seule </span></dt>
 <dd><a href="/fr/docs/Web/API/DOMString"><code>DOMString</code></a> contenant le nom de l&apos;encodeur, qui est une chaîne de caractères décrivant la méthode que l&apos;objet <code>TextEncoder</code> utilisera.</dd>
</dl>

<h2 id="Méthodes">Méthodes</h2>

<dl>
</dl>

<p><em><em>L&apos;interface <code>TextEncoder</code> n&apos;hérite d&apos;aucune propriété</em></em>.</p>

<dl>
 <dt><a href="/fr/docs/Web/API/TextEncoder/encode"><code>TextEncoder.encode()</code></a></dt>
 <dd>Retourne un <a href="/en-US/docs/Web/JavaScript/Typed_arrays/Uint8Array" title="/en-US/docs/Web/JavaScript/Typed_arrays/Uint8Array"><code>Uint8Array</code></a> conternant un texte encodé en utf-8.</dd>
</dl>

<h2 id="Prothèse_démulation">Prothèse d&apos;émulation</h2>

<p>La prothèse d&apos;émulation ci-dessous va uniquement répondre aux spécifications données par le W3 (par d&apos;autre type d&apos;encodage que UTF-8 n&apos;est supporté, malheureusement ☹️). Elle est conçue pour fonctionner &quot;clé en main&quot; avec IE5. Toutefois, de IE5 à IE9, elle retournera un tableau normal plutôt qu&apos;un tableau typé. Dans de telles circonstances et avec des navigateurs si lents, cette prothèse (ou tout autre ayant le même objectif) serait inutilisable pour de longues chaînes de caractères avec ces vieux navigateurs. Enfin, notez que vous devriez exécuter le code ci-dessous avec un minifieur (et plus particulièrement un compilateur ) to turn sequences like <code>0x1e &lt;&lt; 3</code> into <code>0xf0</code>. These sequences are not already precomputed because they serve to aesthetically illustrate how the polyfill works.</p>

<pre class="brush: js notranslate">if (typeof TextEncoder === &quot;undefined&quot;) {
    TextEncoder=function TextEncoder(){};
    TextEncoder.prototype.encode = function encode(str) {
        &quot;use strict&quot;;
        var Len = str.length, resPos = -1;
        // The Uint8Array&apos;s length must be at least 3x the length of the string because an invalid UTF-16
        //  takes up the equivelent space of 3 UTF-8 characters to encode it properly. However, Array&apos;s
        //  have an auto expanding length and 1.5x should be just the right balance for most uses.
        var resArr = typeof Uint8Array === &quot;undefined&quot; ? new Array(Len * 1.5) : new Uint8Array(Len * 3);
        for (var point=0, nextcode=0, i = 0; i !== Len; ) {
            point = str.charCodeAt(i), i += 1;
            if (point &gt;= 0xD800 &amp;&amp; point &lt;= 0xDBFF) {
                if (i === Len) {
                    resArr[resPos += 1] = 0xef/*0b11101111*/; resArr[resPos += 1] = 0xbf/*0b10111111*/;
                    resArr[resPos += 1] = 0xbd/*0b10111101*/; break;
                }
                // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
                nextcode = str.charCodeAt(i);
                if (nextcode &gt;= 0xDC00 &amp;&amp; nextcode &lt;= 0xDFFF) {
                    point = (point - 0xD800) * 0x400 + nextcode - 0xDC00 + 0x10000;
                    i += 1;
                    if (point &gt; 0xffff) {
                        resArr[resPos += 1] = (0x1e/*0b11110*/&lt;&lt;3) | (point&gt;&gt;&gt;18);
                        resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6) | ((point&gt;&gt;&gt;12)&amp;0x3f/*0b00111111*/);
                        resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6) | ((point&gt;&gt;&gt;6)&amp;0x3f/*0b00111111*/);
                        resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6) | (point&amp;0x3f/*0b00111111*/);
                        continue;
                    }
                } else {
                    resArr[resPos += 1] = 0xef/*0b11101111*/; resArr[resPos += 1] = 0xbf/*0b10111111*/;
                    resArr[resPos += 1] = 0xbd/*0b10111101*/; continue;
                }
            }
            if (point &lt;= 0x007f) {
                resArr[resPos += 1] = (0x0/*0b0*/&lt;&lt;7) | point;
            } else if (point &lt;= 0x07ff) {
                resArr[resPos += 1] = (0x6/*0b110*/&lt;&lt;5) | (point&gt;&gt;&gt;6);
                resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6)  | (point&amp;0x3f/*0b00111111*/);
            } else {
                resArr[resPos += 1] = (0xe/*0b1110*/&lt;&lt;4) | (point&gt;&gt;&gt;12);
                resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6)    | ((point&gt;&gt;&gt;6)&amp;0x3f/*0b00111111*/);
                resArr[resPos += 1] = (0x2/*0b10*/&lt;&lt;6)    | (point&amp;0x3f/*0b00111111*/);
            }
        }
        if (typeof Uint8Array !== &quot;undefined&quot;) return resArr.subarray(0, resPos + 1);
        // else // IE 6-9
        resArr.length = resPos + 1; // trim off extra weight
        return resArr;
    };
    TextEncoder.prototype.toString = function(){return &quot;[object TextEncoder]&quot;};
    try { // Object.defineProperty only works on DOM prototypes in IE8
        Object.defineProperty(TextEncoder.prototype,&quot;encoding&quot;,{
            get:function(){if(TextEncoder.prototype.isPrototypeOf(this)) return&quot;utf-8&quot;;
                           else throw TypeError(&quot;Illegal invocation&quot;);}
        });
    } catch(e) { /*IE6-8 fallback*/ TextEncoder.prototype.encoding = &quot;utf-8&quot;; }
    if(typeof Symbol!==&quot;undefined&quot;)TextEncoder.prototype[Symbol.toStringTag]=&quot;TextEncoder&quot;;
}
</pre>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a class="external" href="https://encoding.spec.whatwg.org/#interface-textencoder" hreflang="en" lang="en">Encoding<br><small lang="fr">La définition de &apos;TextEncoder&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-Living">Standard évolutif</span></td>
   <td>Initial definition.</td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<div>
<div class="hidden">The compatibility table on this page is generated from structured data. If you&apos;d like to contribute to the data, please check out <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a> and send us a pull request.</div>

<div class="bc-data" id="bcd:api.TextEncoder"></div>
</div>

<h2 id="See_also">See also</h2>

<ul>
 <li>The <a href="/fr/docs/Web/API/TextDecoder"><code>TextDecoder</code></a> interface describing the inverse operation.</li>
 <li><a href="/en-US/Add-ons/Code_snippets/StringView"><code>StringView</code></a> – a C-like representation of strings based on typed arrays</li>
 <li>A <a href="https://github.com/inexorabletash/text-encoding">shim</a> allowing to use this interface in browsers that don&apos;t support it.</li>
 <li><code><a href="/en-US/docs/Components.utils.importGlobalProperties">Components.utils.importGlobalProperties</a></code></li>
</ul>
