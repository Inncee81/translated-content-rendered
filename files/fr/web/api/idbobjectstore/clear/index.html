---
title: IDBObjectStore.clear()
slug: Web/API/IDBObjectStore/clear
translation_of: Web/API/IDBObjectStore/clear
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/IndexedDB_API">IndexedDB API</a></strong></li><li><strong><a href="/fr/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></strong></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/IDBObjectStore/autoIncrement"><code>autoIncrement</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/indexNames"><code>indexNames</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/keyPath"><code>keyPath</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/name"><code>name</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/transaction"><code>transaction</code></a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/IDBObjectStore/add"><code>add()</code></a></li><li><em><code>clear()</code></em></li><li><a href="/fr/docs/Web/API/IDBObjectStore/count"><code>count()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/createIndex"><code>createIndex()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/delete"><code>delete()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/deleteIndex"><code>deleteIndex()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/get"><code>get()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getAll"><code>getAll()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getAllKeys"><code>getAllKeys()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getKey"><code>getKey()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/index"><code>index()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/openCursor"><code>openCursor()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/openKeyCursor"><code>openKeyCursor()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/put"><code>put()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Événements</summary><ol><li><a href="/fr/docs/Web/Events/upgradeneeded"><code>upgradeneeded</code></a></li><li><a href="/fr/docs/Web/Events/complete"><code>complete</code></a></li><li><a href="/fr/docs/Web/Events/abort"><code>abort</code></a></li><li><a href="/fr/docs/Web/Events/success"><code>success</code></a></li><li><a href="/fr/docs/Web/Events/error"><code>error</code></a></li><li><a href="/fr/docs/Web/Events/blocked"><code>blocked</code></a></li><li><a href="/fr/docs/Web/Events/versionchange"><code>versionchange</code></a></li><li><a href="/fr/docs/Web/Events/close"><code>close</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à IndexedDB</summary><ol><li><a href="/fr/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li><li><a href="/fr/docs/Web/API/IDBCursorSync"><code>IDBCursorSync</code></a></li><li><a href="/fr/docs/Web/API/IDBCursorWithValue"><code>IDBCursorWithValue</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabaseException"><code>IDBDatabaseException</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabaseSync"><code>IDBDatabaseSync</code></a></li><li><a href="/fr/docs/Web/API/IDBEnvironment"><code>IDBEnvironment</code></a></li><li><a href="/fr/docs/Web/API/IDBEnvironmentSync"><code>IDBEnvironmentSync</code></a></li><li><a href="/fr/docs/Web/API/IDBFactory"><code>IDBFactory</code></a></li><li><a href="/fr/docs/Web/API/IDBFactorySync"><code>IDBFactorySync</code></a></li><li><a href="/fr/docs/Web/API/IDBIndex"><code>IDBIndex</code></a></li><li><a href="/fr/docs/Web/API/IDBIndexSync"><code>IDBIndexSync</code></a></li><li><a href="/fr/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStoreSync"><code>IDBObjectStoreSync</code></a></li><li><a href="/fr/docs/Web/API/IDBOpenDBRequest"><code>IDBOpenDBRequest</code></a></li><li><a href="/fr/docs/Web/API/IDBRequest"><code>IDBRequest</code></a></li><li><a href="/fr/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li><li><a href="/fr/docs/Web/API/IDBTransactionSync"><code>IDBTransactionSync</code></a></li><li><a href="/fr/docs/Web/API/IDBVersionChangeEvent"><code>IDBVersionChangeEvent</code></a></li><li><a href="/fr/docs/Web/API/IDBVersionChangeRequest"><code>IDBVersionChangeRequest</code></a></li></ol></details></li></ol></section><p></p>

<p>La méthode <strong><code>clear()</code></strong> de l&apos;interface <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>IDBObjectStore</code></a> fait une <a href="/fr/docs/Web/API/IDBRequest" title="L&apos;interface IDBRequest de l&apos;API IndexedDB donne accès par ses gestionnaires d&apos;événements aux résultats des requêtes asynchrones sur la base de données, les magasins d&apos;objets ou les index. Chaque opération d&apos;écriture ou lecture sur la base de données utilise une requête."><code>requête</code></a> pour vider le magasin d&apos;objet <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>relié</code></a>.</p>

<p>Vider un magasin d&apos;objet consiste à supprimer tous les enregistrements et les entrées des index de ce magasin d&apos;objet.</p>

<div class="note notecard">
<p>Note: La méthode clear() ne remet pas à zero le compteur du génerateur de clé s&apos;il y en à un.</p>
</div>

<p></p><div class="note notecard"><strong>Note :</strong> Cette fonctionnalité est disponible via les <a href="/fr/docs/Web/API/Web_Workers_API">Web Workers</a>.</div><p></p>

<h2 id="Syntaxe">Syntaxe</h2>

<pre class="brush: js">var request = objectStore.clear();</pre>

<h2 id="Renvoie">Renvoie</h2>

<p>Une <a href="/fr/docs/Web/API/IDBRequest" title="L&apos;interface IDBRequest de l&apos;API IndexedDB donne accès par ses gestionnaires d&apos;événements aux résultats des requêtes asynchrones sur la base de données, les magasins d&apos;objets ou les index. Chaque opération d&apos;écriture ou lecture sur la base de données utilise une requête."><code>requête</code></a>.</p>

<h2 id="Exceptions">Exceptions</h2>

<dl>
 <dt><code>ReadOnlyError</code></dt>
 <dd>Cette <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>exception</code></a> est levé si la transaction associé à cette requête est en <a href="/fr/docs/Web/API/IDBTransaction/mode" title="La propriété mode de l&apos;interface IDBTransaction renvoie le mode d&apos;accès aux données des magasins d&apos;objet pendant la transaction (autrement dit, s&apos;agit-il d&apos;une transaction en lecture seule ou d&apos;un accès en écriture ?). La valeur par défaut est readonly."><code>mode</code></a> lecture seule.</dd>
 <dt><code>TransactionInactiveError</code></dt>
 <dd>Cette <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>exception</code></a> est levé si la <a href="/fr/docs/Web/API/IDBTransaction" title="L&apos;interface IDBTransaction de l&apos;API IndexedDB fournit une transaction statique asynchrone vers une base de données grâce à des attributs de gestion d&apos;évènementns. Toutes les opérations de lecture et d&apos;écriture de données sont effectuées au sein de transaction. Il est possible d&apos;utiliser IDBDatabase afin d&apos;initier des transactions puis IDBTransaction afin de paramétrer le mode de la transaction (c&apos;est-à-dire s&apos;il est en lecture seule ou en lecture/écriture) et d&apos;accéder à un objet IDBObjectStore pour réaliser une requête. On peut également utiliser IDBTransaction pour interrompre une requête."><code>transaction</code></a> de l&apos;<a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>accès</code></a> au magasin d’objet est inactive.</dd>
</dl>

<h2 id="Exemple">Exemple</h2>

<p>Dans le code suivant, on ouvre une <a href="/fr/docs/Web/API/IDBDatabase" title="L&apos;interface IDBDatabase de l&apos;API IndexedDB fournit une connexion à la base de données. On peut utiliser un objet IDBDatabase pour ouvrir une transaction sur la base de données puis ajouter, éditer ou supprimer des enregistrements de cette base de données. Cette interface constitue le seul moyen d&apos;accéder et de gérer les versions de la base de données."><code>connexion</code></a> à la base de donnée. Sur cette connexion on démarre une <a href="/fr/docs/Web/API/IDBTransaction" title="L&apos;interface IDBTransaction de l&apos;API IndexedDB fournit une transaction statique asynchrone vers une base de données grâce à des attributs de gestion d&apos;évènementns. Toutes les opérations de lecture et d&apos;écriture de données sont effectuées au sein de transaction. Il est possible d&apos;utiliser IDBDatabase afin d&apos;initier des transactions puis IDBTransaction afin de paramétrer le mode de la transaction (c&apos;est-à-dire s&apos;il est en lecture seule ou en lecture/écriture) et d&apos;accéder à un objet IDBObjectStore pour réaliser une requête. On peut également utiliser IDBTransaction pour interrompre une requête."><code>transaction</code></a> en lecture/écriture pour avoir un <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>accès</code></a> au magasin d&apos;objet <code>&quot;toDoList&quot;</code> et le <a href="/fr/docs/Web/API/IDBObjectStore/clear" title="La méthode clear() de l&apos;interface IDBObjectStore fait une requête pour vider le magasin d&apos;objet relié."><code>vider</code></a></p>

<p>La méthode <strong><code>clear()</code></strong> de l&apos;accès au magasin d&apos;objet fait une <a href="/fr/docs/Web/API/IDBRequest" title="L&apos;interface IDBRequest de l&apos;API IndexedDB donne accès par ses gestionnaires d&apos;événements aux résultats des requêtes asynchrones sur la base de données, les magasins d&apos;objets ou les index. Chaque opération d&apos;écriture ou lecture sur la base de données utilise une requête."><code>requête</code></a> pour vider le magasin d&apos;objet <code>toDoList</code>.</p>

<pre class="brush: js">//Connexion à la base de données
var DBOpenRequest = window.indexedDB.open(&quot;toDoList&quot;, 4);

DBOpenRequest.onsuccess = function(event) {
	note.innerHTML += &apos;&lt;li&gt;Connexion établie.&lt;/li&gt;&apos;;

	//Affecte la connexion à la variable db.
	db = DBOpenRequest.result;

  // Exécutez la fonction clearData () pour vider les données dans le magasin d&apos;objet
  clearData();
};

function clearData() {
  // ouvre une transaction de lecture / écriture  prête pour le nettoyage
  var transaction = db.transaction([&quot;toDoList&quot;], &quot;readwrite&quot;);

  // en cas de succès de l&apos;ouverture de la transaction
  transaction.oncomplete = function(event) {
	note.innerHTML += &apos;&lt;li&gt;Transaction complété : modification de la base de données terminée.&lt;/li&gt;&apos;;
  };

  // en cas d&apos;échec de l&apos;ouverture de la transaction
  transaction.onerror = function(event) {
     note.innerHTML += &apos;&lt;li&gt;Transaction en échec à cause de l\&apos;erreur : &apos; + transaction.error + &apos;&lt;/li&gt;&apos;;
  };

  // ouvre l&apos;accès au un magasin &quot;toDoList&quot; de la transaction
  var objectStore = transaction.objectStore(&quot;toDoList&quot;);

  // Vide le magasin d&apos;objet
  var objectStoreRequest = objectStore.clear();

  objectStoreRequest.onsuccess = function(event) {
  // rapporte le succès du nettoyage
  note.innerHTML += &apos;&lt;li&gt;Enregistrements effacées.&lt;/li&gt;&apos;;
  };
};
</pre>

<p class="note">Pour un exemple de travail complet, voir notre <a href="https://github.com/mdn/to-do-notifications/">To-do Notifications</a> app (<a href="http://mdn.github.io/to-do-notifications/">view example live</a>).</p>

<h2 id="Spécification">Spécification</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/IndexedDB/#widl-IDBObjectStore-clear-IDBRequest" class="external" hreflang="en">Indexed Database API<br><small lang="fr">La définition de &apos;clear()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Compatibilité avec les navigateurs</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">Nous convertissons les données de compatibilité dans un format JSON</a></strong>.
            Ce tableau de compatibilité utilise encore l&apos;ancien format
            car nous n&apos;avons pas encore converti les données qu&apos;il contient.
            <strong><a href="/fr/docs/MDN/Contribute/Structures/Compatibility_tables">Vous pouvez nous aider en contribuant !</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Ordinateur</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Fonctionnalité</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Support basique</td>
   <td>23<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">webkit</a></span><br>
    24</td>
   <td>10 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes">moz</a></span><br>
    <a href="/en-US/Firefox/Releases/16">16.0</a> (16.0)</td>
   <td>10, en partie</td>
   <td>15</td>
   <td>7.1</td>
  </tr>
  <tr>
   <td>Disponible dans workers</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Fonctionnalité</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Support basique</td>
   <td>4.4</td>
   <td>22.0 (22.0)</td>
   <td>1.0.1</td>
   <td>10</td>
   <td>22</td>
   <td>8</td>
  </tr>
  <tr>
   <td>Disponible dans workers</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/fr/docs/Web/API/IndexedDB_API/Using_IndexedDB"><code>Utiliser IndexedDB</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBDatabase"><code>Débuter une connexion</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBTransaction"><code>Utilisé les transactions</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBKeyRange"><code>Définir l&apos;intervalle des clés</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBObjectStore"><code>Accès aux magasins d&apos;objets</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBCursor"><code>Utiliser les curseur</code></a></li>
 <li>Exemple de référence: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" class="external">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" class="external">view example live</a>.)</li>
</ul>
