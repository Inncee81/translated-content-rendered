---
title: IDBObjectStore.createIndex()
slug: Web/API/IDBObjectStore/createIndex
translation_of: Web/API/IDBObjectStore/createIndex
---
<p></p><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/fr/docs/Web/API/IndexedDB_API">IndexedDB API</a></strong></li><li><strong><a href="/fr/docs/Web/API/IDBObjectStore"><code>IDBObjectStore</code></a></strong></li><li class="toggle"><details open><summary>Propriétés</summary><ol><li><a href="/fr/docs/Web/API/IDBObjectStore/autoIncrement"><code>autoIncrement</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/indexNames"><code>indexNames</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/keyPath"><code>keyPath</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/name"><code>name</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/transaction"><code>transaction</code></a></li></ol></details></li><li class="toggle"><details open><summary>Méthodes</summary><ol><li><a href="/fr/docs/Web/API/IDBObjectStore/add"><code>add()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/clear"><code>clear()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/count"><code>count()</code></a></li><li><em><code>createIndex()</code></em></li><li><a href="/fr/docs/Web/API/IDBObjectStore/delete"><code>delete()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/deleteIndex"><code>deleteIndex()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/get"><code>get()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getAll"><code>getAll()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getAllKeys"><code>getAllKeys()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/getKey"><code>getKey()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/index"><code>index()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/openCursor"><code>openCursor()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/openKeyCursor"><code>openKeyCursor()</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStore/put"><code>put()</code></a></li></ol></details></li><li class="toggle"><details open><summary>Événements</summary><ol><li><a href="/fr/docs/Web/Events/upgradeneeded"><code>upgradeneeded</code></a></li><li><a href="/fr/docs/Web/Events/complete"><code>complete</code></a></li><li><a href="/fr/docs/Web/Events/abort"><code>abort</code></a></li><li><a href="/fr/docs/Web/Events/success"><code>success</code></a></li><li><a href="/fr/docs/Web/Events/error"><code>error</code></a></li><li><a href="/fr/docs/Web/Events/blocked"><code>blocked</code></a></li><li><a href="/fr/docs/Web/Events/versionchange"><code>versionchange</code></a></li><li><a href="/fr/docs/Web/Events/close"><code>close</code></a></li></ol></details></li><li class="toggle"><details open><summary>Pages liées à IndexedDB</summary><ol><li><a href="/fr/docs/Web/API/IDBCursor"><code>IDBCursor</code></a></li><li><a href="/fr/docs/Web/API/IDBCursorSync"><code>IDBCursorSync</code></a></li><li><a href="/fr/docs/Web/API/IDBCursorWithValue"><code>IDBCursorWithValue</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabase"><code>IDBDatabase</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabaseException"><code>IDBDatabaseException</code></a></li><li><a href="/fr/docs/Web/API/IDBDatabaseSync"><code>IDBDatabaseSync</code></a></li><li><a href="/fr/docs/Web/API/IDBEnvironment"><code>IDBEnvironment</code></a></li><li><a href="/fr/docs/Web/API/IDBEnvironmentSync"><code>IDBEnvironmentSync</code></a></li><li><a href="/fr/docs/Web/API/IDBFactory"><code>IDBFactory</code></a></li><li><a href="/fr/docs/Web/API/IDBFactorySync"><code>IDBFactorySync</code></a></li><li><a href="/fr/docs/Web/API/IDBIndex"><code>IDBIndex</code></a></li><li><a href="/fr/docs/Web/API/IDBIndexSync"><code>IDBIndexSync</code></a></li><li><a href="/fr/docs/Web/API/IDBKeyRange"><code>IDBKeyRange</code></a></li><li><a href="/fr/docs/Web/API/IDBObjectStoreSync"><code>IDBObjectStoreSync</code></a></li><li><a href="/fr/docs/Web/API/IDBOpenDBRequest"><code>IDBOpenDBRequest</code></a></li><li><a href="/fr/docs/Web/API/IDBRequest"><code>IDBRequest</code></a></li><li><a href="/fr/docs/Web/API/IDBTransaction"><code>IDBTransaction</code></a></li><li><a href="/fr/docs/Web/API/IDBTransactionSync"><code>IDBTransactionSync</code></a></li><li><a href="/fr/docs/Web/API/IDBVersionChangeEvent"><code>IDBVersionChangeEvent</code></a></li><li><a href="/fr/docs/Web/API/IDBVersionChangeRequest"><code>IDBVersionChangeRequest</code></a></li></ol></details></li></ol></section><p></p>

<p>La méthode <strong><code>createIndex()</code></strong> de l&apos;interface <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>IDBObjectStore</code></a> met en place sur le magasin d&apos;objet <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>relié</code></a> un nouvel index et en renvoie l&apos;<a href="/fr/docs/Web/API/IDBIndex" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>accès</code></a>.</p>

<div class="note">
<p>Note: cette méthode ne peut être appelé que si la transaction de l&apos;accès au magasin d&apos;objet est en mode VersionChange.</p>
</div>

<p></p><div class="note notecard"><strong>Note :</strong> Cette fonctionnalité est disponible via les <a href="/fr/docs/Web/API/Web_Workers_API">Web Workers</a>.</div><p></p>

<h2 id="Syntaxe">Syntaxe</h2>

<pre style="font-size: 14px;" class="brush: js">objectStore.createIndex(nomIndex, nomCle, parametresIndexOptionnel);</pre>

<h2 id="Paramètres">Paramètres</h2>

<dl>
 <dt>nomIndex</dt>
 <dd>Le nom de l&apos;index que l&apos;on veut ajouter. Il est possible d&apos;ajouter un index avec un nom vide.</dd>
 <dt>nomCle</dt>
 <dd>Le nom de clé qu&apos;utilise l&apos;index. Il est possible d&apos;ajouter un index sans nom de clé.</dd>
 <dt>parametresIndexOptionnel <span class="optional optionalInline notecard inline">Facultatif</span></dt>
 <dd>
 <p>Un objet optionnel pouvant inclure une ou plusieurs des propriétés suivantes:</p>

 <table class="standard-table">
  <thead>
   <tr>
    <th scope="col">Propriété</th>
    <th scope="col">Description</th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <td><code>unique</code></td>
    <td>Si true, l&apos;index empêcheras la duplication d&apos;une clé.</td>
   </tr>
   <tr>
    <td><code>multiEntry</code></td>
    <td>Si true, l&apos;index ajoutera une entrée pour chaque élément de tableau quand le nom de clé de clé est résolue. Si false, il ajoutera un seule entrée contenant le tableau.</td>
   </tr>
   <tr>
    <td><code>locale</code></td>
    <td>
     <p>Actuellement uniquement dans Firefox 43+ , cela vous permet de spécifier des paramètres de localisation pour l&apos;index. Toutes les opérations de tri effectuées sur les données via des intervalle de clé obéirons aux règles locales de tri (voir <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB#Locale-aware_sorting">trie dans localisation courante</a>, en). Vous pouvez spécifier sa valeur de trois façons différentes:</p>

     <ul>
      <li><code>string</code>: une chaîne de caractère contenant le code de la localisation , par exemple &apos;fr&apos; ou <code>&apos;en-US&apos;</code>.</li>
      <li><code>auto</code>: La localisation par défaut est utilisé (peut être régler par l&apos;utilisateur).</li>
      <li><code>null or undefined</code>: Les règles de tri par défaut de javaScript seront utilisées.</li>
     </ul>
    </td>
   </tr>
  </tbody>
 </table>
 </dd>
</dl>

<h2 id="Renvoie">Renvoie</h2>

<p>L&apos;<a href="/fr/docs/Web/API/IDBIndex" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>accès</code></a> au nouvel index.</p>

<h2 id="Exceptions">Exceptions</h2>

<dl>
 <dt><code>InvalidStateError</code></dt>
 <dd>Cette <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>exeption</code></a> si la <a href="/fr/docs/Web/API/IDBTransaction" title="L&apos;interface IDBTransaction de l&apos;API IndexedDB fournit une transaction statique asynchrone vers une base de données grâce à des attributs de gestion d&apos;évènementns. Toutes les opérations de lecture et d&apos;écriture de données sont effectuées au sein de transaction. Il est possible d&apos;utiliser IDBDatabase afin d&apos;initier des transactions puis IDBTransaction afin de paramétrer le mode de la transaction (c&apos;est-à-dire s&apos;il est en lecture seule ou en lecture/écriture) et d&apos;accéder à un objet IDBObjectStore pour réaliser une requête. On peut également utiliser IDBTransaction pour interrompre une requête."><code>transaction</code></a> dont dépend cet <a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>accès</code></a> au magasin d&apos;objet n&apos;est pas en <a href="/fr/docs/Web/API/IDBTransaction/mode" title="La propriété mode de l&apos;interface IDBTransaction renvoie le mode d&apos;accès aux données des magasins d&apos;objet pendant la transaction (autrement dit, s&apos;agit-il d&apos;une transaction en lecture seule ou d&apos;un accès en écriture ?). La valeur par défaut est readonly."><code>mode</code></a> <code>versionchange</code>.</dd>
 <dt><code>TransactionInactiveError</code></dt>
 <dd>Cette <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>exeption</code></a> si la <a href="/fr/docs/Web/API/IDBTransaction" title="L&apos;interface IDBTransaction de l&apos;API IndexedDB fournit une transaction statique asynchrone vers une base de données grâce à des attributs de gestion d&apos;évènementns. Toutes les opérations de lecture et d&apos;écriture de données sont effectuées au sein de transaction. Il est possible d&apos;utiliser IDBDatabase afin d&apos;initier des transactions puis IDBTransaction afin de paramétrer le mode de la transaction (c&apos;est-à-dire s&apos;il est en lecture seule ou en lecture/écriture) et d&apos;accéder à un objet IDBObjectStore pour réaliser une requête. On peut également utiliser IDBTransaction pour interrompre une requête."><code>transaction</code></a> de l&apos;<a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>accès</code></a> au magasin d’objet est inactive.
 <p class="note">Dans les versions de Firefox antérieur à 41, une <code>InvalidStateError</code> est levé dans ce cas aussi, ce qui est trompeur. Cela a été corrigé (voir <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1176165" class="external external-icon" title="FIXED: Fix error codes for {create,delete}{ObjectStore,Index}">bug 1176165</a> ).</p>
 </dd>
 <dt><code>ConstraintError</code></dt>
 <dd>Cette <a href="/fr/docs/Web/API/DOMException" title="L&apos;interface DOMException représente un évènement anormal (appelé exception) qui appraît suite à l&apos;appel d&apos;une méthode ou à l&apos;accès à une propriété d&apos;une API web. C&apos;est essentiellement lié à la façon dont les conditions d&apos;erreur sont décrites dans les API web."><code>exeption</code></a> si un index avec le même nom (case sensible) existe déjà sur le magasin d&apos;objet.</dd>
</dl>

<h2 id="Exemple">Exemple</h2>

<p>Dans l&apos;exemple suivant on peut voir le gestionnaire d&apos;événement <a href="/fr/docs/Web/API/IDBOpenDBRequest/onupgradeneeded" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code><code>onupgradeneeded</code></code></a> être utilisé pour mètre à jour la structure de la base de donnée quand un numéro de version supérieur est chargé.</p>

<p>Des méthode <strong><code>createIndex()</code></strong> sont utilisées pour mètre en place différents index sur le magasin d&apos;objet <code>toDoList</code>.</p>

<pre class="brush: js">var db;

// Requête d&apos;ouverture de la base de données &quot;toDoList&quot;
var DBOpenRequest = window.indexedDB.open(&quot;toDoList&quot;, 4);

// Gère  l&apos;échec de l&apos;ouverture de la base
DBOpenRequest.onerror = function(event) {
  note.innerHTML += &apos;&lt;li&gt;La base de donnée n\&apos;as pas peut être ouverte.&lt;/li&gt;&apos;;
};

// Gère le succès de l&apos;ouverture de la base
DBOpenRequest.onsuccess = function(event) {
  note.innerHTML += &apos;&lt;li&gt;La base de données est ouverte.&lt;/li&gt;&apos;;

  //La connexion est affcté à la variable db.
  db = request.result;

  // Exécute une fonction d&apos;affichage displayData()
  displayData();
};

// Ce gestionnaire d&apos;événement nécessite  un nouveau numéro de version de la basse de données.
// Si la base n&apos;existe pas un nouveau numéro de version est généré par la méthode d&apos;ouverture de connexion window.indexDB.open .

DBOpenRequest.onupgradeneeded = function(event) {
  var db = event.target.result;

  db.onerror = function(event) {
    note.innerHTML += &apos;&lt;li&gt;Erreur de chargement de la base de données.&lt;/li&gt;&apos;;
  };

  // L&apos;Accès au magasin d&apos;objet &quot;toDoList&quot; de la base de donnée
  var objectStore = db.createObjectStore(&quot;toDoList&quot;, { keyPath: &quot;taskTitle&quot; });

  // Met en place les index du magasin d&apos;objet
  objectStore.createIndex(&quot;heures&quot;, &quot;hours&quot;, { unique: false });
  objectStore.createIndex(&quot;minutes&quot;, &quot;minutes&quot;, { unique: false });
  objectStore.createIndex(&quot;jour&quot;, &quot;day&quot;, { unique: false });
  objectStore.createIndex(&quot;mois&quot;, &quot;month&quot;, { unique: false });
  objectStore.createIndex(&quot;annee&quot;, &quot;year&quot;, { unique: false });
  objectStore.createIndex(&quot;notifiee&quot;, &quot;notified&quot;, { unique: false });
};
</pre>

<p class="note">Pour un exemple de travail complet, voir notre <a href="https://github.com/mdn/to-do-notifications/">To-do Notifications</a> app (<a href="http://mdn.github.io/to-do-notifications/">view example live</a>).</p>

<h2 id="Spécifications">Spécifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Spécification</th>
   <th scope="col">Statut</th>
   <th scope="col">Commentaire</th>
  </tr>
  <tr>
   <td><a lang="en" href="https://www.w3.org/TR/IndexedDB/#widl-IDBObjectStore-createIndex-IDBIndex-DOMString-name-DOMString-sequence-DOMString--keyPath-IDBIndexParameters-optionalParameters" class="external" hreflang="en">Indexed Database API<br><small lang="fr">La définition de &apos;createIndex()&apos; dans cette spécification.</small></a></td>
   <td><span class="spec-REC">Recommendation</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Browser_compatibility" name="Browser_compatibility">Compatibilité avec les navigateurs</h2>

<div><div class="warning notecard"><strong><a href="https://github.com/mdn/browser-compat-data">Nous convertissons les données de compatibilité dans un format JSON</a></strong>.
            Ce tableau de compatibilité utilise encore l&apos;ancien format
            car nous n&apos;avons pas encore converti les données qu&apos;il contient.
            <strong><a href="/fr/docs/MDN/Contribute/Structures/Compatibility_tables">Vous pouvez nous aider en contribuant !</a></strong></div>

<div class="htab">
    <a id="AutoCompatibilityTable" name="AutoCompatibilityTable"></a>
    <ul>
        <li class="selected"><a>Ordinateur</a></li>
        <li><a>Mobile</a></li>
    </ul>
</div></div>

<div id="compat-desktop">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Fonctionnalité</th>
   <th>Chrome</th>
   <th>Firefox (Gecko)</th>
   <th>Internet Explorer</th>
   <th>Opera</th>
   <th>Safari (WebKit)</th>
  </tr>
  <tr>
   <td>Support basique</td>
   <td>23<span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes" title="Le nom de cette fonctionnalité est préfixé par &apos;webkit&apos; car ce navigateur la considère expérimentale">webkit</a></span><br>
    24</td>
   <td>10 <span class="prefixBox prefixBoxInline notecard inline" title="prefix"><a href="/fr/docs/Web/Guide/Prefixes" title="Le nom de cette fonctionnalité est préfixé par &apos;moz&apos; car ce navigateur la considère expérimentale">moz</a></span><br>
    <a href="/en-US/Firefox/Releases/16" title="Sorti le 2012-10-09.">16.0</a> (16.0)</td>
   <td>10, en partie</td>
   <td>15</td>
   <td>7.1</td>
  </tr>
  <tr>
   <td>Disponible dans workers</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<div id="compat-mobile">
<table class="compat-table">
 <tbody>
  <tr>
   <th>Fonctionnalité</th>
   <th>Android</th>
   <th>Firefox Mobile (Gecko)</th>
   <th>Firefox OS</th>
   <th>IE Phone</th>
   <th>Opera Mobile</th>
   <th>Safari Mobile</th>
  </tr>
  <tr>
   <td>Support basique</td>
   <td>4.4</td>
   <td>22.0 (22.0)</td>
   <td>1.0.1</td>
   <td>10</td>
   <td>22</td>
   <td>8</td>
  </tr>
  <tr>
   <td>Disponible dans workers</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td>37.0 (37.0)</td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
   <td><span style="color: #888;" title="Veuillez mettre à jour avec la version minimale du support">(Oui)</span></td>
   <td><span style="color: rgb(255, 153, 0);" title="Compatibility unknown; please update this.">?</span></td>
  </tr>
 </tbody>
</table>
</div>

<h2 id="Voir_aussi">Voir aussi</h2>

<ul>
 <li><a href="/fr/docs/Web/API/IndexedDB_API/Using_IndexedDB" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>Utiliser IndexedDB</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBDatabase" title="L&apos;interface IDBDatabase de l&apos;API IndexedDB fournit une connexion à la base de données. On peut utiliser un objet IDBDatabase pour ouvrir une transaction sur la base de données puis ajouter, éditer ou supprimer des enregistrements de cette base de données. Cette interface constitue le seul moyen d&apos;accéder et de gérer les versions de la base de données."><code>Débuter une connexion</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBTransaction" title="L&apos;interface IDBTransaction de l&apos;API IndexedDB fournit une transaction statique asynchrone vers une base de données grâce à des attributs de gestion d&apos;évènementns. Toutes les opérations de lecture et d&apos;écriture de données sont effectuées au sein de transaction. Il est possible d&apos;utiliser IDBDatabase afin d&apos;initier des transactions puis IDBTransaction afin de paramétrer le mode de la transaction (c&apos;est-à-dire s&apos;il est en lecture seule ou en lecture/écriture) et d&apos;accéder à un objet IDBObjectStore pour réaliser une requête. On peut également utiliser IDBTransaction pour interrompre une requête."><code>Utilisé les transactions</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBKeyRange" title="L&apos;interface IDBKeyRange de l&apos;API IndexedDB représente un intervalle continue sur un type de donnée utilisé pour représenter des clés. Les enregistrements peuvent être récupérés depuis des objets IDBObjectStore et IDBIndex grâce à des clés ou à des intervalles de clé. Il est possible de préciser les bornes inférieure et supérieure de l&apos;intervalle. Si les clés sont des chaînes de caractères, on pourrait ainsi parcourir l&apos;ensemble des valeurs pour l&apos;intervalle A–Z."><code>Définir l&apos;intervalle des clés</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBObjectStore" title="L&apos;interface IDBObjectStore de l&apos;API IndexedDB est un accès aux magasins d&apos;objet de la base de données."><code>Accès aux magasins d&apos;objets</code></a></li>
 <li><a href="/fr/docs/Web/API/IDBCursor" title="Cette documentation n&apos;a pas encore été rédigée, vous pouvez aider en contribuant !"><code>Utiliser les curseur</code></a></li>
 <li>Exemple de référence: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" class="external">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" class="external">view example live</a>.)</li>
</ul>
