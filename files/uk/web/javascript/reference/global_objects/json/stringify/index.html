---
title: JSON.stringify()
slug: Web/JavaScript/Reference/Global_Objects/JSON/stringify
tags:
  - JSON
  - JavaScript
  - stringify
  - Довідка
  - метод
translation_of: Web/JavaScript/Reference/Global_Objects/JSON/stringify
---
<div><section class="Quick_links" id="Quick_Links"><ol><li><strong><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects">Standard built-in objects</a></strong></li><li><strong><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/JSON"><code>JSON</code></a></strong></li><li data-default-state="open"><a href="#"><strong>Methods</strong></a><ol><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>JSON.parse()</code></a></li><li><em><code>JSON.stringify()</code></em></li></ol></li><li><strong>Inheritance:</strong></li><li><strong><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a></strong></li><li><a href="#"><strong>Properties</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/proto"><code>Object.prototype.__proto__</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor"><code>Object.prototype.constructor</code></a></li></ol></li><li><a href="#"><strong>Methods</strong></a><ol><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineGetter__"><code>Object.prototype.__defineGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/__defineSetter__"><code>Object.prototype.__defineSetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupGetter__"><code>Object.prototype.__lookupGetter__()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This deprecated API should no longer be used, but will probably still work."><i class="icon-thumbs-down-alt"> </i></span></span><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/__lookupSetter__"><code>Object.prototype.__lookupSetter__()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty"><code>Object.prototype.hasOwnProperty()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf"><code>Object.prototype.isPrototypeOf()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/propertyIsEnumerable"><code>Object.prototype.propertyIsEnumerable()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/toLocaleString"><code>Object.prototype.toLocaleString()</code></a></li><li><span class="sidebar-icon"><span class="icon-only-inline" title="This API has not been standardized."><i class="icon-warning-sign"> </i></span></span><span class="sidebar-icon"><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span></span><s class="obsoleteElement"><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/toSource"><code>Object.prototype.toSource()</code></a></s></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/toString"><code>Object.prototype.toString()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf"><code>Object.prototype.valueOf()</code></a></li><li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf"><code>Object.setPrototypeOf()</code></a></li></ol></li></ol></section></div>

<p>Метод <strong><code>JSON.stringify()</code></strong> подає об&apos;єкт чи <a href="/uk/docs/Glossary/Primitive">просту величину</a> як JSON-рядок, певним чином перетворюючи або оминаючи ті чи ті властивості, якщо вказано необов&apos;язковий другий аргумент — функцію або масив <code>replacer</code>.</p>

<div><iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/json-stringify.html" title="MDN Web Docs Interactive Example" width="100%"></iframe></div>

<p class="hidden">Джерело цих інтерактивних прикладів зберігається у репозиторії на GitHub. Якщо ви маєте бажання зробити свій внесок у проект інтерактивних прикладів - будь ласка, зклонуйте репозиторій <a href="https://github.com/mdn/interactive-examples">https://github.com/mdn/interactive-examples</a> та пришліть нам pull request.</p>

<h2 id="Синтаксис">Синтаксис</h2>

<pre class="syntaxbox notranslate"><code>JSON.stringify(<var>value</var>[, <var>replacer</var>[, <var>space</var>]])</code></pre>

<h3 id="Параметри">Параметри</h3>

<dl>
 <dt><code>value</code></dt>
 <dd>Значення, яке слід перетворити на рядок JSON.</dd>
 <dt><code>replacer</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Функція, що змінює значення перед їхнім перетворенням на JSON, або масив <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/String"><code>рядків</code></a> та <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>чисел</code></a>, що окреслюють множину властивостей, які буде включено у створений JSON-рядок. Якщо цей аргумент відсутній чи вказано <code>null</code>, до створеного JSON-рядка потраплять всі наявні властивості об&apos;єкта без змін.</dd>
 <dt><code>space</code> <span class="optional optionalInline notecard inline">Optional</span></dt>
 <dd>Значення типу <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> або <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Число"><code>Number</code></a> що використовується для додавання відступів у JSON задля покращення легкочитності. Якщо вказано число — воно означає кількість пропусків в одному відступі. Якщо передати число більше за 10, буде використано 10. Значення менші за 1 вказують на те що відступи не використовуватимуться. Якщо вказано рядок, то його (або перші 10 символів, якщо він задовгий) буде використано як відступ. Якщо ж параметр не вказано (або <code>null</code>), відступи не додаватимуться.</dd>
</dl>

<h3 id="Вертає">Вертає</h3>

<p>Рядок JSON, створений із вказаного значення.</p>

<h3 id="Винятки">Винятки</h3>

<p>Викидає виняток <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a> (&quot;cyclic object value&quot;) у випадку, якщо знайдено циклічне посилання.</p>

<h2 id="Опис">Опис</h2>

<p>Функція <code>JSON.stringify()</code> перетворює значення на рядок, що містить JSON-запис того значення:</p>

<ul>
 <li>Якщо значення має свій метод <a href="https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify$edit#toJSON()_behavior">toJSON()</a>, саме він буде відповідати за дані, що будуть серіалізовані.</li>
 <li>Об&apos;єкти <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a>, <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Число"><code>Number</code></a> та <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> в типовий спосіб перетворюються на відповідні <a href="/uk/docs/Glossary/Primitive">прості величини</a>;</li>
 <li><a href="/uk/docs/Glossary/%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D1%96%D1%8F">Функцію</a>, <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> або значення типу <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a> під час перетворення буде або вилучено (якщо знайдено в об&apos;єкті), або обернено на <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a> (якщо знайдено в масиві). Метод <code>JSON.stringify</code> також може вертати <code>undefined</code>, якщо йому передано «щирі» величини, як-от <code>JSON.stringify(function(){})</code> чи <code>JSON.stringify(undefined)</code>;</li>
 <li>Всі властивості, що мають за ключ величину типу <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a>, буде знехтувано, навіть якщо задіяно функцію <code>replacer</code>;</li>
 <li>Екземпляри <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Date"><code>Date</code></a> реалізовують функцію <code>toJSON()</code> шляхом повертання рядку (такого ж, як і <code>date.toISOString()</code>), тому вони будуть вважатись рядками.</li>
 <li>Такі числа, як <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Infinity"><code>Infinity</code></a> та <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/NaN"><code>NaN</code></a>, так як і об&apos;єкт <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a> будуть вважатися за <code>null</code>.</li>
 <li>Для всіх інших екземплярів <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Object"><code>Object</code></a>, включно з <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a>, <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a>, <a href="/uk/docs/Web/JavaScript/Reference/WeakMap"><code>WeakMap</code></a> та <a href="/uk/docs/Web/JavaScript/Reference/WeakSet"><code>WeakSet</code></a> будуть серіалізовані лише їх перелічувані поля.</li>
</ul>

<pre class="brush: js notranslate">JSON.stringify({});                   // &apos;{}&apos;
JSON.stringify(true);                 // &apos;true&apos;
JSON.stringify(&apos;foo&apos;);                // &apos;&quot;foo&quot;&apos;
JSON.stringify([1, &apos;false&apos;, false]);  // &apos;[1,&quot;false&quot;,false]&apos;
JSON.stringify([NaN, null, Infinity]); // &apos;[null,null,null]&apos;
JSON.stringify({ x: 5 });             // &apos;{&quot;x&quot;:5}&apos;

JSON.stringify(new Date(2006, 0, 2, 15, 4, 5))
// &apos;&quot;2006-01-02T15:04:05.000Z&quot;&apos;

JSON.stringify({ x: 5, y: 6 });
// &apos;{&quot;x&quot;:5,&quot;y&quot;:6}&apos; or &apos;{&quot;y&quot;:6,&quot;x&quot;:5}&apos;
JSON.stringify([new Number(1), new String(&apos;false&apos;), new Boolean(false)]);
// &apos;[1,&quot;false&quot;,false]&apos;

JSON.stringify({ x: [10, undefined, function(){}, Symbol(&apos;&apos;)] });
// &apos;{&quot;x&quot;:[10,null,null,null]}&apos;

// Стандартні структури даних
JSON.stringify([new Set([1]), new Map([[1, 2]]), new WeakSet([{a: 1}]), new WeakMap([[{a: 1}, 2]])]);
// &apos;[{},{},{},{}]&apos;

// TypedArray
JSON.stringify([new Int8Array([1]), new Int16Array([1]), new Int32Array([1])]);
// &apos;[{&quot;0&quot;:1},{&quot;0&quot;:1},{&quot;0&quot;:1}]&apos;
JSON.stringify([new Uint8Array([1]), new Uint8ClampedArray([1]), new Uint16Array([1]), new Uint32Array([1])]);
// &apos;[{&quot;0&quot;:1},{&quot;0&quot;:1},{&quot;0&quot;:1},{&quot;0&quot;:1}]&apos;
JSON.stringify([new Float32Array([1]), new Float64Array([1])]);
// &apos;[{&quot;0&quot;:1},{&quot;0&quot;:1}]&apos;

// toJSON()
JSON.stringify({ x: 5, y: 6, toJSON(){ return this.x + this.y; } });
// &apos;11&apos;

// Значення типу Symbol:
JSON.stringify({ x: undefined, y: Object, z: Symbol(&apos;&apos;) });
// &apos;{}&apos;
JSON.stringify({ [Symbol(&apos;foo&apos;)]: &apos;foo&apos; });
// &apos;{}&apos;
JSON.stringify({ [Symbol.for(&apos;foo&apos;)]: &apos;foo&apos; }, [Symbol.for(&apos;foo&apos;)]);
// &apos;{}&apos;
JSON.stringify({ [Symbol.for(&apos;foo&apos;)]: &apos;foo&apos; }, function(k, v) {
  if (typeof k === &apos;symbol&apos;) {
    return &apos;a symbol&apos;;
  }
});
// &apos;{}&apos;

// Неперелічувані властивості:
JSON.stringify( Object.create(null, { x: { value: &apos;x&apos;, enumerable: false }, y: { value: &apos;y&apos;, enumerable: true } }) );
// &apos;{&quot;y&quot;:&quot;y&quot;}&apos;

</pre>

<h3 id="Параметер_replacer">Параметер <code>replacer</code></h3>

<p>Параметр <code>replacer</code> може бути функцією або масивом. Якщо то функція, вона прийматиме два параметри: ключ та значення, яке са́ме перетворюється. Об&apos;єкт, якому належить перетворювана властивість, доступний всередині <code>replacer</code> через <code>this</code>. Спершу функцію буде викликано з порожнім рядком замість ключа й тим об&apos;єктом, який має бути перетворено, а відтак для кожної властивості того об&apos;єкта буде здійснено окремий виклик <code>replacer</code>. Кожен виклик має вертати значення, що належить додати до рядка JSON:</p>

<ul>
 <li>Якщо повернути <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Число"><code>Number</code></a>, до JSON буде додано текстовий запис числа як значення властивості;</li>
 <li>Якщо повернути <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a>, до JSON буде додано рядок як значення властивості;</li>
 <li>Якщо повернути <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a>, до JSON буде додано «true» або «false» як значення властивості;</li>
 <li>Якщо повернути <code>null</code>, <code>null</code> і буде додано до JSON-рядку.</li>
 <li>Якщо повернути інший об&apos;єкт або масив, його буде рекурсивно перетворено на JSON в той самий спосіб (викликаючи <code>replacer</code> для кожної його властивості), а тоді додано до JSON як значення властивості (якщо повернутий об&apos;єкт є функцією, до JSON нічого додано не буде);</li>
 <li>Якщо повернути <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>, властивість не потрапить до JSON.</li>
</ul>

<div class="note notecard"><strong>Заувага:</strong> Вилучати елементи масиву за допомогою <code>replacer</code> неможливо — якщо повернути <code>undefined</code>, значення елемента лише обернеться на <code>null</code>.</div>

<div class="note notecard"><strong>Note:</strong> If you wish the replacer to distinguish an initial object from a key with an empty string property (since both would give the empty string as key and potentially an object as value), you will have to keep track of the iteration count (if it is beyond the first iteration, it is a genuine empty string key).</div>

<h4 id="Приклад_із_функцією">Приклад із функцією</h4>

<pre class="brush: js line-numbers  language-js notranslate"><code class="language-js"><span class="keyword token">function</span> <span class="function token">replacer</span><span class="punctuation token">(</span>key<span class="punctuation token">,</span> value<span class="punctuation token">)</span> <span class="punctuation token">{</span>
  <span class="comment token">// Фільтрація властивостей</span>
  <span class="keyword token">if</span> <span class="punctuation token">(</span><span class="keyword token">typeof</span> value <span class="operator token">===</span> <span class="string token">&apos;string&apos;</span><span class="punctuation token">)</span> <span class="punctuation token">{</span>
    <span class="keyword token">return</span> undefined<span class="punctuation token">;</span>
  <span class="punctuation token">}</span>
  <span class="keyword token">return</span> value<span class="punctuation token">;</span>
<span class="punctuation token">}</span>

<span class="keyword token">var</span> foo <span class="operator token">=</span> <span class="punctuation token">{</span>foundation<span class="punctuation token">:</span> <span class="string token">&apos;Mozilla&apos;</span><span class="punctuation token">,</span> model<span class="punctuation token">:</span> <span class="string token">&apos;box&apos;</span><span class="punctuation token">,</span> week<span class="punctuation token">:</span> <span class="number token">45</span><span class="punctuation token">,</span> transport<span class="punctuation token">:</span> <span class="string token">&apos;car&apos;</span><span class="punctuation token">,</span> month<span class="punctuation token">:</span> <span class="number token">7</span><span class="punctuation token">}</span><span class="punctuation token">;</span>
JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>foo<span class="punctuation token">,</span> replacer<span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="comment token">// &apos;{&quot;week&quot;:45,&quot;month&quot;:7}&apos;</span></code></pre>

<h4 id="Приклад_із_масивом">Приклад із масивом</h4>

<p>Якщо <code>replacer</code> являється масивом, його значення позначають імена властивостей вхідного об&apos;єкту, що будуть включені в результат.</p>

<p> </p>

<pre class="brush: js line-numbers  language-js notranslate"><code class="language-js">JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>foo<span class="punctuation token">,</span> <span class="punctuation token">[</span><span class="string token">&apos;week&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;month&apos;</span><span class="punctuation token">]</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="comment token">// &apos;{&quot;week&quot;:45,&quot;month&quot;:7}&apos;, будуть збережені лише властивості &quot;week&quot; та &quot;month&quot;</span></code></pre>

<h3 id="Параметер_space">Параметер <code>space</code></h3>

<p>Аргумент <code>space</code> може застосовуватись для управління відступами в результуючому рядку. Якщо в якості аргументу дано число, кожен із наступних рівнів серіалізації матиме відступ у вигляді відповідної поданому числу кількості пробілів (але не більше 10). Якщо ж в якості аргументу дано рядок, його і буде використано для виконання відступу (або ж 10 перших символів, якщо сам рядок довший).</p>

<pre class="brush: js notranslate">JSON.stringify({ a: 1, b: {c: 2} }, null, 3);
// Вертає рядок:
// &apos;{
//    &quot;a&quot;: 1,
//    &quot;b&quot;: {
//       &quot;c&quot;: 2
//    }
// }&apos;
</pre>

<p>А тут замість пропусків буде вжито символ табуляції:</p>

<pre class="brush: js notranslate">JSON.stringify({ a: 1, b: {c: 2} }, null, &apos;\t&apos;);
// Вертає рядок:
// &apos;{
//     &quot;a&quot;: 1,
//     &quot;b&quot;: {
//         &quot;c&quot;: 2
//     }
// }&apos;
</pre>

<h3 id="Особливий_метод_toJSON">Особливий метод <code>toJSON()</code></h3>

<p>Й хоча методи перетворюваних об&apos;єктів загалом нехтуються, метод з ім&apos;ям <code>toJSON</code> має особливе призначення. Якщо перетворюваний об&apos;єкт має метод <code>toJSON()</code>, його буде викликано, а повернене значення вжито (перетворено на JSON) замість самого об&apos;єкту. <code>JSON.stringify()</code> викликає метод <code>toJSON</code> з одним аргументом:</p>

<p> </p>

<ul>
 <li>якщо цей об&apos;єкт являється значенням властивості, то ім&apos;я властивості;</li>
 <li>якщо це масив, то рядок із індексом масиву;</li>
 <li>порожній рядок, якщо <code>JSON.stringify()</code> було викликано прямо на цьому об&apos;єкті</li>
</ul>

<p>Наприклад:</p>

<p> </p>

<pre class="brush: js line-numbers  language-js notranslate"><code class="language-js"><span class="keyword token">var</span> obj <span class="operator token">=</span> <span class="punctuation token">{</span>
    data<span class="punctuation token">:</span> <span class="string token">&apos;data&apos;</span><span class="punctuation token">,</span>

    <span class="function token">toJSON</span><span class="punctuation token">(</span>key<span class="punctuation token">)</span><span class="punctuation token">{</span>
        <span class="keyword token">if</span><span class="punctuation token">(</span>key<span class="punctuation token">)</span>
            <span class="keyword token">return</span> `Тепер я вкладений об&apos;єкт під ключем <span class="string token">&apos;${key}&apos;</span>`<span class="punctuation token">;</span>

        <span class="keyword token">else</span>
            <span class="keyword token">return</span> <span class="keyword token">this</span><span class="punctuation token">;</span>
    <span class="punctuation token">}</span>
<span class="punctuation token">}</span><span class="punctuation token">;</span>

JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>obj<span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="comment token">// &apos;{&quot;data&quot;:&quot;data&quot;}&apos;</span>

JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span><span class="punctuation token">{</span> obj <span class="punctuation token">}</span><span class="punctuation token">)</span>
<span class="comment token">// &apos;{&quot;obj&quot;:&quot;Тепер я вкладений об&apos;єкт під ключем &apos;obj&apos;&quot;}&apos;</span>

JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span><span class="punctuation token">[</span> obj <span class="punctuation token">]</span><span class="punctuation token">)</span>
<span class="comment token">// &apos;[&quot;Тепер я вкладений об&apos;єкт під ключем &apos;0&apos;&quot;]&apos;</span></code></pre>

<h3 id="Проблема_із_JSON.stringify_при_серіалізації_циклічних_посилань">Проблема із <code>JSON.stringify()</code> при серіалізації циклічних посилань</h3>

<p>Зауважте, що, оскільки <a href="https://www.json.org/">JSON format</a> не підтримує об&apos;єктні посилання (хоча є <a href="http://tools.ietf.org/html/draft-pbryan-zyp-json-ref-03">чорновик IETF</a>), при спробі кодування об&apos;єкту із циклічними посиланнями буде отримано <a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>.</p>

<pre class="brush: js example-bad line-numbers  language-js notranslate"><code class="language-js"><span class="keyword token">const</span> circularReference <span class="operator token">=</span> <span class="punctuation token">{</span><span class="punctuation token">}</span><span class="punctuation token">;</span>
circularReference<span class="punctuation token">.</span>myself <span class="operator token">=</span> circularReference<span class="punctuation token">;</span>

<span class="comment token">// Серіалізація циклічного посилання викине &quot;TypeError: cyclic object value&quot;</span>
JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>circularReference<span class="punctuation token">)</span><span class="punctuation token">;</span></code></pre>

<p>Для виконання серіалізації циклічних посилань ви можете використати бібліотеку, що їх підтримує (зокрема <a href="https://github.com/douglascrockford/JSON-js/blob/master/cycle.js">cycle.js</a> від Douglas Crockford), або ж реалізувати рішення самостійно, для чого знадобиться пошук і заміна (або видалення) циклічних посилань на підходящі для серіалізації значення.</p>

<h3 class="highlight-spanned" id="Тлумачення_отриманого_JSON_як_коду_JavaScript"><span class="highlight-span">Тлумачення отриманого JSON як коду JavaScript</span></h3>

<p>Завважте, що <a class="external external-icon" href="http://timelessrepo.com/json-isnt-a-javascript-subset" rel="noopener">JSON не є точнісінькою підмножиною JavaScript</a>. Два розділювачі (рядка та параграфу) не треба екранувати у JSON, але потрібно у JavaScript. Тож якщо ви маєте намір застосувати функцію <a class="new" href="https://developer.mozilla.org/uk/docs/Web/JavaScript/Reference/Global_Objects/eval" rel="nofollow" title="The documentation about this has not yet been written; please consider contributing!"><code>eval()</code></a> або скористатися <a class="external external-icon" href="https://uk.wikipedia.org/wiki/JSONP" rel="noopener" title="JSONP">JSONP</a>, доведеться здійснити невеличкі перетворення:</p>

<p> </p>

<pre class="brush: js line-numbers  language-js notranslate"><code class="language-js"><span class="keyword token">function</span> jsFriendlyJSONStringify <span class="punctuation token">(</span>s<span class="punctuation token">)</span> <span class="punctuation token">{</span>
    <span class="keyword token">return</span> JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>s<span class="punctuation token">)</span><span class="punctuation token">.</span>
        <span class="function token">replace</span><span class="punctuation token">(</span><span class="regex token">/\u2028/g</span><span class="punctuation token">,</span> <span class="string token">&apos;\\u2028&apos;</span><span class="punctuation token">)</span><span class="punctuation token">.</span>
        <span class="function token">replace</span><span class="punctuation token">(</span><span class="regex token">/\u2029/g</span><span class="punctuation token">,</span> <span class="string token">&apos;\\u2029&apos;</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="punctuation token">}</span>

<span class="keyword token">var</span> s <span class="operator token">=</span> <span class="punctuation token">{</span>
    a<span class="punctuation token">:</span> String<span class="punctuation token">.</span><span class="function token">fromCharCode</span><span class="punctuation token">(</span><span class="number token">0x2028</span><span class="punctuation token">)</span><span class="punctuation token">,</span>
    b<span class="punctuation token">:</span> String<span class="punctuation token">.</span><span class="function token">fromCharCode</span><span class="punctuation token">(</span><span class="number token">0x2029</span><span class="punctuation token">)</span>
<span class="punctuation token">}</span><span class="punctuation token">;</span>
<span class="keyword token">try</span> <span class="punctuation token">{</span>
    <span class="function token">eval</span><span class="punctuation token">(</span><span class="string token">&apos;(&apos;</span> <span class="operator token">+</span> JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>s<span class="punctuation token">)</span> <span class="operator token">+</span> <span class="string token">&apos;)&apos;</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="punctuation token">}</span> <span class="keyword token">catch</span> <span class="punctuation token">(</span><span class="class-name token">e</span><span class="punctuation token">)</span> <span class="punctuation token">{</span>
    console<span class="punctuation token">.</span><span class="function token">log</span><span class="punctuation token">(</span>e<span class="punctuation token">)</span><span class="punctuation token">;</span> <span class="comment token">// &quot;SyntaxError: unterminated string literal&quot;</span>
<span class="punctuation token">}</span>

<span class="comment token">// Якщо ловити виключення не має потреби</span>
<span class="function token">eval</span><span class="punctuation token">(</span><span class="string token">&apos;(&apos;</span> <span class="operator token">+</span> <span class="function token">jsFriendlyJSONStringify</span><span class="punctuation token">(</span>s<span class="punctuation token">)</span> <span class="operator token">+</span> <span class="string token">&apos;)&apos;</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

<span class="comment token">// console.log у Firefox знімає екранування Юнікоду, якщо</span>
<span class="comment token">// виводиться в консоль, тому застосуймо alert</span>
<span class="function token">alert</span><span class="punctuation token">(</span><span class="function token">jsFriendlyJSONStringify</span><span class="punctuation token">(</span>s<span class="punctuation token">)</span><span class="punctuation token">)</span><span class="punctuation token">;</span> <span class="comment token">// {&quot;a&quot;:&quot;\u2028&quot;,&quot;b&quot;:&quot;\u2029&quot;}</span></code></pre>

<h3 id="Приклад_застосування_JSON.stringify_із_localStorage">Приклад застосування <code>JSON.stringify()</code> із <code>localStorage</code></h3>

<p>У випадку, якщо ви хочете зберегти об&apos;єкт, створений вашим користувачем і дозволити відновити його навіть після закриття браузера, ось наступний приклад із моделлю застосування <code>JSON.stringify()</code>:</p>

<pre class="brush: js line-numbers  language-js notranslate"><code class="language-js"><span class="comment token">// Створення зразка JSON</span>
<span class="keyword token">var</span> session <span class="operator token">=</span> <span class="punctuation token">{</span>
  <span class="string token">&apos;screens&apos;</span><span class="punctuation token">:</span> <span class="punctuation token">[</span><span class="punctuation token">]</span><span class="punctuation token">,</span>
  <span class="string token">&apos;state&apos;</span><span class="punctuation token">:</span> <span class="keyword token">true</span>
<span class="punctuation token">}</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenA&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">450</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">250</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenB&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">650</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">350</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenC&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">750</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">120</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenD&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">250</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">60</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenE&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">390</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">120</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
session<span class="punctuation token">.</span>screens<span class="punctuation token">.</span><span class="function token">push</span><span class="punctuation token">(</span><span class="punctuation token">{</span> <span class="string token">&apos;name&apos;</span><span class="punctuation token">:</span> <span class="string token">&apos;screenF&apos;</span><span class="punctuation token">,</span> <span class="string token">&apos;width&apos;</span><span class="punctuation token">:</span> <span class="number token">1240</span><span class="punctuation token">,</span> <span class="string token">&apos;height&apos;</span><span class="punctuation token">:</span> <span class="number token">650</span> <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

<span class="comment token">// Конвертація рядка JSON через JSON.stringify()</span>
<span class="comment token">// далі збереження у localStorage із іменем &quot;session</span>&quot;
localStorage<span class="punctuation token">.</span><span class="function token">setItem</span><span class="punctuation token">(</span><span class="string token">&apos;session&apos;</span><span class="punctuation token">,</span> JSON<span class="punctuation token">.</span><span class="function token">stringify</span><span class="punctuation token">(</span>session<span class="punctuation token">)</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

<span class="comment token">// Приклад, як перетворити рядок, отриманий за допомогою  </span>
<span class="comment token">// JSON.stringify() і збережений у localStorage назад у JSON-об&apos;єкт</span>
<span class="keyword token">var</span> restoredSession <span class="operator token">=</span> JSON<span class="punctuation token">.</span><span class="function token">parse</span><span class="punctuation token">(</span>localStorage<span class="punctuation token">.</span><span class="function token">getItem</span><span class="punctuation token">(</span><span class="string token">&apos;session&apos;</span><span class="punctuation token">)</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

<span class="comment token">// Тепер змінна restoredSession містить об&apos;єкт, що був раніше збережений</span>
<span class="comment token">// у localStorage</span>
console<span class="punctuation token">.</span><span class="function token">log</span><span class="punctuation token">(</span>restoredSession<span class="punctuation token">)</span><span class="punctuation token">;</span></code></pre>

<h2 id="Специфікації">Специфікації</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Специфікація</th>
   <th scope="col">Статус</th>
   <th scope="col">Коментар</th>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.12.3" hreflang="en" lang="en">ECMAScript 5.1 (ECMA-262)<br><small lang="uk">The definition of &apos;JSON.stringify&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td>Первинне визначення. Запроваджено у JavaScript 1.7.</td>
  </tr>
  <tr>
   <td><a class="external" href="https://www.ecma-international.org/ecma-262/6.0/#sec-json.stringify" hreflang="en" lang="en">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="uk">The definition of &apos;JSON.stringify&apos; in that specification.</small></a></td>
   <td><span class="spec-Standard">Standard</span></td>
   <td> </td>
  </tr>
  <tr>
   <td><a class="external" href="https://tc39.es/ecma262/#sec-json.stringify" hreflang="en" lang="en">ECMAScript (ECMA-262)<br><small lang="uk">The definition of &apos;JSON.stringify&apos; in that specification.</small></a></td>
   <td><span class="spec-Living">Living Standard</span></td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Підтримка_веб-переглядачами">Підтримка веб-переглядачами</h2>

<div class="hidden">Таблиця сумісності на цій сторінці створена зі структурованих даних. Якщо ви хочете долучитися до розробки цих даних, пропонуйте нам свої pull request до репозиторію <a href="https://github.com/mdn/browser-compat-data">https://github.com/mdn/browser-compat-data</a>.</div>

<div><div class="bc-data" id="bcd:javascript.builtins.JSON.stringify"></div></div>

<h2 id="Див._також">Див. також</h2>

<ul>
 <li><a href="/uk/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>JSON.parse()</code></a></li>
 <li><a href="https://github.com/douglascrockford/JSON-js/blob/master/cycle.js">cycle.js</a> – Вводить дві функції: <code>JSON.decycle</code> та <code>JSON.retrocycle</code>. Вони дають можливість кодувати і декодувати циклічні структури і ділянки у розширений і зворотньо сумісний формат JSON.</li>
</ul>
